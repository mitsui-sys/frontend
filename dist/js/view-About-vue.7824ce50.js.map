{"version":3,"sources":["webpack:///./node_modules/rbush/rbush.min.js","webpack:///./node_modules/ol/control/ScaleLine.js","webpack:///./node_modules/ol-layerswitcher/dist/ol-layerswitcher.js","webpack:///./node_modules/ol/OverlayPositioning.js","webpack:///./node_modules/ol/Overlay.js","webpack:///./node_modules/ol/control/OverviewMap.js","webpack:///./src/components/MapPane.vue?e86d","webpack:///./src/views/About.vue?cd73","webpack:///./src/components/MapPane.vue?2b8e","webpack:///./node_modules/ol/Feature.js","webpack:///./node_modules/ol/style/Fill.js","webpack:///./node_modules/ol/geom/flat/interpolate.js","webpack:///./node_modules/ol/geom/flat/length.js","webpack:///./node_modules/ol/geom/LineString.js","webpack:///./node_modules/ol/style/Stroke.js","webpack:///./node_modules/ol/style/Image.js","webpack:///./node_modules/ol/colorlike.js","webpack:///./node_modules/ol/style/RegularShape.js","webpack:///./node_modules/ol/style/Circle.js","webpack:///./node_modules/ol/style/Style.js","webpack:///./node_modules/ol/style/TextPlacement.js","webpack:///./node_modules/ol/style/Text.js","webpack:///./node_modules/ol/layer/BaseVector.js","webpack:///./node_modules/ol/render/canvas/Instruction.js","webpack:///./node_modules/ol/render/VectorContext.js","webpack:///./node_modules/ol/render/canvas/Builder.js","webpack:///./node_modules/ol/render/canvas/ImageBuilder.js","webpack:///./node_modules/ol/render/canvas/LineStringBuilder.js","webpack:///./node_modules/ol/render/canvas/PolygonBuilder.js","webpack:///./node_modules/ol/geom/flat/straightchunk.js","webpack:///./node_modules/ol/render/canvas/TextBuilder.js","webpack:///./node_modules/ol/render/canvas/BuilderGroup.js","webpack:///./node_modules/ol/render/canvas/BuilderType.js","webpack:///./node_modules/ol/geom/flat/textpath.js","webpack:///./node_modules/ol/render/canvas/Executor.js","webpack:///./node_modules/ol/render/canvas/ExecutorGroup.js","webpack:///./node_modules/ol/render/canvas/Immediate.js","webpack:///./node_modules/ol/style/IconAnchorUnits.js","webpack:///./node_modules/ol/style/IconOrigin.js","webpack:///./node_modules/ol/style/IconImage.js","webpack:///./node_modules/ol/style/Icon.js","webpack:///./node_modules/ol/render/canvas/hitdetect.js","webpack:///./node_modules/ol/renderer/vector.js","webpack:///./node_modules/ol/renderer/canvas/VectorLayer.js","webpack:///./node_modules/ol/layer/Vector.js","webpack:///./node_modules/ol/structs/RBush.js","webpack:///./node_modules/ol/source/VectorEventType.js","webpack:///./node_modules/ol/loadingstrategy.js","webpack:///./node_modules/ol/format/FormatType.js","webpack:///./node_modules/ol/featureloader.js","webpack:///./node_modules/ol/source/Vector.js","webpack:///./node_modules/ol/render.js","webpack:///./node_modules/ol/geom/flat/geodesic.js","webpack:///./node_modules/ol/layer/Graticule.js","webpack:///./node_modules/ol/source/OSM.js","webpack:///./node_modules/ol/source/TileDebug.js","webpack:///./node_modules/ol/source/Stamen.js","webpack:///./node_modules/ol/proj/proj4.js","webpack:///./node_modules/proj4/lib/global.js","webpack:///./node_modules/proj4/lib/constants/values.js","webpack:///./node_modules/proj4/lib/constants/PrimeMeridian.js","webpack:///./node_modules/proj4/lib/constants/units.js","webpack:///./node_modules/proj4/lib/match.js","webpack:///./node_modules/proj4/lib/projString.js","webpack:///./node_modules/wkt-parser/parser.js","webpack:///./node_modules/wkt-parser/process.js","webpack:///./node_modules/wkt-parser/index.js","webpack:///./node_modules/proj4/lib/defs.js","webpack:///./node_modules/proj4/lib/parseCode.js","webpack:///./node_modules/proj4/lib/extend.js","webpack:///./node_modules/proj4/lib/common/msfnz.js","webpack:///./node_modules/proj4/lib/common/sign.js","webpack:///./node_modules/proj4/lib/common/adjust_lon.js","webpack:///./node_modules/proj4/lib/common/tsfnz.js","webpack:///./node_modules/proj4/lib/common/phi2z.js","webpack:///./node_modules/proj4/lib/projections/merc.js","webpack:///./node_modules/proj4/lib/projections/longlat.js","webpack:///./node_modules/proj4/lib/projections.js","webpack:///./node_modules/proj4/lib/constants/Ellipsoid.js","webpack:///./node_modules/proj4/lib/deriveConstants.js","webpack:///./node_modules/proj4/lib/constants/Datum.js","webpack:///./node_modules/proj4/lib/datum.js","webpack:///./node_modules/proj4/lib/nadgrid.js","webpack:///./node_modules/proj4/lib/Proj.js","webpack:///./node_modules/proj4/lib/datumUtils.js","webpack:///./node_modules/proj4/lib/datum_transform.js","webpack:///./node_modules/proj4/lib/adjust_axis.js","webpack:///./node_modules/proj4/lib/common/toPoint.js","webpack:///./node_modules/proj4/lib/checkSanity.js","webpack:///./node_modules/proj4/lib/transform.js","webpack:///./node_modules/proj4/lib/core.js","webpack:///./node_modules/mgrs/mgrs.js","webpack:///./node_modules/proj4/lib/Point.js","webpack:///./node_modules/proj4/lib/common/pj_enfn.js","webpack:///./node_modules/proj4/lib/common/pj_mlfn.js","webpack:///./node_modules/proj4/lib/common/pj_inv_mlfn.js","webpack:///./node_modules/proj4/lib/projections/tmerc.js","webpack:///./node_modules/proj4/lib/common/sinh.js","webpack:///./node_modules/proj4/lib/common/hypot.js","webpack:///./node_modules/proj4/lib/common/log1py.js","webpack:///./node_modules/proj4/lib/common/asinhy.js","webpack:///./node_modules/proj4/lib/common/gatg.js","webpack:///./node_modules/proj4/lib/common/clens.js","webpack:///./node_modules/proj4/lib/common/cosh.js","webpack:///./node_modules/proj4/lib/common/clens_cmplx.js","webpack:///./node_modules/proj4/lib/projections/etmerc.js","webpack:///./node_modules/proj4/lib/common/adjust_zone.js","webpack:///./node_modules/proj4/lib/projections/utm.js","webpack:///./node_modules/proj4/lib/common/srat.js","webpack:///./node_modules/proj4/lib/projections/gauss.js","webpack:///./node_modules/proj4/lib/projections/sterea.js","webpack:///./node_modules/proj4/lib/projections/stere.js","webpack:///./node_modules/proj4/lib/projections/somerc.js","webpack:///./node_modules/proj4/lib/projections/omerc.js","webpack:///./node_modules/proj4/lib/projections/lcc.js","webpack:///./node_modules/proj4/lib/projections/krovak.js","webpack:///./node_modules/proj4/lib/common/mlfn.js","webpack:///./node_modules/proj4/lib/common/e0fn.js","webpack:///./node_modules/proj4/lib/common/e1fn.js","webpack:///./node_modules/proj4/lib/common/e2fn.js","webpack:///./node_modules/proj4/lib/common/e3fn.js","webpack:///./node_modules/proj4/lib/common/gN.js","webpack:///./node_modules/proj4/lib/common/adjust_lat.js","webpack:///./node_modules/proj4/lib/common/imlfn.js","webpack:///./node_modules/proj4/lib/projections/cass.js","webpack:///./node_modules/proj4/lib/common/qsfnz.js","webpack:///./node_modules/proj4/lib/projections/laea.js","webpack:///./node_modules/proj4/lib/common/asinz.js","webpack:///./node_modules/proj4/lib/projections/aea.js","webpack:///./node_modules/proj4/lib/projections/gnom.js","webpack:///./node_modules/proj4/lib/common/iqsfnz.js","webpack:///./node_modules/proj4/lib/projections/cea.js","webpack:///./node_modules/proj4/lib/projections/eqc.js","webpack:///./node_modules/proj4/lib/projections/poly.js","webpack:///./node_modules/proj4/lib/projections/nzmg.js","webpack:///./node_modules/proj4/lib/projections/mill.js","webpack:///./node_modules/proj4/lib/projections/sinu.js","webpack:///./node_modules/proj4/lib/projections/moll.js","webpack:///./node_modules/proj4/lib/projections/eqdc.js","webpack:///./node_modules/proj4/lib/projections/vandg.js","webpack:///./node_modules/proj4/lib/projections/aeqd.js","webpack:///./node_modules/proj4/lib/projections/ortho.js","webpack:///./node_modules/proj4/lib/projections/qsc.js","webpack:///./node_modules/proj4/lib/projections/robin.js","webpack:///./node_modules/proj4/lib/projections/geocent.js","webpack:///./node_modules/proj4/lib/projections/tpers.js","webpack:///./node_modules/proj4/projs.js","webpack:///./node_modules/proj4/lib/index.js","webpack:///./node_modules/ol/source/WMTSRequestEncoding.js","webpack:///./node_modules/ol/uri.js","webpack:///./node_modules/ol/tilegrid/WMTS.js","webpack:///./node_modules/ol/source/WMTS.js","webpack:///src/components/MapPane.vue","webpack:///./src/components/MapPane.vue?4ceb","webpack:///./src/components/MapPane.vue?65e0","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?f1da","webpack:///./src/views/About.vue"],"names":["t","i","module","exports","this","r","e","a","h","n","o","s","l","Math","log","f","exp","u","sqrt","m","max","floor","c","min","p","d","x","length","_maxEntries","_minEntries","ceil","clear","indexOf","children","minX","minY","maxX","maxY","leaf","height","pop","push","prototype","all","_all","data","search","toBBox","collides","load","insert","_build","slice","_splitRoot","_insert","remove","splice","_condense","compareMinX","compareMinY","toJSON","fromJSON","apply","pow","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","v","M","_allDistMargin","sort","__extends","extendStatics","b","Object","setPrototypeOf","__proto__","Array","hasOwnProperty","call","TypeError","String","__","constructor","create","UNITS_PROP","Units","DEGREES","IMPERIAL","NAUTICAL","METRIC","US","LEADING_DIGITS","DEFAULT_DPI","ScaleLine","_super","opt_options","_this","options","className","undefined","bar","element","document","createElement","render","target","on","once","un","innerElement_","appendChild","viewState_","minWidth_","minWidth","renderedVisible_","renderedWidth_","renderedHTML_","addChangeListener","handleUnitsChanged_","setUnits","units","scaleBar_","scaleBarSteps_","steps","scaleBarText_","text","dpi_","dpi","getUnits","get","updateElement_","set","setDpi","viewState","center","projection","pointResolutionUnits","METERS","pointResolution","resolution","nominalCount","suffix","metersPerDegree","count","width","decimalCount","html","decimal","round","isNaN","style","display","createScaleBar","toFixed","innerHTML","scale","scaleBarText","mapScale","getScaleForResolution","toLocaleString","scaleSteps","stepWidth","backgroundColor","createMarker","createStepText","container","join","position","top","isLast","lengthString","margin","mpu","getMetersPerUnit","inchesPerMeter","parseFloat","toString","mapEvent","frameState","global","factory","Control","ol_Observable","LayerGroup","classCallCheck","instance","Constructor","createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","value","getter","inherits","subClass","superClass","possibleConstructorReturn","self","ReferenceError","CSS_PREFIX","LayerSwitcher","_Control","assign","tipLabel","collapseTipLabel","activationMode","startActive","label","collapseLabel","groupSelectStyle","getGroupSelectStyle","reverse","mapListeners","hiddenClassName","isTouchDevice_","shownClassName","button","setAttribute","panel","enableTouchScroll_","textContent","classList","add","onclick","evt","window","event","contains","hidePanel","showPanel","preventDefault","onmouseover","onmouseout","relatedTarget","map","_this2","unByKey","renderPanel","dispatchEvent","getMap","render_event","Event","ensureTopVisibleBaseLayerShown","firstChild","removeChild","forEachRecursive","_idx","_a","setGroupVisibility","setChildVisibility","ul","renderLayers_","_changedLyr","rendercomplete_event","grp","lyrs","getLayers","getArray","groups","getGroupsAndLayers","isBaseGroup","forEach","descendantVisibility","getLayersArray","state","getVisible","every","setVisible","group","groupVisible","groupIndeterminate","lastVisibleBaseLyr","lyr","_arr","setVisible_","filterFn","layers","_lyr","idx","arr","visible","li","lyrTitle","checkboxId","uuid","btn","toggleFold_","input","type","id","checked","indeterminate","onchange","htmlFor","_input","name","rsl","getView","getResolution","getMaxResolution","getMinResolution","elm","renderLayer_","fn","replace","random","scrollStartPos","addEventListener","scrollTop","touches","pageY","createEvent","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","CENTER_LEFT","CENTER_CENTER","CENTER_RIGHT","TOP_LEFT","TOP_CENTER","TOP_RIGHT","Property","ELEMENT","MAP","OFFSET","POSITION","POSITIONING","Overlay","insertFirst","stopEvent","pointerEvents","autoPan","animation","autoPanAnimation","autoPanMargin","rendered","transform_","mapPostrenderListenerKey","handleElementChanged","handleMapChanged","handleOffsetChanged","handlePositionChanged","handlePositioningChanged","setElement","setOffset","offset","setPositioning","positioning","OverlayPositioning","setPosition","getElement","getId","getOffset","getPosition","getPositioning","MapEventType","POSTRENDER","updatePixelPosition","getOverlayContainerStopEvent","getOverlayContainer","insertBefore","childNodes","performAutoPan","setMap","panIntoView","opt_panIntoViewOptions","getTargetElement","mapRect","getRect","getSize","overlayRect","panIntoViewOptions","myMargin","offsetLeft","offsetRight","offsetTop","offsetBottom","delta","abs","getCenterInternal","centerPx","getPixelFromCoordinateInternal","newCenterPx","panOptions","animateInternal","getCoordinateFromPixelInternal","duration","easing","size","box","getBoundingClientRect","offsetX","left","pageXOffset","offsetY","pageYOffset","isRendered","pixel","getPixelFromCoordinate","mapSize","updateRenderedPosition","y","posX","posY","transform","msTransform","getOptions","MAX_RATIO","MIN_RATIO","ControlledMap","arguments","createRenderer","Composite","PluggableMap","OverviewMap","boundHandleRotationChanged_","handleRotationChanged_","bind","collapsed_","collapsed","collapsible_","collapsible","rotateWithView_","rotateWithView","viewExtent_","collapseLabel_","label_","activeLabel","title","EventType","CLICK","handleClick_","ovmapDiv_","view_","view","ovmap_","ovmap","layer","addLayer","boxSizing","boxOverlay_","addOverlay","cssClasses","scope","overlay","overlayBox","computeDesiredMousePosition","mousePosition","clientX","clientY","move","coordinates","getEventCoordinateInternal","endMoving","setCenterInternal","removeEventListener","oldMap","oldView","unbindView_","setTarget","listenerKeys","ObjectEventType","PROPERTYCHANGE","handleMapPropertyChange_","bindView_","isDef","updateSize","resetExtent_","updateBoxAfterOvmapIsRendered_","MapProperty","VIEW","newView","TARGET","SIZE","View","getProjection","setView","ViewProperty","ROTATION","removeChangeListener","setRotation","getRotation","validateExtent_","extent","calculateExtentInternal","ovmapSize","ovview","ovextent","topLeftPixel","bottomRightPixel","boxWidth","boxHeight","ovmapWidth","ovmapHeight","recenter_","LN2","ratio","fitInternal","updateBox_","rotation","ovresolution","ovmapPostrenderKey_","handleToggle_","toggle","getCollapsible","setCollapsible","setCollapsed","getCollapsed","getRotateWithView","setRotateWithView","getOverviewMap","_vm","_h","$createElement","_c","_self","staticClass","staticRenderFns","_m","attrs","Feature","opt_geometryOrProperties","id_","geometryName_","style_","styleFunction_","geometryChangeKey_","handleGeometryChanged_","geometry","setGeometry","properties","setProperties","clone","hasProperties","getProperties","setGeometryName","getGeometryName","getGeometry","getStyle","setStyle","getStyleFunction","handleGeometryChange_","changed","CHANGE","opt_style","createStyleFunction","setId","obj","styles_1","isArray","Fill","color_","color","getColor","setColor","interpolatePoint","flatCoordinates","end","stride","fraction","opt_dest","opt_dimension","x1","y1","length_1","cumulativeLengths","x2","y2","index","dimension","dest","NaN","lineStringCoordinateAtM","extrapolate","coordinate","lo","hi","mid","m0","m1","lineStringLength","LineString","opt_layout","flatMidpoint_","flatMidpointRevision_","maxDelta_","maxDeltaRevision_","setCoordinates","setFlatCoordinates","appendCoordinate","lineString","layout","applyProperties","closestPointXY","closestPoint","minSquaredDistance","getExtent","getRevision","forEachSegment","callback","getCoordinateAtM","opt_extrapolate","GeometryLayout","XYM","XYZM","getCoordinates","inflate","getCoordinateAt","getLength","getFlatMidpoint","getSimplifiedGeometryInternal","squaredTolerance","simplifiedFlatCoordinates","XY","getType","GeometryType","LINE_STRING","intersectsExtent","setLayout","deflate","SimpleGeometry","Stroke","lineCap_","lineCap","lineDash_","lineDash","lineDashOffset_","lineDashOffset","lineJoin_","lineJoin","miterLimit_","miterLimit","width_","getLineCap","getLineDash","getLineDashOffset","getLineJoin","getMiterLimit","getWidth","setLineCap","setLineDash","setLineDashOffset","setLineJoin","setMiterLimit","setWidth","ImageStyle","opacity_","opacity","rotation_","scale_","scaleArray_","displacement_","displacement","getScale","getOpacity","getDisplacement","getScaleArray","getAnchor","getImage","pixelRatio","getHitDetectionImage","getPixelRatio","getImageState","getImageSize","getOrigin","setOpacity","setScale","listenImageChange","listener","unlistenImageChange","asColorLike","RegularShape","canvas_","hitDetectionCanvas_","fill_","fill","origin_","points_","points","radius_","radius","radius1","radius2_","radius2","angle_","angle","stroke_","stroke","anchor_","size_","renderOptions_","getFill","getPoints","getRadius","getRadius2","getAngle","getStroke","createHitDetectionCanvas_","image","renderOptions","context","draw_","canvas","ImageState","LOADED","calculateLineJoinSize_","strokeWidth","Infinity","r1","r2","tmp","alpha","PI","sin","miterRatio","k","maxr","bevelAdd","aa","bb","dd","ee","innerMiterRatio","innerLength","createRenderOptions","strokeStyle","maxRadius","translate","createPath_","fillStyle","lineWidth","drawHitDetectionCanvas_","arc","startAngle","step","angle0","radiusC","lineTo","cos","closePath","CircleStyle","setRadius","Circle","Style","geometry_","geometryFunction_","defaultGeometryFunction","image_","renderer_","renderer","hitDetectionRenderer_","hitDetectionRenderer","text_","zIndex_","zIndex","getRenderer","getText","getZIndex","setRenderer","setHitDetectionRenderer","getHitDetectionRenderer","getGeometryFunction","setFill","setImage","setStroke","setText","feature","setZIndex","toFunction","styleFunction","defaultStyles","createDefaultStyle","POINT","LINE","DEFAULT_FILL_COLOR","Text","font_","font","textAlign_","textAlign","textBaseline_","textBaseline","maxAngle_","maxAngle","placement_","placement","TextPlacement","overflow_","overflow","offsetX_","offsetY_","backgroundFill_","backgroundFill","backgroundStroke_","backgroundStroke","padding_","padding","getFont","getPlacement","getMaxAngle","getOverflow","getTextAlign","getTextBaseline","getOffsetX","getOffsetY","getBackgroundFill","getBackgroundStroke","getPadding","setOverflow","setFont","setMaxAngle","setOffsetX","setOffsetY","setPlacement","setTextAlign","setTextBaseline","setBackgroundFill","setBackgroundStroke","setPadding","RENDER_ORDER","BaseVectorLayer","baseOptions","renderBuffer","updateWhileAnimating","updateWhileInteracting","declutter_","declutter","renderBuffer_","updateWhileAnimating_","updateWhileInteracting_","getDeclutter","getFeatures","getRenderBuffer","getRenderOrder","getUpdateWhileAnimating","getUpdateWhileInteracting","renderDeclutter","declutterTree","setRenderOrder","renderOrder","Layer","BaseVector","Instruction","BEGIN_GEOMETRY","BEGIN_PATH","CIRCLE","CLOSE_PATH","CUSTOM","DRAW_CHARS","DRAW_IMAGE","END_GEOMETRY","FILL","MOVE_TO_LINE_TO","SET_FILL_STYLE","SET_STROKE_STYLE","STROKE","beginPathInstruction","closePathInstruction","VectorContext","drawCustom","drawGeometry","drawCircle","circleGeometry","drawFeature","drawGeometryCollection","geometryCollectionGeometry","drawLineString","lineStringGeometry","drawMultiLineString","multiLineStringGeometry","drawMultiPoint","multiPointGeometry","drawMultiPolygon","multiPolygonGeometry","drawPoint","pointGeometry","drawPolygon","polygonGeometry","drawText","setFillStrokeStyle","setImageStyle","imageStyle","opt_declutterImageWithText","setTextStyle","textStyle","CanvasBuilder","tolerance","maxExtent","maxLineWidth","beginGeometryInstruction1_","beginGeometryInstruction2_","bufferedMaxExtent_","instructions","tmpCoordinate_","hitDetectionInstructions","applyPixelRatio","dashArray","dash","appendFlatPointCoordinates","getBufferedMaxExtent","tmpCoord","myEnd","ii","appendFlatLineCoordinates","closed","skipFirst","lastRel","nextRel","lastXCoord","lastYCoord","nextCoord","skipped","Relationship","INTERSECTING","drawCustomCoordinates_","ends","builderEnds","builderEnd","beginGeometry","builderEndss","getStride","builderBegin","MULTI_POLYGON","getOrientedFlatCoordinates","endss","getEndss","myEnds","POLYGON","MULTI_LINE_STRING","getFlatCoordinates","getEnds","MULTI_POINT","endGeometry","finish","reverseHitDetectionInstructions","instruction","begin","fillStyleColor","strokeStyleColor","strokeStyleLineCap","strokeStyleLineDash","strokeStyleLineDashOffset","strokeStyleLineJoin","strokeStyleWidth","strokeStyleMiterLimit","createFill","fillInstruction","applyStroke","createStroke","updateFillStyle","currentFillStyle","updateStrokeStyle","currentStrokeStyle","currentLineCap","currentLineDash","currentLineDashOffset","currentLineJoin","currentLineWidth","currentMiterLimit","endGeometryInstruction","CanvasImageBuilder","hitDetectionImage_","imagePixelRatio_","anchorX_","anchorY_","height_","originX_","originY_","declutterImageWithText_","myBegin","opt_sharedData","anchor","hitDetectionImage","origin","CanvasLineStringBuilder","drawFlatCoordinates_","moveToLineToInstruction","lastStroke","CanvasPolygonBuilder","drawFlatCoordinatess_","numEnds","setFillStrokeStyles_","circleInstruction","matchingChunk","acos","m12","m23","x12","y12","x23","y23","chunkStart","chunkEnd","chunkM","start","TEXT_ALIGN","CanvasTextBuilder","labels_","textOffsetX_","textOffsetY_","textRotateWithView_","textRotation_","textFillState_","fillStates","textStrokeState_","strokeStates","textState_","textStates","textKey_","fillKey_","strokeKey_","fillState","strokeState","textState","geometryType","geometryWidths","getCenter","getFlatMidpoints","getFlatInteriorPoint","interiorPoints","getFlatInteriorPoints","beg_1","filter","w","keep","saveTextStates_","p0","p1","p2","p3","pixelRatio_1","flatOffset","flatEnd","oo","range","drawChars_","strokeKey","textKey","fillKey","baseline","textFillStyle","textStrokeStyle","textScale","textOffsetX","textOffsetY","textRotateWithView","textRotation","BATCH_CONSTRUCTORS","PolygonBuilder","Builder","ImageBuilder","LineStringBuilder","TextBuilder","BuilderGroup","tolerance_","maxExtent_","pixelRatio_","resolution_","buildersByZIndex_","builderInstructions","zKey","builders","builderKey","builderInstruction","getBuilder","builderType","zIndexKey","replays","replay","DEFAULT","IMAGE","TEXT","drawTextOnPath","startM","measureAndCacheTextWidth","cache","segmentLength","segmentM","advance","interpolate","beginX","beginY","startOffset","startLength","endM","endX","endY","flat","previousAngle","result","singleSegment","atan2","iStart","charLength","len","chars","substring","tmpExtent","p4","getDeclutterBox","replayImageOrLabelArgs","declutterBox","rtlRegEx","RegExp","fromCharCode","horizontalTextAlign","align","test","Executor","overlaps","alignFill_","coordinateCache_","renderedTransform_","pixelCoordinates_","viewRotation_","widths_","createLabel","lines","split","numLines","widths","lineHeight","renderWidth","contextInstructions","Context","OffscreenCanvasRenderingContext2D","CanvasRenderingContext2D","leftRight","replayTextBackground_","strokeInstruction","beginPath","moveTo","setStrokeStyle_","calculateImageOrLabelDimensions_","sheetWidth","sheetHeight","centerX","centerY","anchorX","anchorY","originX","originY","snapToPixel","fillStroke","boxW","boxH","boxX","boxY","drawImageX","drawImageY","drawImageW","drawImageH","canvasTransform","replayImageOrLabel_","contextScale","imageOrLabel","dimensions","strokePadding","intersects","origin_1","repeatSize","save","rotate","restore","drawLabelWithPointPlacement_","execute_","opt_featureCallback","opt_hitExtent","opt_declutterTree","pixelCoordinates","prevX","prevY","roundX","roundY","currentGeometry","pendingFill","pendingStroke","lastFillInstruction","lastStrokeInstruction","coordinateCache","viewRotation","viewRotationFromTransform","batchSize","dx","dy","coords","declutterImageWithText","labelWithAnchor","widthIndex","args","imageArgs","imageDeclutterBox","measurePixelRatio","pixelRatioScale","cachedWidths","pathLength","textLength","parts","drawChars","cc","part","i_1","ii_1","execute","executeHitDetection","ORDER","BuilderType","ExecutorGroup","allInstructions","opt_renderBuffer","overlaps_","executorsByZIndex_","hitDetectionContext_","hitDetectionTransform_","createExecutors_","clip","flatClipCoords","getClipCoords","executors","instructionByZindex","hasExecutors","candidates","forEachFeatureAtCoordinate","hitTolerance","declutteredFeatures","contextSize","newContext","hitExtent","clearRect","indexes","getPixelIndexArray","featureCallback","imageData","getImageData","result_1","j","executor","zs","keys","Number","isEmpty","opt_builderTypes","jj","builderTypes","circlePixelIndexArrayCache","maxDistanceSq","distances","distanceSq","distance","pixelIndex","CanvasImmediateRenderer","opt_squaredTolerance","opt_userTransform","context_","extent_","squaredTolerance_","userTransform_","contextFillState_","contextStrokeState_","contextTextState_","fillState_","strokeState_","imageAnchorX_","imageAnchorY_","imageHeight_","imageOpacity_","imageOriginX_","imageOriginY_","imageRotateWithView_","imageRotation_","imageScale_","imageWidth_","textScale_","tmpLocalTransform_","drawImages_","localTransform","globalAlpha","setTransform","drawImage","drawText_","setContextFillState_","setContextStrokeState_","setContextTextState_","strokeText","fillText","moveToLineTo_","close","drawRings_","GEOMETRY_COLLECTION","geometries","getGeometriesArray","simplifyTransformed","flatMidpoint","geometryExtent","flatMidpoints","flatInteriorPoint","flatInteriorPoints","contextFillState","contextStrokeState","contextTextState","imageSize","imageAnchor","imageOrigin","textFillStyleColor","textStrokeStyleColor","textStrokeStyleLineCap","textStrokeStyleLineDash","textStrokeStyleLineDashOffset","textStrokeStyleLineJoin","textStrokeStyleWidth","textStrokeStyleMiterLimit","textFont","textText","textTextAlign","textTextBaseline","FRACTION","PIXELS","taintedTestContext","IconImage","src","crossOrigin","imageState","Image","unlisten_","imageState_","src_","tainted_","isTainted_","dispatchChangeEvent_","handleImageError_","ERROR","unlistenImage_","handleImageLoad_","replaceColor_","fillRect","getSrc","IDLE","LOADING","ctx","getContext","globalCompositeOperation","imgData","g","putImageData","iconImage","Icon","normalizedAnchor_","anchorOrigin_","anchorOrigin","IconOrigin","anchorXUnits_","anchorXUnits","IconAnchorUnits","anchorYUnits_","anchorYUnits","crossOrigin_","img","imgSize","iconImage_","offset_","offsetOrigin_","offsetOrigin","setAnchor","iconImageSize","HIT_DETECT_RESOLUTION","createHitDetectionImageData","transforms","features","imageSmoothingEnabled","featureCount","indexFactor","featuresByZIndex","featureStyleFunction","styles","originalStyle","imgContext","byGeometryType","zIndexKeys","geomAndStyle","kk","hitDetect","resultFeatures","SIMPLIFY_TOLERANCE","GEOMETRY_RENDERERS","renderPointGeometry","renderLineStringGeometry","renderPolygonGeometry","renderMultiPointGeometry","renderMultiLineStringGeometry","renderMultiPolygonGeometry","renderGeometryCollectionGeometry","renderCircleGeometry","defaultOrder","feature1","feature2","parseInt","getSquaredTolerance","getTolerance","builderGroup","opt_declutterBuilderGroup","circleReplay","textReplay","renderFeature","replayGroup","opt_transform","loading","renderFeatureInternal","simplifiedGeometry","renderGeometry","geometryRenderer","getGeometries","lineStringReplay","polygonReplay","imageReplay","CanvasVectorLayerRenderer","vectorLayer","boundHandleStyleImageChange_","handleStyleImageChange_","animatingOrInteracting_","dirty_","hitDetectionImageData_","renderedFeatures_","renderedRevision_","renderedResolution_","renderedExtent_","wrappedRenderedExtent_","renderedRotation_","renderedCenter_","renderedProjection_","renderedRenderOrder_","replayGroup_","replayGroupChanged","declutterExecutorGroup","clipping","useContainer","renderWorlds","executorGroup","projectionExtent","vectorSource","getLayer","getSource","viewHints","ViewHint","ANIMATING","INTERACTING","multiWorld","getWrapX","canWrapX","worldWidth","endWorld","world","getRenderTransform","renderFrame","layerState","layerStatesArray","layerIndex","pixelTransform","inversePixelTransform","containerReused","preRender","clipped","layerExtent","clipUnrotated","postRender","css","Promise","resolve","source","startX","matches","match","lastIndexOf","executorGroups","some","item","handleFontsChanged","renderIfReadyAndVisible","prepareFrame","animating","interacting","frameStateExtent","vectorLayerRevision","vectorLayerRenderBuffer","vectorLayerRenderOrder","renderedExtent","loadExtents","gutter","loadExtent","declutterBuilderGroup","userTransform","userProjection","extent_1","userExtent_1","loadFeatures","dirty","userExtent","getFeaturesInExtent","replayGroupInstructions","getOverlaps","VectorLayer","Vector","RBush","opt_maxEntries","rbush_","items_","extents","values","items","uid","update","bbox","getAll","getInExtent","forEach_","forEachInExtent","opt_extent","concat","rbush","ADDFEATURE","CHANGEFEATURE","CLEAR","REMOVEFEATURE","FEATURESLOADSTART","FEATURESLOADEND","FEATURESLOADERROR","ARRAY_BUFFER","JSON","XML","withCredentials","loadFeaturesXhr","url","format","success","failure","xhr","XMLHttpRequest","open","FormatType","responseType","onload","status","responseText","responseXML","DOMParser","parseFromString","readFeatures","featureProjection","readProjection","onerror","send","dataProjection","addFeatures","VectorSourceEvent","opt_feature","opt_features","VectorSource","attributions","READY","wrapX","loader_","format_","url_","loader","strategy_","strategy","collection","useSpatialIndex","featuresRtree_","loadedExtentsRtree_","loadingExtentsCount_","nullGeometryFeatures_","idIndex_","uidIndex_","featureChangeKeys_","featuresCollection_","Collection","addFeaturesInternal","bindFeaturesCollection_","addFeature","addFeatureInternal","featureKey","addToIndex_","setupChangeEvents_","VectorEventType","handleFeatureChange_","valid","newFeatures","geometryFeatures","length_2","length_3","modifyingCollection","CollectionEventType","ADD","REMOVE","removeFeature","opt_fast","featureId","removeFeatureInternal","clearEvent","forEachFeature","forEachFeatureAtCoordinateDirect","forEachFeatureInExtent","intersectsCoordinate","forEachFeatureIntersectingExtent","getFeaturesCollection","getFeaturesAtCoordinate","getClosestFeatureToCoordinate","opt_filter","closestFeature","previousMinSquaredDistance","minDistance","getFeatureById","getFeatureByUid","getFormat","getUrl","sid","removeFromIdIndex_","hasFeature","loadedExtentsRtree","extentsToLoad","_loop_1","extentToLoad","alreadyLoaded","this_1","refresh","removeLoadedExtent","removed","setLoader","setUrl","Source","getVectorContext","canvasPixelRatio","coordinateToPixelTransform","line","geoM","fracA","fracB","fracM","geoA","geoB","geoStack","stack","fractionStack","fractions","maxIterations","meridian","lon","lat1","lat2","epsg4326Projection","frac","parallel","lat","lon1","lon2","DEFAULT_STROKE_STYLE","INTERVALS","Graticule","maxLines","targetSize","showLabels","lonLabelFormatter","latLabelFormatter","lonLabelPosition","latLabelPosition","lonLabelStyle","latLabelStyle","intervals","projection_","maxLat_","maxLon_","minLat_","minLon_","maxX_","maxY_","minX_","minY_","targetSize_","maxLines_","meridians_","parallels_","strokeStyle_","fromLonLatTransform_","toLonLatTransform_","projectionCenterLonLat_","bottomLeft_","bottomRight_","topLeft_","topRight_","meridiansLabels_","parallelsLabels_","lonLabelFormatter_","latLabelFormatter_","lonLabelPosition_","latLabelPosition_","lonLabelStyleBase_","lonLabelStyle_","latLabelStyleBase_","latLabelStyle_","drawLabels_","intervals_","setSource","loaderFunction","strategyFunction","featurePool_","lineStyle_","loadedExtent_","realWorldExtent","renderExtent","updateProjectionInfo","updateProjectionInfo_","createGraticule_","featuresColl","poolIndex","addMeridian_","minLat","maxLat","getMeridian_","geom","Point","addParallel_","minLon","maxLon","getParallel_","rotationCenter","rotationExtent","cr","sr","unrotatedWidth","unrotatedHeight","startWorld","labelsAtStart","inverted","vectorContext","textPoint","getMeridianPoint_","getParallelPoint_","interval","getInterval_","validCenterP","centerLonLat","cnt","centerLon","centerLat","validExtentP","validExtent","clampedLat","dist","bottom","clampedBottom","clampedTop","coordinate0","point","getMeridians","right","clampedLeft","clampedRight","coordinate1","getParallels","worldExtent","getWorldExtent","toLonLatTransform","split_1","opt_output","lonLatCoordinates","worldExtentP","ATTRIBUTION","OSM","attributionsCollapsible","cacheSize","imageSmoothing","maxZoom","opaque","reprojectionErrorThreshold","tileLoadFunction","transition","zDirection","XYZ","TileDebug","tileGrid","template","tile","z","getTileCoord","tileSize","getTileSize","strokeRect","ATTRIBUTIONS","LayerConfig","extension","ProviderConfig","minZoom","Stamen","provider","providerConfig","layerConfig","register","proj4","projCodes","defs","code","def","projName","Projection","axisOrientation","axis","metersPerUnit","to_meter","code1","proj1","code2","proj2","forward","inverse","WGS84","GOOGLE","PJD_3PARAM","PJD_7PARAM","PJD_GRIDSHIFT","PJD_WGS84","PJD_NODATUM","SRS_WGS84_SEMIMAJOR","SRS_WGS84_SEMIMINOR","SRS_WGS84_ESQUARED","SEC_TO_RAD","HALF_PI","SIXTH","RA4","RA6","EPSLN","D2R","R2D","FORTPI","TWO_PI","SPI","ft","ignoredChar","testkey","processedKey","lkey","toLowerCase","paramName","paramVal","paramOutname","paramObj","defData","trim","reduce","params","proj","datum","rf","lat_0","lat0","lat_1","lat_2","lat_ts","lon_0","long0","lon_1","long1","lon_2","long2","gamma","rectified_grid_angle","lonc","longc","x_0","x0","y_0","y0","k_0","k0","r_a","R_A","zone","south","utmSouth","towgs84","datum_params","unit","from_greenwich","pm","nadgrids","datumCode","legalAxis","substr","approx","NEUTRAL","KEYWORD","NUMBER","QUOTED","AFTERQUOTE","ENDED","whitespace","latin","keyword","endThings","digets","Parser","Error","level","place","root","currentObject","parseString","txt","parser","output","mapit","unshift","thing","out","newObj","sExpr","shift","convert","readCharicter","char","neutral","quoted","afterquote","number","word","afterItem","newObjects","rename","outName","inName","d2r","cleanWKT","wkt","local","PROJECTION","AXIS","axisOrder","UNIT","DATUM","SPHEROID","geogcs","GEOGCS","toMeter","sphere","ellps","TOWGS84","isFinite","renamer","list","lisp","that","charAt","EPSG","ESRI","IAU2000","console","testObj","testDef","codeWords","testWKT","codes","checkMercator","auth","checkProjStr","ext","testProj","parse","maybeProjStr","destination","con","eccent","sinphi","cosphi","sign","com","tan","phi","dphi","eccnth","atan","ts","init","es","msfnz","adjust_lon","tsfnz","phi2z","names","identity","pt","projs","merc","longlat","projStore","ellipseName","eccentricity","a2","b2","ep2","ellipse","datum_type","grids","wgs84","datumName","ch1903","ggrs87","nad83","nad27","potsdam","carthage","hermannskogel","osni52","ire65","rassadiran","nzgd49","osgb36","s_jtsk","beduaram","gunung_segara","rnb72","loadedNadgrids","nadgrid","DataView","isLittleEndian","detectLittleEndian","header","readHeader","nSubgrids","subgrids","readSubgrids","getNadgrids","parseNadgridString","optional","mandatory","grid","isNull","secondsToRadians","seconds","nFields","getInt32","warn","nSubgridFields","shiftType","decodeString","fromSemiMajorAxis","getFloat64","fromSemiMinorAxis","toSemiMajorAxis","toSemiMinorAxis","Uint8Array","buffer","gridOffset","subHeader","readGridHeader","nodes","readGridNodes","lngColumnCount","upperLongitude","lowerLongitude","longitudeInterval","latColumnCount","upperLatitude","lowerLatitude","latitudeInterval","ll","del","lim","gridNodeCount","cvs","mapNodes","longitudeShift","latitudeShift","gridHeader","nodesOffset","gridRecordLength","gridShiftRecords","record","getFloat32","latitudeAccuracy","longitudeAccuracy","srsCode","error","json","parseCode","ourProj","projections","datumDef","sphere_","ecc","datumObj","extend","Proj","compareDatums","geodeticToGeocentric","Rn","Sin_Lat","Sin2_Lat","Cos_Lat","Longitude","Latitude","Height","geocentricToGeodetic","P","RR","CT","ST","RX","RK","RN","CPHI0","SPHI0","CPHI","SPHI","SDPHI","iter","genau","genau2","maxiter","X","Y","Z","geocentricToWgs84","Dx_BF","Dy_BF","Dz_BF","Rx_BF","Ry_BF","Rz_BF","M_BF","geocentricFromWgs84","x_tmp","y_tmp","z_tmp","checkParams","source_a","source_es","gridShiftCode","applyGridShift","dest_a","dest_b","dest_es","destGridShiftResult","attemptedGrids","subgrid","epsilon","applySubgridShift","pin","ct","val","tb","nadInterpolate","dif","tol","inx","indx","frct","f00","f10","f11","f01","m11","m10","m00","m01","xin","yin","zin","denorm","crs","array","checkCoord","num","checkNotWGS","enforceAxis","toPoint","checkSanity","adjust_axis","datum_transform","transformer","from","to","transformedArray","checkProj","oProj","fromProj","toProj","coord","single","NUM_100K_SETS","SET_ORIGIN_COLUMN_LETTERS","SET_ORIGIN_ROW_LETTERS","I","O","accuracy","encode","LLtoUTM","mgrs","UTMtoLL","decode","toUpperCase","degToRad","deg","radToDeg","rad","LongOrigin","eccPrimeSquared","N","T","C","A","LongOriginRad","ZoneNumber","Lat","Long","eccSquared","LatRad","LongRad","UTMEasting","UTMNorthing","northing","easting","zoneNumber","zoneLetter","getLetterDesignator","utm","N1","T1","C1","R1","D","mu","phi1Rad","e1","topRight","LetterDesignator","seasting","snorthing","get100kID","setParm","get100kSetForZone","setColumn","setRow","getLetter100kID","column","row","parm","colOrigin","charCodeAt","rowOrigin","colInt","rowInt","rollover","twoLetter","mgrsString","testChar","hunK","sb","east100k","getEastingFromChar","north100k","getNorthingFromChar","getMinNorthing","remainder","accuracyBonus","sepEastingString","sepNorthingString","sep","sepEasting","sepNorthing","curCol","eastingValue","rewindMarker","curRow","northingValue","fromMGRS","mgrsStr","toMGRS","C00","C02","C04","C06","C08","C22","C44","C46","C48","C66","C68","C88","en","cphi","sphi","MAX_ITER","arg","pj_mlfn","pj_enfn","ml0","delta_lon","sin_phi","cos_phi","al","als","cs","tq","ml","pj_inv_mlfn","tan_phi","ds","temp","asin","log1py","hypot","cos_2B","B","pp","h1","h2","hr","arg_r","hr1","hr2","hi2","sin_arg_r","cos_arg_r","sinh_arg_i","sinh","arg_i","cosh_arg_i","cosh","hi1","tmerc","cgb","cbg","utg","gtu","np","Qn","gatg","Zb","clens","Ce","Cn","sin_Cn","cos_Cn","sin_Ce","cos_Ce","asinhy","clens_cmplx","dependsOn","adjust_zone","etmerc","esinp","rc","phic0","ratexp","K","srat","DEL_TOL","gauss","sinc0","cosc0","R2","sinc","cosc","cosl","rho","ssfn_","phit","eccen","coslat0","sinlat0","cons","ms1","X0","cosX0","sinX0","sinX","cosX","rh","sinlat","coslat","dlon","ce","Chi","phy0","lambda0","sinPhy0","semiMajorAxis","invF","flattening","e2","R","b0","k1","k2","k3","Sa1","Sa2","S","rotI","rotB","lambda","phy","prevPhy","iteration","TOL","isTypeA","typeAProjections","projectionName","cosph0","F","H","L","sinph0","J","gamma0","lamc","lam1","lam2","phi1","phi2","alpha_c","no_off","no_rot","alp","gam","one_es","E","lam0","pi","singam","cosgam","sinrot","cosrot","rB","ArB","BrA","u_0","v_pole_n","v_pole_s","U","V","W","Qp","Sp","Tp","Vp","Up","sin1","cos1","ts1","sin2","cos2","ms2","ts2","ts0","ns","f0","rh1","theta","s45","s90","fi0","alfa","uq","u0","n0","s0","ro0","ad","gfi","deltav","eps","ro","czech","fi1","ok","e0","e3","e0fn","e1fn","e2fn","e3fn","mlfn","lam","nl","gN","tl","asq","cl","ml1","imlfn","nl1","rl1","tl1","dl","dsq","adjust_lat","S_POLE","N_POLE","EQUIT","OBLIQ","mode","qp","qsfnz","mmf","apa","authset","rq","xmf","ymf","sinb1","cosb1","coslam","sinlam","q","sinb","cosb","cCe","sCe","ab","cosz","sinz","authlat","P00","P01","P02","P10","P11","P20","APA","beta","sin_po","cos_po","t1","qs1","t2","qs2","t3","qs0","ns0","qs","phi1z","asinz","eccnts","sin_p14","cos_p14","infinity_dist","coslon","ksp","iqsfnz","dlat","el","bl","tanphi","mln","mlnp","ma","B_re","B_im","C_re","C_im","delta_lat","d_phi","d_lambda","d_phi_n","d_psi","th_n_re1","th_n_im1","th_re","th_im","th_n_re","th_n_im","z_re","z_im","z_n_re1","z_n_im1","delta_x","delta_y","z_n_re","z_n_im","iterations","num_re","num_im","den_re","den_im","den2","d_psi_n","C_y","C_x","delta_theta","ml2","sinth","costh","gsq","msq","xx","yy","xys","c1","c2","c3","a1","th1","sin_p12","cos_p12","Mlp","Ml","Nl1","Nl","psi","Az","G","GH","Hs","kp","cos_c","s2","s3","s4","s5","cosAz","Ee","sinpsi","FACE_ENUM","FRONT","RIGHT","BACK","LEFT","TOP","BOTTOM","AREA_ENUM","AREA_0","AREA_1","AREA_2","AREA_3","face","one_minus_f","one_minus_f_squared","xy","area","sinlon","qsc_shift_lon_origin","qsc_fwd_equat_face_theta","nu","cosmu","tannu","tantheta","invert_sign","xa","lp","slon","COEFS_X","COEFS_Y","FXC","FYC","RC1","NODES","poly3_val","coefs","poly3_der","newton_rapshon","f_df","max_err","iters","upd","azi","degrees","tilt","pn1","rp","pfact","omega","cg","sg","cw","sw","yt","ba","bm","bq","sterea","stere","somerc","omerc","lcc","krovak","cass","laea","aea","gnom","cea","eqc","poly","nzmg","mill","sinu","moll","eqdc","vandg","aeqd","ortho","qsc","robin","geocent","tpers","defaultDatum","version","KVP","REST","appendParams","uri","keyParams","encodeURIComponent","WMTSTileGrid","origins","resolutions","tileSizes","sizes","matrixIds_","matrixIds","getMatrixId","getMatrixIds","TileGrid","WMTS","requestEncoding","WMTSRequestEncoding","urls","tileClass","tilePixelRatio","version_","dimensions_","layer_","matrixSet_","matrixSet","requestEncoding_","setKey","getKeyForDimensions_","tileUrlFunction","createFromWMTSTemplate","setUrls","setTileUrlFunction","getDimensions","getMatrixSet","getRequestEncoding","getVersion","res","updateDimensions","tileCoord","localContext_1","TileImage","scaleText","proj4Data","EPSG2447","EPSG2448","EPSG30165","EPSG30166","computed","osmSource","debugLayer","Tile","getTileGrid","graticule","methods","initLayer","setProj4","_proj","isBaseLayer","osm","watercolor","mierune","tile_osm","wmts","Map","baseMaps","zoom","addControl","layerSwitcher","getProjExtent","newProj","setWorldExtent","setExtent","setProjection","fit","mapCreate","projection2447","harima_wmts","mapClick","alert","lonlat","mounted","component","components","MapPane"],"mappings":"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","file":"js/view-About-vue.7824ce50.js","sourcesContent":["!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/ScaleLine\n */\nimport Control from './Control.js';\nimport ProjUnits from '../proj/Units.js';\nimport { CLASS_UNSELECTABLE } from '../css.js';\nimport { METERS_PER_UNIT, getPointResolution } from '../proj.js';\nimport { assert } from '../asserts.js';\n/**\n * @type {string}\n */\nvar UNITS_PROP = 'units';\n/**\n * Units for the scale line. Supported values are `'degrees'`, `'imperial'`,\n * `'nautical'`, `'metric'`, `'us'`.\n * @enum {string}\n */\nexport var Units = {\n    DEGREES: 'degrees',\n    IMPERIAL: 'imperial',\n    NAUTICAL: 'nautical',\n    METRIC: 'metric',\n    US: 'us',\n};\n/**\n * @const\n * @type {Array<number>}\n */\nvar LEADING_DIGITS = [1, 2, 5];\n/**\n * @const\n * @type {number}\n */\nvar DEFAULT_DPI = 25.4 / 0.28;\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:units', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types\n *     |'change:units', Return>} ScaleLineOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-scale-line'] CSS Class name.\n * @property {number} [minWidth=64] Minimum width in pixels at the OGC default dpi. The width will be\n * adjusted to match the dpi used.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control\n * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {HTMLElement|string} [target] Specify a target if you want the control\n * to be rendered outside of the map's viewport.\n * @property {import(\"./ScaleLine.js\").Units|string} [units='metric'] Units.\n * @property {boolean} [bar=false] Render scalebars instead of a line.\n * @property {number} [steps=4] Number of steps the scalebar should use. Use even numbers\n * for best results. Only applies when `bar` is `true`.\n * @property {boolean} [text=false] Render the text scale above of the scalebar. Only applies\n * when `bar` is `true`.\n * @property {number|undefined} [dpi=undefined] dpi of output device such as printer. Only applies\n * when `bar` is `true`. If undefined the OGC default screen pixel size of 0.28mm will be assumed.\n */\n/**\n * @classdesc\n * A control displaying rough y-axis distances, calculated for the center of the\n * viewport. For conformal projections (e.g. EPSG:3857, the default view\n * projection in OpenLayers), the scale is valid for all directions.\n * No scale line will be shown when the y-axis distance of a pixel at the\n * viewport center cannot be calculated in the view projection.\n * By default the scale line will show in the bottom left portion of the map,\n * but this can be changed by using the css selector `.ol-scale-line`.\n * When specifying `bar` as `true`, a scalebar will be rendered instead\n * of a scaleline.\n *\n * @api\n */\nvar ScaleLine = /** @class */ (function (_super) {\n    __extends(ScaleLine, _super);\n    /**\n     * @param {Options} [opt_options] Scale line options.\n     */\n    function ScaleLine(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var className = options.className !== undefined\n            ? options.className\n            : options.bar\n                ? 'ol-scale-bar'\n                : 'ol-scale-line';\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        /***\n         * @type {ScaleLineOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {ScaleLineOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {ScaleLineOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.innerElement_ = document.createElement('div');\n        _this.innerElement_.className = className + '-inner';\n        _this.element.className = className + ' ' + CLASS_UNSELECTABLE;\n        _this.element.appendChild(_this.innerElement_);\n        /**\n         * @private\n         * @type {?import(\"../View.js\").State}\n         */\n        _this.viewState_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.minWidth_ = options.minWidth !== undefined ? options.minWidth : 64;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderedVisible_ = false;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.renderedWidth_ = undefined;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.renderedHTML_ = '';\n        _this.addChangeListener(UNITS_PROP, _this.handleUnitsChanged_);\n        _this.setUnits(options.units || Units.METRIC);\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.scaleBar_ = options.bar || false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.scaleBarSteps_ = options.steps || 4;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.scaleBarText_ = options.text || false;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.dpi_ = options.dpi || undefined;\n        return _this;\n    }\n    /**\n     * Return the units to use in the scale line.\n     * @return {import(\"./ScaleLine.js\").Units} The units\n     * to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.getUnits = function () {\n        return this.get(UNITS_PROP);\n    };\n    /**\n     * @private\n     */\n    ScaleLine.prototype.handleUnitsChanged_ = function () {\n        this.updateElement_();\n    };\n    /**\n     * Set the units to use in the scale line.\n     * @param {import(\"./ScaleLine.js\").Units} units The units to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.setUnits = function (units) {\n        this.set(UNITS_PROP, units);\n    };\n    /**\n     * Specify the dpi of output device such as printer.\n     * @param {number|undefined} dpi The dpi of output device.\n     * @api\n     */\n    ScaleLine.prototype.setDpi = function (dpi) {\n        this.dpi_ = dpi;\n    };\n    /**\n     * @private\n     */\n    ScaleLine.prototype.updateElement_ = function () {\n        var viewState = this.viewState_;\n        if (!viewState) {\n            if (this.renderedVisible_) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n            }\n            return;\n        }\n        var center = viewState.center;\n        var projection = viewState.projection;\n        var units = this.getUnits();\n        var pointResolutionUnits = units == Units.DEGREES ? ProjUnits.DEGREES : ProjUnits.METERS;\n        var pointResolution = getPointResolution(projection, viewState.resolution, center, pointResolutionUnits);\n        var minWidth = (this.minWidth_ * (this.dpi_ || DEFAULT_DPI)) / DEFAULT_DPI;\n        var nominalCount = minWidth * pointResolution;\n        var suffix = '';\n        if (units == Units.DEGREES) {\n            var metersPerDegree = METERS_PER_UNIT[ProjUnits.DEGREES];\n            nominalCount *= metersPerDegree;\n            if (nominalCount < metersPerDegree / 60) {\n                suffix = '\\u2033'; // seconds\n                pointResolution *= 3600;\n            }\n            else if (nominalCount < metersPerDegree) {\n                suffix = '\\u2032'; // minutes\n                pointResolution *= 60;\n            }\n            else {\n                suffix = '\\u00b0'; // degrees\n            }\n        }\n        else if (units == Units.IMPERIAL) {\n            if (nominalCount < 0.9144) {\n                suffix = 'in';\n                pointResolution /= 0.0254;\n            }\n            else if (nominalCount < 1609.344) {\n                suffix = 'ft';\n                pointResolution /= 0.3048;\n            }\n            else {\n                suffix = 'mi';\n                pointResolution /= 1609.344;\n            }\n        }\n        else if (units == Units.NAUTICAL) {\n            pointResolution /= 1852;\n            suffix = 'nm';\n        }\n        else if (units == Units.METRIC) {\n            if (nominalCount < 0.001) {\n                suffix = 'm';\n                pointResolution *= 1000000;\n            }\n            else if (nominalCount < 1) {\n                suffix = 'mm';\n                pointResolution *= 1000;\n            }\n            else if (nominalCount < 1000) {\n                suffix = 'm';\n            }\n            else {\n                suffix = 'km';\n                pointResolution /= 1000;\n            }\n        }\n        else if (units == Units.US) {\n            if (nominalCount < 0.9144) {\n                suffix = 'in';\n                pointResolution *= 39.37;\n            }\n            else if (nominalCount < 1609.344) {\n                suffix = 'ft';\n                pointResolution /= 0.30480061;\n            }\n            else {\n                suffix = 'mi';\n                pointResolution /= 1609.3472;\n            }\n        }\n        else {\n            assert(false, 33); // Invalid units\n        }\n        var i = 3 * Math.floor(Math.log(minWidth * pointResolution) / Math.log(10));\n        var count, width, decimalCount;\n        while (true) {\n            decimalCount = Math.floor(i / 3);\n            var decimal = Math.pow(10, decimalCount);\n            count = LEADING_DIGITS[((i % 3) + 3) % 3] * decimal;\n            width = Math.round(count / pointResolution);\n            if (isNaN(width)) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n                return;\n            }\n            else if (width >= minWidth) {\n                break;\n            }\n            ++i;\n        }\n        var html;\n        if (this.scaleBar_) {\n            html = this.createScaleBar(width, count, suffix);\n        }\n        else {\n            html = count.toFixed(decimalCount < 0 ? -decimalCount : 0) + ' ' + suffix;\n        }\n        if (this.renderedHTML_ != html) {\n            this.innerElement_.innerHTML = html;\n            this.renderedHTML_ = html;\n        }\n        if (this.renderedWidth_ != width) {\n            this.innerElement_.style.width = width + 'px';\n            this.renderedWidth_ = width;\n        }\n        if (!this.renderedVisible_) {\n            this.element.style.display = '';\n            this.renderedVisible_ = true;\n        }\n    };\n    /**\n     * @private\n     * @param {number} width The current width of the scalebar.\n     * @param {number} scale The current scale.\n     * @param {string} suffix The suffix to append to the scale text.\n     * @return {string} The stringified HTML of the scalebar.\n     */\n    ScaleLine.prototype.createScaleBar = function (width, scale, suffix) {\n        var mapScale = '1 : ' + Math.round(this.getScaleForResolution()).toLocaleString();\n        var scaleSteps = [];\n        var stepWidth = width / this.scaleBarSteps_;\n        var backgroundColor = '#ffffff';\n        for (var i = 0; i < this.scaleBarSteps_; i++) {\n            if (i === 0) {\n                // create the first marker at position 0\n                scaleSteps.push(this.createMarker('absolute', i));\n            }\n            scaleSteps.push('<div>' +\n                '<div ' +\n                'class=\"ol-scale-singlebar\" ' +\n                'style=' +\n                '\"width: ' +\n                stepWidth +\n                'px;' +\n                'background-color: ' +\n                backgroundColor +\n                ';\"' +\n                '>' +\n                '</div>' +\n                this.createMarker('relative', i) +\n                /*render text every second step, except when only 2 steps */\n                (i % 2 === 0 || this.scaleBarSteps_ === 2\n                    ? this.createStepText(i, width, false, scale, suffix)\n                    : '') +\n                '</div>');\n            if (i === this.scaleBarSteps_ - 1) {\n                {\n                    /*render text at the end */\n                }\n                scaleSteps.push(this.createStepText(i + 1, width, true, scale, suffix));\n            }\n            // switch colors of steps between black and white\n            if (backgroundColor === '#ffffff') {\n                backgroundColor = '#000000';\n            }\n            else {\n                backgroundColor = '#ffffff';\n            }\n        }\n        var scaleBarText;\n        if (this.scaleBarText_) {\n            scaleBarText =\n                '<div ' +\n                    'class=\"ol-scale-text\" ' +\n                    'style=\"width: ' +\n                    width +\n                    'px;\">' +\n                    mapScale +\n                    '</div>';\n        }\n        else {\n            scaleBarText = '';\n        }\n        var container = '<div ' +\n            'style=\"display: flex;\">' +\n            scaleBarText +\n            scaleSteps.join('') +\n            '</div>';\n        return container;\n    };\n    /**\n     * Creates a marker at given position\n     * @param {string} position The position, absolute or relative\n     * @param {number} i The iterator\n     * @return {string} The stringified div containing the marker\n     */\n    ScaleLine.prototype.createMarker = function (position, i) {\n        var top = position === 'absolute' ? 3 : -10;\n        return ('<div ' +\n            'class=\"ol-scale-step-marker\" ' +\n            'style=\"position: ' +\n            position +\n            ';' +\n            'top: ' +\n            top +\n            'px;\"' +\n            '></div>');\n    };\n    /**\n     * Creates the label for a marker marker at given position\n     * @param {number} i The iterator\n     * @param {number} width The width the scalebar will currently use\n     * @param {boolean} isLast Flag indicating if we add the last step text\n     * @param {number} scale The current scale for the whole scalebar\n     * @param {string} suffix The suffix for the scale\n     * @return {string} The stringified div containing the step text\n     */\n    ScaleLine.prototype.createStepText = function (i, width, isLast, scale, suffix) {\n        var length = i === 0 ? 0 : Math.round((scale / this.scaleBarSteps_) * i * 100) / 100;\n        var lengthString = length + (i === 0 ? '' : ' ' + suffix);\n        var margin = i === 0 ? -3 : (width / this.scaleBarSteps_) * -1;\n        var minWidth = i === 0 ? 0 : (width / this.scaleBarSteps_) * 2;\n        return ('<div ' +\n            'class=\"ol-scale-step-text\" ' +\n            'style=\"' +\n            'margin-left: ' +\n            margin +\n            'px;' +\n            'text-align: ' +\n            (i === 0 ? 'left' : 'center') +\n            '; ' +\n            'min-width: ' +\n            minWidth +\n            'px;' +\n            'left: ' +\n            (isLast ? width + 'px' : 'unset') +\n            ';\"' +\n            '>' +\n            lengthString +\n            '</div>');\n    };\n    /**\n     * Returns the appropriate scale for the given resolution and units.\n     * @return {number} The appropriate scale.\n     */\n    ScaleLine.prototype.getScaleForResolution = function () {\n        var resolution = getPointResolution(this.viewState_.projection, this.viewState_.resolution, this.viewState_.center);\n        var dpi = this.dpi_ || DEFAULT_DPI;\n        var mpu = this.viewState_.projection.getMetersPerUnit();\n        var inchesPerMeter = 1000 / 25.4;\n        return parseFloat(resolution.toString()) * mpu * inchesPerMeter * dpi;\n    };\n    /**\n     * Update the scale line element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    ScaleLine.prototype.render = function (mapEvent) {\n        var frameState = mapEvent.frameState;\n        if (!frameState) {\n            this.viewState_ = null;\n        }\n        else {\n            this.viewState_ = frameState.viewState;\n        }\n        this.updateElement_();\n    };\n    return ScaleLine;\n}(Control));\nexport default ScaleLine;\n//# sourceMappingURL=ScaleLine.js.map","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('ol/control/Control'), require('ol/Observable'), require('ol/layer/Group')) :\n\ttypeof define === 'function' && define.amd ? define(['ol/control/Control', 'ol/Observable', 'ol/layer/Group'], factory) :\n\t(global.LayerSwitcher = factory(global.ol.control.Control,global.ol.Observable,global.ol.layer.Group));\n}(this, (function (Control,ol_Observable,LayerGroup) { 'use strict';\n\nControl = 'default' in Control ? Control['default'] : Control;\nLayerGroup = 'default' in LayerGroup ? LayerGroup['default'] : LayerGroup;\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/**\n * @protected\n */\nvar CSS_PREFIX = 'layer-switcher-';\n/**\n * OpenLayers LayerSwitcher Control, displays a list of layers and groups\n * associated with a map which have a `title` property.\n *\n * To be shown in the LayerSwitcher panel layers must have a `title` property;\n * base map layers should have a `type` property set to `base`. Group layers\n * (`LayerGroup`) can be used to visually group layers together; a group\n * with a `fold` property set to either `'open'` or `'close'` will be displayed\n * with a toggle.\n *\n * See [BaseLayerOptions](#baselayeroptions) for a full list of LayerSwitcher\n * properties for layers (`TileLayer`, `ImageLayer`, `VectorTile` etc.) and\n * [GroupLayerOptions](#grouplayeroptions) for group layer (`LayerGroup`)\n * LayerSwitcher properties.\n *\n * Layer and group properties can either be set by adding extra properties\n * to their options when they are created or via their set method.\n *\n * Specify a `title` for a Layer by adding a `title` property to it's options object:\n * ```javascript\n * var lyr = new ol.layer.Tile({\n *   // Specify a title property which will be displayed by the layer switcher\n *   title: 'OpenStreetMap',\n *   visible: true,\n *   source: new ol.source.OSM()\n * })\n * ```\n *\n * Alternatively the properties can be set via the `set` method after a layer has been created:\n * ```javascript\n * var lyr = new ol.layer.Tile({\n *   visible: true,\n *   source: new ol.source.OSM()\n * })\n * // Specify a title property which will be displayed by the layer switcher\n * lyr.set('title', 'OpenStreetMap');\n * ```\n *\n * To create a LayerSwitcher and add it to a map, create a new instance then pass it to the map's [`addControl` method](https://openlayers.org/en/latest/apidoc/module-ol_PluggableMap-PluggableMap.html#addControl).\n * ```javascript\n * var layerSwitcher = new LayerSwitcher({\n *   reverse: true,\n *   groupSelectStyle: 'group'\n * });\n * map.addControl(layerSwitcher);\n * ```\n *\n * @constructor\n * @extends {ol/control/Control~Control}\n * @param opt_options LayerSwitcher options, see  [LayerSwitcher Options](#options) and [RenderOptions](#renderoptions) which LayerSwitcher `Options` extends for more details.\n */\n\nvar LayerSwitcher = function (_Control) {\n    inherits(LayerSwitcher, _Control);\n\n    function LayerSwitcher(opt_options) {\n        classCallCheck(this, LayerSwitcher);\n\n        var options = Object.assign({}, opt_options);\n        // TODO Next: Rename to showButtonTitle\n        var tipLabel = options.tipLabel ? options.tipLabel : 'Legend';\n        // TODO Next: Rename to hideButtonTitle\n        var collapseTipLabel = options.collapseTipLabel ? options.collapseTipLabel : 'Collapse legend';\n        var element = document.createElement('div');\n\n        var _this = possibleConstructorReturn(this, (LayerSwitcher.__proto__ || Object.getPrototypeOf(LayerSwitcher)).call(this, { element: element, target: options.target }));\n\n        _this.activationMode = options.activationMode || 'mouseover';\n        _this.startActive = options.startActive === true;\n        // TODO Next: Rename to showButtonContent\n        var label = options.label !== undefined ? options.label : '';\n        // TODO Next: Rename to hideButtonContent\n        var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\xBB';\n        _this.groupSelectStyle = LayerSwitcher.getGroupSelectStyle(options.groupSelectStyle);\n        _this.reverse = options.reverse !== false;\n        _this.mapListeners = [];\n        _this.hiddenClassName = 'ol-unselectable ol-control layer-switcher';\n        if (LayerSwitcher.isTouchDevice_()) {\n            _this.hiddenClassName += ' touch';\n        }\n        _this.shownClassName = 'shown';\n        element.className = _this.hiddenClassName;\n        var button = document.createElement('button');\n        button.setAttribute('title', tipLabel);\n        button.setAttribute('aria-label', tipLabel);\n        element.appendChild(button);\n        _this.panel = document.createElement('div');\n        _this.panel.className = 'panel';\n        element.appendChild(_this.panel);\n        LayerSwitcher.enableTouchScroll_(_this.panel);\n        button.textContent = label;\n        element.classList.add(CSS_PREFIX + 'group-select-style-' + _this.groupSelectStyle);\n        element.classList.add(CSS_PREFIX + 'activation-mode-' + _this.activationMode);\n        if (_this.activationMode === 'click') {\n            // TODO Next: Remove in favour of layer-switcher-activation-mode-click\n            element.classList.add('activationModeClick');\n            if (_this.startActive) {\n                button.textContent = collapseLabel;\n                button.setAttribute('title', collapseTipLabel);\n                button.setAttribute('aria-label', collapseTipLabel);\n            }\n            button.onclick = function (e) {\n                var evt = e || window.event;\n                if (_this.element.classList.contains(_this.shownClassName)) {\n                    _this.hidePanel();\n                    button.textContent = label;\n                    button.setAttribute('title', tipLabel);\n                    button.setAttribute('aria-label', tipLabel);\n                } else {\n                    _this.showPanel();\n                    button.textContent = collapseLabel;\n                    button.setAttribute('title', collapseTipLabel);\n                    button.setAttribute('aria-label', collapseTipLabel);\n                }\n                evt.preventDefault();\n            };\n        } else {\n            button.onmouseover = function () {\n                _this.showPanel();\n            };\n            button.onclick = function (e) {\n                var evt = e || window.event;\n                _this.showPanel();\n                evt.preventDefault();\n            };\n            _this.panel.onmouseout = function (evt) {\n                if (!_this.panel.contains(evt.relatedTarget)) {\n                    _this.hidePanel();\n                }\n            };\n        }\n        return _this;\n    }\n    /**\n     * Set the map instance the control is associated with.\n     * @param map The map instance.\n     */\n\n\n    createClass(LayerSwitcher, [{\n        key: 'setMap',\n        value: function setMap(map) {\n            var _this2 = this;\n\n            // Clean up listeners associated with the previous map\n            for (var i = 0; i < this.mapListeners.length; i++) {\n                ol_Observable.unByKey(this.mapListeners[i]);\n            }\n            this.mapListeners.length = 0;\n            // Wire up listeners etc. and store reference to new map\n            get(LayerSwitcher.prototype.__proto__ || Object.getPrototypeOf(LayerSwitcher.prototype), 'setMap', this).call(this, map);\n            if (map) {\n                if (this.startActive) {\n                    this.showPanel();\n                } else {\n                    this.renderPanel();\n                }\n                if (this.activationMode !== 'click') {\n                    this.mapListeners.push(map.on('pointerdown', function () {\n                        _this2.hidePanel();\n                    }));\n                }\n            }\n        }\n        /**\n         * Show the layer panel.\n         */\n\n    }, {\n        key: 'showPanel',\n        value: function showPanel() {\n            if (!this.element.classList.contains(this.shownClassName)) {\n                this.element.classList.add(this.shownClassName);\n                this.renderPanel();\n            }\n        }\n        /**\n         * Hide the layer panel.\n         */\n\n    }, {\n        key: 'hidePanel',\n        value: function hidePanel() {\n            if (this.element.classList.contains(this.shownClassName)) {\n                this.element.classList.remove(this.shownClassName);\n            }\n        }\n        /**\n         * Re-draw the layer panel to represent the current state of the layers.\n         */\n\n    }, {\n        key: 'renderPanel',\n        value: function renderPanel() {\n            this.dispatchEvent('render');\n            LayerSwitcher.renderPanel(this.getMap(), this.panel, {\n                groupSelectStyle: this.groupSelectStyle,\n                reverse: this.reverse\n            });\n            this.dispatchEvent('rendercomplete');\n        }\n        /**\n         * **_[static]_** - Re-draw the layer panel to represent the current state of the layers.\n         * @param map The OpenLayers Map instance to render layers for\n         * @param panel The DOM Element into which the layer tree will be rendered\n         * @param options Options for panel, group, and layers\n         */\n\n    }], [{\n        key: 'renderPanel',\n        value: function renderPanel(map, panel, options) {\n            // Create the event.\n            var render_event = new Event('render');\n            // Dispatch the event.\n            panel.dispatchEvent(render_event);\n            options = options || {};\n            options.groupSelectStyle = LayerSwitcher.getGroupSelectStyle(options.groupSelectStyle);\n            LayerSwitcher.ensureTopVisibleBaseLayerShown(map, options.groupSelectStyle);\n            while (panel.firstChild) {\n                panel.removeChild(panel.firstChild);\n            }\n            // Reset indeterminate state for all layers and groups before\n            // applying based on groupSelectStyle\n            LayerSwitcher.forEachRecursive(map, function (l, _idx, _a) {\n                l.set('indeterminate', false);\n            });\n            if (options.groupSelectStyle === 'children' || options.groupSelectStyle === 'none') {\n                // Set visibile and indeterminate state of groups based on\n                // their children's visibility\n                LayerSwitcher.setGroupVisibility(map);\n            } else if (options.groupSelectStyle === 'group') {\n                // Set child indetermiate state based on their parent's visibility\n                LayerSwitcher.setChildVisibility(map);\n            }\n            var ul = document.createElement('ul');\n            panel.appendChild(ul);\n            // passing two map arguments instead of lyr as we're passing the map as the root of the layers tree\n            LayerSwitcher.renderLayers_(map, map, ul, options, function render(_changedLyr) {\n                LayerSwitcher.renderPanel(map, panel, options);\n            });\n            // Create the event.\n            var rendercomplete_event = new Event('rendercomplete');\n            // Dispatch the event.\n            panel.dispatchEvent(rendercomplete_event);\n        }\n        /**\n         * **_[static]_** - Determine if a given layer group contains base layers\n         * @param grp Group to test\n         */\n\n    }, {\n        key: 'isBaseGroup',\n        value: function isBaseGroup(grp) {\n            if (grp instanceof LayerGroup) {\n                var lyrs = grp.getLayers().getArray();\n                return lyrs.length && lyrs[0].get('type') === 'base';\n            } else {\n                return false;\n            }\n        }\n    }, {\n        key: 'setGroupVisibility',\n        value: function setGroupVisibility(map) {\n            // Get a list of groups, with the deepest first\n            var groups = LayerSwitcher.getGroupsAndLayers(map, function (l) {\n                return l instanceof LayerGroup && !l.get('combine') && !LayerSwitcher.isBaseGroup(l);\n            }).reverse();\n            // console.log(groups.map(g => g.get('title')));\n            groups.forEach(function (grp) {\n                // TODO Can we use getLayersArray, is it public in the esm build?\n                var descendantVisibility = grp.getLayersArray().map(function (l) {\n                    var state = l.getVisible();\n                    // console.log('>', l.get('title'), state);\n                    return state;\n                });\n                // console.log(descendantVisibility);\n                if (descendantVisibility.every(function (v) {\n                    return v === true;\n                })) {\n                    grp.setVisible(true);\n                    grp.set('indeterminate', false);\n                } else if (descendantVisibility.every(function (v) {\n                    return v === false;\n                })) {\n                    grp.setVisible(false);\n                    grp.set('indeterminate', false);\n                } else {\n                    grp.setVisible(true);\n                    grp.set('indeterminate', true);\n                }\n            });\n        }\n    }, {\n        key: 'setChildVisibility',\n        value: function setChildVisibility(map) {\n            // console.log('setChildVisibility');\n            var groups = LayerSwitcher.getGroupsAndLayers(map, function (l) {\n                return l instanceof LayerGroup && !l.get('combine') && !LayerSwitcher.isBaseGroup(l);\n            });\n            groups.forEach(function (grp) {\n                var group = grp;\n                // console.log(group.get('title'));\n                var groupVisible = group.getVisible();\n                var groupIndeterminate = group.get('indeterminate');\n                group.getLayers().getArray().forEach(function (l) {\n                    l.set('indeterminate', false);\n                    if ((!groupVisible || groupIndeterminate) && l.getVisible()) {\n                        l.set('indeterminate', true);\n                    }\n                });\n            });\n        }\n        /**\n         * Ensure only the top-most base layer is visible if more than one is visible.\n         * @param map The map instance.\n         * @param groupSelectStyle\n         * @protected\n         */\n\n    }, {\n        key: 'ensureTopVisibleBaseLayerShown',\n        value: function ensureTopVisibleBaseLayerShown(map, groupSelectStyle) {\n            var lastVisibleBaseLyr = void 0;\n            LayerSwitcher.forEachRecursive(map, function (lyr, _idx, _arr) {\n                if (lyr.get('type') === 'base' && lyr.getVisible()) {\n                    lastVisibleBaseLyr = lyr;\n                }\n            });\n            if (lastVisibleBaseLyr) LayerSwitcher.setVisible_(map, lastVisibleBaseLyr, true, groupSelectStyle);\n        }\n        /**\n         * **_[static]_** - Get an Array of all layers and groups displayed by the LayerSwitcher (has a `'title'` property)\n         * contained by the specified map or layer group; optionally filtering via `filterFn`\n         * @param grp The map or layer group for which layers are found.\n         * @param filterFn Optional function used to filter the returned layers\n         */\n\n    }, {\n        key: 'getGroupsAndLayers',\n        value: function getGroupsAndLayers(grp, filterFn) {\n            var layers = [];\n            filterFn = filterFn || function (_lyr, _idx, _arr) {\n                return true;\n            };\n            LayerSwitcher.forEachRecursive(grp, function (lyr, idx, arr) {\n                if (lyr.get('title')) {\n                    if (filterFn(lyr, idx, arr)) {\n                        layers.push(lyr);\n                    }\n                }\n            });\n            return layers;\n        }\n        /**\n         * Toggle the visible state of a layer.\n         * Takes care of hiding other layers in the same exclusive group if the layer\n         * is toggle to visible.\n         * @protected\n         * @param map The map instance.\n         * @param lyr layer whose visibility will be toggled.\n         * @param visible Set whether the layer is shown\n         * @param groupSelectStyle\n         * @protected\n         */\n\n    }, {\n        key: 'setVisible_',\n        value: function setVisible_(map, lyr, visible, groupSelectStyle) {\n            // console.log(lyr.get('title'), visible, groupSelectStyle);\n            lyr.setVisible(visible);\n            if (visible && lyr.get('type') === 'base') {\n                // Hide all other base layers regardless of grouping\n                LayerSwitcher.forEachRecursive(map, function (l, _idx, _arr) {\n                    if (l != lyr && l.get('type') === 'base') {\n                        l.setVisible(false);\n                    }\n                });\n            }\n            if (lyr instanceof LayerGroup && !lyr.get('combine') && groupSelectStyle === 'children') {\n                lyr.getLayers().forEach(function (l) {\n                    LayerSwitcher.setVisible_(map, l, lyr.getVisible(), groupSelectStyle);\n                });\n            }\n        }\n        /**\n         * Render all layers that are children of a group.\n         * @param map The map instance.\n         * @param lyr Layer to be rendered (should have a title property).\n         * @param idx Position in parent group list.\n         * @param options Options for groups and layers\n         * @protected\n         */\n\n    }, {\n        key: 'renderLayer_',\n        value: function renderLayer_(map, lyr, idx, options, render) {\n            var li = document.createElement('li');\n            var lyrTitle = lyr.get('title');\n            var checkboxId = LayerSwitcher.uuid();\n            var label = document.createElement('label');\n            if (lyr instanceof LayerGroup && !lyr.get('combine')) {\n                var isBaseGroup = LayerSwitcher.isBaseGroup(lyr);\n                li.classList.add('group');\n                if (isBaseGroup) {\n                    li.classList.add(CSS_PREFIX + 'base-group');\n                }\n                // Group folding\n                if (lyr.get('fold')) {\n                    li.classList.add(CSS_PREFIX + 'fold');\n                    li.classList.add(CSS_PREFIX + lyr.get('fold'));\n                    var btn = document.createElement('button');\n                    btn.onclick = function (e) {\n                        var evt = e || window.event;\n                        LayerSwitcher.toggleFold_(lyr, li);\n                        evt.preventDefault();\n                    };\n                    li.appendChild(btn);\n                }\n                if (!isBaseGroup && options.groupSelectStyle != 'none') {\n                    var input = document.createElement('input');\n                    input.type = 'checkbox';\n                    input.id = checkboxId;\n                    input.checked = lyr.getVisible();\n                    input.indeterminate = lyr.get('indeterminate');\n                    input.onchange = function (e) {\n                        var target = e.target;\n                        LayerSwitcher.setVisible_(map, lyr, target.checked, options.groupSelectStyle);\n                        render(lyr);\n                    };\n                    li.appendChild(input);\n                    label.htmlFor = checkboxId;\n                }\n                label.innerHTML = lyrTitle;\n                li.appendChild(label);\n                var ul = document.createElement('ul');\n                li.appendChild(ul);\n                LayerSwitcher.renderLayers_(map, lyr, ul, options, render);\n            } else {\n                li.className = 'layer';\n                var _input = document.createElement('input');\n                if (lyr.get('type') === 'base') {\n                    _input.type = 'radio';\n                    _input.name = 'base';\n                } else {\n                    _input.type = 'checkbox';\n                }\n                _input.id = checkboxId;\n                _input.checked = lyr.get('visible');\n                _input.indeterminate = lyr.get('indeterminate');\n                _input.onchange = function (e) {\n                    var target = e.target;\n                    LayerSwitcher.setVisible_(map, lyr, target.checked, options.groupSelectStyle);\n                    render(lyr);\n                };\n                li.appendChild(_input);\n                label.htmlFor = checkboxId;\n                label.innerHTML = lyrTitle;\n                var rsl = map.getView().getResolution();\n                if (rsl > lyr.getMaxResolution() || rsl < lyr.getMinResolution()) {\n                    label.className += ' disabled';\n                }\n                li.appendChild(label);\n            }\n            return li;\n        }\n        /**\n         * Render all layers that are children of a group.\n         * @param map The map instance.\n         * @param lyr Group layer whose children will be rendered.\n         * @param elm DOM element that children will be appended to.\n         * @param options Options for groups and layers\n         * @protected\n         */\n\n    }, {\n        key: 'renderLayers_',\n        value: function renderLayers_(map, lyr, elm, options, render) {\n            var lyrs = lyr.getLayers().getArray().slice();\n            if (options.reverse) lyrs = lyrs.reverse();\n            for (var i = 0, l; i < lyrs.length; i++) {\n                l = lyrs[i];\n                if (l.get('title')) {\n                    elm.appendChild(LayerSwitcher.renderLayer_(map, l, i, options, render));\n                }\n            }\n        }\n        /**\n         * **_[static]_** - Call the supplied function for each layer in the passed layer group\n         * recursing nested groups.\n         * @param lyr The layer group to start iterating from.\n         * @param fn Callback which will be called for each layer\n         * found under `lyr`.\n         */\n\n    }, {\n        key: 'forEachRecursive',\n        value: function forEachRecursive(lyr, fn) {\n            lyr.getLayers().forEach(function (lyr, idx, a) {\n                fn(lyr, idx, a);\n                if (lyr instanceof LayerGroup) {\n                    LayerSwitcher.forEachRecursive(lyr, fn);\n                }\n            });\n        }\n        /**\n         * **_[static]_** - Generate a UUID\n         * Adapted from http://stackoverflow.com/a/2117523/526860\n         * @returns {String} UUID\n         */\n\n    }, {\n        key: 'uuid',\n        value: function uuid() {\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n                var r = Math.random() * 16 | 0,\n                    v = c == 'x' ? r : r & 0x3 | 0x8;\n                return v.toString(16);\n            });\n        }\n        /**\n         * Apply workaround to enable scrolling of overflowing content within an\n         * element. Adapted from https://gist.github.com/chrismbarr/4107472\n         * @param elm Element on which to enable touch scrolling\n         * @protected\n         */\n\n    }, {\n        key: 'enableTouchScroll_',\n        value: function enableTouchScroll_(elm) {\n            if (LayerSwitcher.isTouchDevice_()) {\n                var scrollStartPos = 0;\n                elm.addEventListener('touchstart', function (event) {\n                    scrollStartPos = this.scrollTop + event.touches[0].pageY;\n                }, false);\n                elm.addEventListener('touchmove', function (event) {\n                    this.scrollTop = scrollStartPos - event.touches[0].pageY;\n                }, false);\n            }\n        }\n        /**\n         * Determine if the current browser supports touch events. Adapted from\n         * https://gist.github.com/chrismbarr/4107472\n         * @returns {Boolean} True if client can have 'TouchEvent' event\n         * @protected\n         */\n\n    }, {\n        key: 'isTouchDevice_',\n        value: function isTouchDevice_() {\n            try {\n                document.createEvent('TouchEvent');\n                return true;\n            } catch (e) {\n                return false;\n            }\n        }\n        /**\n         * Fold/unfold layer group\n         * @param lyr Layer group to fold/unfold\n         * @param li List item containing layer group\n         * @protected\n         */\n\n    }, {\n        key: 'toggleFold_',\n        value: function toggleFold_(lyr, li) {\n            li.classList.remove(CSS_PREFIX + lyr.get('fold'));\n            lyr.set('fold', lyr.get('fold') === 'open' ? 'close' : 'open');\n            li.classList.add(CSS_PREFIX + lyr.get('fold'));\n        }\n        /**\n         * If a valid groupSelectStyle value is not provided then return the default\n         * @param groupSelectStyle The string to check for validity\n         * @returns The value groupSelectStyle, if valid, the default otherwise\n         * @protected\n         */\n\n    }, {\n        key: 'getGroupSelectStyle',\n        value: function getGroupSelectStyle(groupSelectStyle) {\n            return ['none', 'children', 'group'].indexOf(groupSelectStyle) >= 0 ? groupSelectStyle : 'children';\n        }\n    }]);\n    return LayerSwitcher;\n}(Control);\nif (window['ol'] && window['ol']['control']) {\n    window['ol']['control']['LayerSwitcher'] = LayerSwitcher;\n}\n\nreturn LayerSwitcher;\n\n})));\n","/**\n * @module ol/OverlayPositioning\n */\n/**\n * Overlay position: `'bottom-left'`, `'bottom-center'`,  `'bottom-right'`,\n * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n * `'top-center'`, `'top-right'`\n * @enum {string}\n */\nexport default {\n    BOTTOM_LEFT: 'bottom-left',\n    BOTTOM_CENTER: 'bottom-center',\n    BOTTOM_RIGHT: 'bottom-right',\n    CENTER_LEFT: 'center-left',\n    CENTER_CENTER: 'center-center',\n    CENTER_RIGHT: 'center-right',\n    TOP_LEFT: 'top-left',\n    TOP_CENTER: 'top-center',\n    TOP_RIGHT: 'top-right',\n};\n//# sourceMappingURL=OverlayPositioning.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Overlay\n */\nimport BaseObject from './Object.js';\nimport MapEventType from './MapEventType.js';\nimport OverlayPositioning from './OverlayPositioning.js';\nimport { CLASS_SELECTABLE } from './css.js';\nimport { containsExtent } from './extent.js';\nimport { listen, unlistenByKey } from './events.js';\nimport { outerHeight, outerWidth, removeChildren, removeNode } from './dom.js';\n/**\n * @typedef {Object} Options\n * @property {number|string} [id] Set the overlay id. The overlay id can be used\n * with the {@link module:ol/Map~Map#getOverlayById} method.\n * @property {HTMLElement} [element] The overlay element.\n * @property {Array<number>} [offset=[0, 0]] Offsets in pixels used when positioning\n * the overlay. The first element in the\n * array is the horizontal offset. A positive value shifts the overlay right.\n * The second element in the array is the vertical offset. A positive value\n * shifts the overlay down.\n * @property {import(\"./coordinate.js\").Coordinate} [position] The overlay position\n * in map projection.\n * @property {import(\"./OverlayPositioning.js\").default} [positioning='top-left'] Defines how\n * the overlay is actually positioned with respect to its `position` property.\n * Possible values are `'bottom-left'`, `'bottom-center'`, `'bottom-right'`,\n * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n * `'top-center'`, and `'top-right'`.\n * @property {boolean} [stopEvent=true] Whether event propagation to the map\n * viewport should be stopped. If `true` the overlay is placed in the same\n * container as that of the controls (CSS class name\n * `ol-overlaycontainer-stopevent`); if `false` it is placed in the container\n * with CSS class name specified by the `className` property.\n * @property {boolean} [insertFirst=true] Whether the overlay is inserted first\n * in the overlay container, or appended. If the overlay is placed in the same\n * container as that of the controls (see the `stopEvent` option) you will\n * probably set `insertFirst` to `true` so the overlay is displayed below the\n * controls.\n * @property {PanIntoViewOptions|boolean} [autoPan=false] Pan the map when calling\n * `setPosition`, so that the overlay is entirely visible in the current viewport?\n * If `true` (deprecated), then `autoPanAnimation` and `autoPanMargin` will be\n * used to determine the panning parameters; if an object is supplied then other\n * parameters are ignored.\n * @property {PanOptions} [autoPanAnimation] The animation options used to pan\n * the overlay into view. This animation is only used when `autoPan` is enabled.\n * A `duration` and `easing` may be provided to customize the animation.\n * Deprecated and ignored if `autoPan` is supplied as an object.\n * @property {number} [autoPanMargin=20] The margin (in pixels) between the\n * overlay and the borders of the map when autopanning. Deprecated and ignored\n * if `autoPan` is supplied as an object.\n * @property {PanIntoViewOptions} [autoPanOptions] The options to use for the\n * autoPan. This is only used when `autoPan` is enabled and has preference over\n * the individual `autoPanMargin` and `autoPanOptions`.\n * @property {string} [className='ol-overlay-container ol-selectable'] CSS class\n * name.\n */\n/**\n * @typedef {Object} PanOptions\n * @property {number} [duration=1000] The duration of the animation in\n * milliseconds.\n * @property {function(number):number} [easing] The easing function to use. Can\n * be one from {@link module:ol/easing} or a custom function.\n * Default is {@link module:ol/easing.inAndOut}.\n */\n/**\n * @typedef {Object} PanIntoViewOptions\n * @property {PanOptions} [animation={}] The animation parameters for the pan\n * @property {number} [margin=20] The margin (in pixels) between the\n * overlay and the borders of the map when panning into view.\n */\n/**\n * @enum {string}\n * @protected\n */\nvar Property = {\n    ELEMENT: 'element',\n    MAP: 'map',\n    OFFSET: 'offset',\n    POSITION: 'position',\n    POSITIONING: 'positioning',\n};\n/**\n * @typedef {import(\"./ObjectEventType\").Types|'change:element'|'change:map'|'change:offset'|'change:position'|\n *   'change:positioning'} OverlayObjectEventTypes\n */\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<OverlayObjectEventTypes, import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|OverlayObjectEventTypes, Return>} OverlayOnSignature\n */\n/**\n * @classdesc\n * An element to be displayed over the map and attached to a single map\n * location.  Like {@link module:ol/control/Control~Control}, Overlays are\n * visible widgets. Unlike Controls, they are not in a fixed position on the\n * screen, but are tied to a geographical coordinate, so panning the map will\n * move an Overlay but not a Control.\n *\n * Example:\n *\n *     import Overlay from 'ol/Overlay';\n *\n *     var popup = new Overlay({\n *       element: document.getElementById('popup')\n *     });\n *     popup.setPosition(coordinate);\n *     map.addOverlay(popup);\n *\n * @api\n */\nvar Overlay = /** @class */ (function (_super) {\n    __extends(Overlay, _super);\n    /**\n     * @param {Options} options Overlay options.\n     */\n    function Overlay(options) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {OverlayOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {OverlayOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {OverlayOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @protected\n         * @type {Options}\n         */\n        _this.options = options;\n        /**\n         * @protected\n         * @type {number|string|undefined}\n         */\n        _this.id = options.id;\n        /**\n         * @protected\n         * @type {boolean}\n         */\n        _this.insertFirst =\n            options.insertFirst !== undefined ? options.insertFirst : true;\n        /**\n         * @protected\n         * @type {boolean}\n         */\n        _this.stopEvent = options.stopEvent !== undefined ? options.stopEvent : true;\n        /**\n         * @protected\n         * @type {HTMLElement}\n         */\n        _this.element = document.createElement('div');\n        _this.element.className =\n            options.className !== undefined\n                ? options.className\n                : 'ol-overlay-container ' + CLASS_SELECTABLE;\n        _this.element.style.position = 'absolute';\n        _this.element.style.pointerEvents = 'auto';\n        var autoPan = options.autoPan;\n        if (autoPan && 'object' !== typeof autoPan) {\n            autoPan = {\n                animation: options.autoPanAnimation,\n                margin: options.autoPanMargin,\n            };\n        }\n        /**\n         * @protected\n         * @type {PanIntoViewOptions|false}\n         */\n        _this.autoPan = /** @type {PanIntoViewOptions} */ (autoPan) || false;\n        /**\n         * @protected\n         * @type {{transform_: string,\n         *         visible: boolean}}\n         */\n        _this.rendered = {\n            transform_: '',\n            visible: true,\n        };\n        /**\n         * @protected\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.mapPostrenderListenerKey = null;\n        _this.addChangeListener(Property.ELEMENT, _this.handleElementChanged);\n        _this.addChangeListener(Property.MAP, _this.handleMapChanged);\n        _this.addChangeListener(Property.OFFSET, _this.handleOffsetChanged);\n        _this.addChangeListener(Property.POSITION, _this.handlePositionChanged);\n        _this.addChangeListener(Property.POSITIONING, _this.handlePositioningChanged);\n        if (options.element !== undefined) {\n            _this.setElement(options.element);\n        }\n        _this.setOffset(options.offset !== undefined ? options.offset : [0, 0]);\n        _this.setPositioning(options.positioning !== undefined\n            ? /** @type {import(\"./OverlayPositioning.js\").default} */ (options.positioning)\n            : OverlayPositioning.TOP_LEFT);\n        if (options.position !== undefined) {\n            _this.setPosition(options.position);\n        }\n        return _this;\n    }\n    /**\n     * Get the DOM element of this overlay.\n     * @return {HTMLElement|undefined} The Element containing the overlay.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getElement = function () {\n        return /** @type {HTMLElement|undefined} */ (this.get(Property.ELEMENT));\n    };\n    /**\n     * Get the overlay identifier which is set on constructor.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Overlay.prototype.getId = function () {\n        return this.id;\n    };\n    /**\n     * Get the map associated with this overlay.\n     * @return {import(\"./PluggableMap.js\").default|undefined} The map that the\n     * overlay is part of.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getMap = function () {\n        return /** @type {import(\"./PluggableMap.js\").default|undefined} */ (this.get(Property.MAP));\n    };\n    /**\n     * Get the offset of this overlay.\n     * @return {Array<number>} The offset.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getOffset = function () {\n        return /** @type {Array<number>} */ (this.get(Property.OFFSET));\n    };\n    /**\n     * Get the current position of this overlay.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The spatial point that the overlay is\n     *     anchored at.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getPosition = function () {\n        return /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(Property.POSITION));\n    };\n    /**\n     * Get the current positioning of this overlay.\n     * @return {import(\"./OverlayPositioning.js\").default} How the overlay is positioned\n     *     relative to its point on the map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getPositioning = function () {\n        return /** @type {import(\"./OverlayPositioning.js\").default} */ (this.get(Property.POSITIONING));\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleElementChanged = function () {\n        removeChildren(this.element);\n        var element = this.getElement();\n        if (element) {\n            this.element.appendChild(element);\n        }\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleMapChanged = function () {\n        if (this.mapPostrenderListenerKey) {\n            removeNode(this.element);\n            unlistenByKey(this.mapPostrenderListenerKey);\n            this.mapPostrenderListenerKey = null;\n        }\n        var map = this.getMap();\n        if (map) {\n            this.mapPostrenderListenerKey = listen(map, MapEventType.POSTRENDER, this.render, this);\n            this.updatePixelPosition();\n            var container = this.stopEvent\n                ? map.getOverlayContainerStopEvent()\n                : map.getOverlayContainer();\n            if (this.insertFirst) {\n                container.insertBefore(this.element, container.childNodes[0] || null);\n            }\n            else {\n                container.appendChild(this.element);\n            }\n            this.performAutoPan();\n        }\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.render = function () {\n        this.updatePixelPosition();\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleOffsetChanged = function () {\n        this.updatePixelPosition();\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handlePositionChanged = function () {\n        this.updatePixelPosition();\n        this.performAutoPan();\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handlePositioningChanged = function () {\n        this.updatePixelPosition();\n    };\n    /**\n     * Set the DOM element to be associated with this overlay.\n     * @param {HTMLElement|undefined} element The Element containing the overlay.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setElement = function (element) {\n        this.set(Property.ELEMENT, element);\n    };\n    /**\n     * Set the map to be associated with this overlay.\n     * @param {import(\"./PluggableMap.js\").default|undefined} map The map that the\n     * overlay is part of.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setMap = function (map) {\n        this.set(Property.MAP, map);\n    };\n    /**\n     * Set the offset for this overlay.\n     * @param {Array<number>} offset Offset.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setOffset = function (offset) {\n        this.set(Property.OFFSET, offset);\n    };\n    /**\n     * Set the position for this overlay. If the position is `undefined` the\n     * overlay is hidden.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} position The spatial point that the overlay\n     *     is anchored at.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setPosition = function (position) {\n        this.set(Property.POSITION, position);\n    };\n    /**\n     * Pan the map so that the overlay is entirely visible in the current viewport\n     * (if necessary) using the configured autoPan parameters\n     * @protected\n     */\n    Overlay.prototype.performAutoPan = function () {\n        if (this.autoPan) {\n            this.panIntoView(this.autoPan);\n        }\n    };\n    /**\n     * Pan the map so that the overlay is entirely visible in the current viewport\n     * (if necessary).\n     * @param {PanIntoViewOptions} [opt_panIntoViewOptions] Options for the pan action\n     * @api\n     */\n    Overlay.prototype.panIntoView = function (opt_panIntoViewOptions) {\n        var map = this.getMap();\n        if (!map || !map.getTargetElement() || !this.get(Property.POSITION)) {\n            return;\n        }\n        var mapRect = this.getRect(map.getTargetElement(), map.getSize());\n        var element = this.getElement();\n        var overlayRect = this.getRect(element, [\n            outerWidth(element),\n            outerHeight(element),\n        ]);\n        var panIntoViewOptions = opt_panIntoViewOptions || {};\n        var myMargin = panIntoViewOptions.margin === undefined ? 20 : panIntoViewOptions.margin;\n        if (!containsExtent(mapRect, overlayRect)) {\n            // the overlay is not completely inside the viewport, so pan the map\n            var offsetLeft = overlayRect[0] - mapRect[0];\n            var offsetRight = mapRect[2] - overlayRect[2];\n            var offsetTop = overlayRect[1] - mapRect[1];\n            var offsetBottom = mapRect[3] - overlayRect[3];\n            var delta = [0, 0];\n            if (offsetLeft < 0) {\n                // move map to the left\n                delta[0] = offsetLeft - myMargin;\n            }\n            else if (offsetRight < 0) {\n                // move map to the right\n                delta[0] = Math.abs(offsetRight) + myMargin;\n            }\n            if (offsetTop < 0) {\n                // move map up\n                delta[1] = offsetTop - myMargin;\n            }\n            else if (offsetBottom < 0) {\n                // move map down\n                delta[1] = Math.abs(offsetBottom) + myMargin;\n            }\n            if (delta[0] !== 0 || delta[1] !== 0) {\n                var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (map.getView().getCenterInternal());\n                var centerPx = map.getPixelFromCoordinateInternal(center);\n                if (!centerPx) {\n                    return;\n                }\n                var newCenterPx = [centerPx[0] + delta[0], centerPx[1] + delta[1]];\n                var panOptions = panIntoViewOptions.animation || {};\n                map.getView().animateInternal({\n                    center: map.getCoordinateFromPixelInternal(newCenterPx),\n                    duration: panOptions.duration,\n                    easing: panOptions.easing,\n                });\n            }\n        }\n    };\n    /**\n     * Get the extent of an element relative to the document\n     * @param {HTMLElement} element The element.\n     * @param {import(\"./size.js\").Size} size The size of the element.\n     * @return {import(\"./extent.js\").Extent} The extent.\n     * @protected\n     */\n    Overlay.prototype.getRect = function (element, size) {\n        var box = element.getBoundingClientRect();\n        var offsetX = box.left + window.pageXOffset;\n        var offsetY = box.top + window.pageYOffset;\n        return [offsetX, offsetY, offsetX + size[0], offsetY + size[1]];\n    };\n    /**\n     * Set the positioning for this overlay.\n     * @param {import(\"./OverlayPositioning.js\").default} positioning how the overlay is\n     *     positioned relative to its point on the map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setPositioning = function (positioning) {\n        this.set(Property.POSITIONING, positioning);\n    };\n    /**\n     * Modify the visibility of the element.\n     * @param {boolean} visible Element visibility.\n     * @protected\n     */\n    Overlay.prototype.setVisible = function (visible) {\n        if (this.rendered.visible !== visible) {\n            this.element.style.display = visible ? '' : 'none';\n            this.rendered.visible = visible;\n        }\n    };\n    /**\n     * Update pixel position.\n     * @protected\n     */\n    Overlay.prototype.updatePixelPosition = function () {\n        var map = this.getMap();\n        var position = this.getPosition();\n        if (!map || !map.isRendered() || !position) {\n            this.setVisible(false);\n            return;\n        }\n        var pixel = map.getPixelFromCoordinate(position);\n        var mapSize = map.getSize();\n        this.updateRenderedPosition(pixel, mapSize);\n    };\n    /**\n     * @param {import(\"./pixel.js\").Pixel} pixel The pixel location.\n     * @param {import(\"./size.js\").Size|undefined} mapSize The map size.\n     * @protected\n     */\n    Overlay.prototype.updateRenderedPosition = function (pixel, mapSize) {\n        var style = this.element.style;\n        var offset = this.getOffset();\n        var positioning = this.getPositioning();\n        this.setVisible(true);\n        var x = Math.round(pixel[0] + offset[0]) + 'px';\n        var y = Math.round(pixel[1] + offset[1]) + 'px';\n        var posX = '0%';\n        var posY = '0%';\n        if (positioning == OverlayPositioning.BOTTOM_RIGHT ||\n            positioning == OverlayPositioning.CENTER_RIGHT ||\n            positioning == OverlayPositioning.TOP_RIGHT) {\n            posX = '-100%';\n        }\n        else if (positioning == OverlayPositioning.BOTTOM_CENTER ||\n            positioning == OverlayPositioning.CENTER_CENTER ||\n            positioning == OverlayPositioning.TOP_CENTER) {\n            posX = '-50%';\n        }\n        if (positioning == OverlayPositioning.BOTTOM_LEFT ||\n            positioning == OverlayPositioning.BOTTOM_CENTER ||\n            positioning == OverlayPositioning.BOTTOM_RIGHT) {\n            posY = '-100%';\n        }\n        else if (positioning == OverlayPositioning.CENTER_LEFT ||\n            positioning == OverlayPositioning.CENTER_CENTER ||\n            positioning == OverlayPositioning.CENTER_RIGHT) {\n            posY = '-50%';\n        }\n        var transform = \"translate(\" + posX + \", \" + posY + \") translate(\" + x + \", \" + y + \")\";\n        if (this.rendered.transform_ != transform) {\n            this.rendered.transform_ = transform;\n            style.transform = transform;\n            // @ts-ignore IE9\n            style.msTransform = transform;\n        }\n    };\n    /**\n     * returns the options this Overlay has been created with\n     * @return {Options} overlay options\n     */\n    Overlay.prototype.getOptions = function () {\n        return this.options;\n    };\n    return Overlay;\n}(BaseObject));\nexport default Overlay;\n//# sourceMappingURL=Overlay.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/OverviewMap\n */\nimport CompositeMapRenderer from '../renderer/Composite.js';\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport MapEventType from '../MapEventType.js';\nimport MapProperty from '../MapProperty.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport Overlay from '../Overlay.js';\nimport OverlayPositioning from '../OverlayPositioning.js';\nimport PluggableMap from '../PluggableMap.js';\nimport View from '../View.js';\nimport ViewProperty from '../ViewProperty.js';\nimport { CLASS_COLLAPSED, CLASS_CONTROL, CLASS_UNSELECTABLE } from '../css.js';\nimport { containsExtent, equals as equalsExtent, getBottomRight, getTopLeft, scaleFromCenter, } from '../extent.js';\nimport { listen, listenOnce } from '../events.js';\nimport { fromExtent as polygonFromExtent } from '../geom/Polygon.js';\nimport { replaceNode } from '../dom.js';\n/**\n * Maximum width and/or height extent ratio that determines when the overview\n * map should be zoomed out.\n * @type {number}\n */\nvar MAX_RATIO = 0.75;\n/**\n * Minimum width and/or height extent ratio that determines when the overview\n * map should be zoomed in.\n * @type {number}\n */\nvar MIN_RATIO = 0.1;\nvar ControlledMap = /** @class */ (function (_super) {\n    __extends(ControlledMap, _super);\n    function ControlledMap() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ControlledMap.prototype.createRenderer = function () {\n        return new CompositeMapRenderer(this);\n    };\n    return ControlledMap;\n}(PluggableMap));\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-overviewmap'] CSS class name.\n * @property {boolean} [collapsed=true] Whether the control should start collapsed or not (expanded).\n * @property {string|HTMLElement} [collapseLabel=''] Text label to use for the\n * expanded overviewmap button. Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {boolean} [collapsible=true] Whether the control can be collapsed or not.\n * @property {string|HTMLElement} [label=''] Text label to use for the collapsed\n * overviewmap button. Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {Array<import(\"../layer/Base.js\").default>|import(\"../Collection.js\").default<import(\"../layer/Base.js\").default>} [layers]\n * Layers for the overview map.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control\n * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {boolean} [rotateWithView=false] Whether the control view should rotate with the main map view.\n * @property {HTMLElement|string} [target] Specify a target if you want the control\n * to be rendered outside of the map's viewport.\n * @property {string} [tipLabel='Overview map'] Text label to use for the button tip.\n * @property {View} [view] Custom view for the overview map (should use same projection as main map). If not provided,\n * a default view with the same projection as the main map will be used.\n */\n/**\n * Create a new control with a map acting as an overview map for another\n * defined map.\n *\n * @api\n */\nvar OverviewMap = /** @class */ (function (_super) {\n    __extends(OverviewMap, _super);\n    /**\n     * @param {Options} [opt_options] OverviewMap options.\n     */\n    function OverviewMap(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        /**\n         * @private\n         */\n        _this.boundHandleRotationChanged_ = _this.handleRotationChanged_.bind(_this);\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.collapsed_ =\n            options.collapsed !== undefined ? options.collapsed : true;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.collapsible_ =\n            options.collapsible !== undefined ? options.collapsible : true;\n        if (!_this.collapsible_) {\n            _this.collapsed_ = false;\n        }\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.rotateWithView_ =\n            options.rotateWithView !== undefined ? options.rotateWithView : false;\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent|undefined}\n         */\n        _this.viewExtent_ = undefined;\n        var className = options.className !== undefined ? options.className : 'ol-overviewmap';\n        var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Overview map';\n        var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u2039';\n        if (typeof collapseLabel === 'string') {\n            /**\n             * @private\n             * @type {HTMLElement}\n             */\n            _this.collapseLabel_ = document.createElement('span');\n            _this.collapseLabel_.textContent = collapseLabel;\n        }\n        else {\n            _this.collapseLabel_ = collapseLabel;\n        }\n        var label = options.label !== undefined ? options.label : '\\u203A';\n        if (typeof label === 'string') {\n            /**\n             * @private\n             * @type {HTMLElement}\n             */\n            _this.label_ = document.createElement('span');\n            _this.label_.textContent = label;\n        }\n        else {\n            _this.label_ = label;\n        }\n        var activeLabel = _this.collapsible_ && !_this.collapsed_ ? _this.collapseLabel_ : _this.label_;\n        var button = document.createElement('button');\n        button.setAttribute('type', 'button');\n        button.title = tipLabel;\n        button.appendChild(activeLabel);\n        button.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        /**\n         * @type {HTMLElement}\n         * @private\n         */\n        _this.ovmapDiv_ = document.createElement('div');\n        _this.ovmapDiv_.className = 'ol-overviewmap-map';\n        /**\n         * Explicitly given view to be used instead of a view derived from the main map.\n         * @type {View}\n         * @private\n         */\n        _this.view_ = options.view;\n        /**\n         * @type {ControlledMap}\n         * @private\n         */\n        _this.ovmap_ = new ControlledMap({\n            view: options.view,\n        });\n        var ovmap = _this.ovmap_;\n        if (options.layers) {\n            options.layers.forEach(function (layer) {\n                ovmap.addLayer(layer);\n            });\n        }\n        var box = document.createElement('div');\n        box.className = 'ol-overviewmap-box';\n        box.style.boxSizing = 'border-box';\n        /**\n         * @type {import(\"../Overlay.js\").default}\n         * @private\n         */\n        _this.boxOverlay_ = new Overlay({\n            position: [0, 0],\n            positioning: OverlayPositioning.CENTER_CENTER,\n            element: box,\n        });\n        _this.ovmap_.addOverlay(_this.boxOverlay_);\n        var cssClasses = className +\n            ' ' +\n            CLASS_UNSELECTABLE +\n            ' ' +\n            CLASS_CONTROL +\n            (_this.collapsed_ && _this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n            (_this.collapsible_ ? '' : ' ol-uncollapsible');\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(_this.ovmapDiv_);\n        element.appendChild(button);\n        /* Interactive map */\n        var scope = _this;\n        var overlay = _this.boxOverlay_;\n        var overlayBox = _this.boxOverlay_.getElement();\n        /* Functions definition */\n        var computeDesiredMousePosition = function (mousePosition) {\n            return {\n                clientX: mousePosition.clientX,\n                clientY: mousePosition.clientY,\n            };\n        };\n        var move = function (event) {\n            var position = /** @type {?} */ (computeDesiredMousePosition(event));\n            var coordinates = ovmap.getEventCoordinateInternal(\n            /** @type {MouseEvent} */ (position));\n            overlay.setPosition(coordinates);\n        };\n        var endMoving = function (event) {\n            var coordinates = ovmap.getEventCoordinateInternal(event);\n            scope.getMap().getView().setCenterInternal(coordinates);\n            window.removeEventListener('mousemove', move);\n            window.removeEventListener('mouseup', endMoving);\n        };\n        /* Binding */\n        overlayBox.addEventListener('mousedown', function () {\n            window.addEventListener('mousemove', move);\n            window.addEventListener('mouseup', endMoving);\n        });\n        return _this;\n    }\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @api\n     */\n    OverviewMap.prototype.setMap = function (map) {\n        var oldMap = this.getMap();\n        if (map === oldMap) {\n            return;\n        }\n        if (oldMap) {\n            var oldView = oldMap.getView();\n            if (oldView) {\n                this.unbindView_(oldView);\n            }\n            this.ovmap_.setTarget(null);\n        }\n        _super.prototype.setMap.call(this, map);\n        if (map) {\n            this.ovmap_.setTarget(this.ovmapDiv_);\n            this.listenerKeys.push(listen(map, ObjectEventType.PROPERTYCHANGE, this.handleMapPropertyChange_, this));\n            var view = map.getView();\n            if (view) {\n                this.bindView_(view);\n                if (view.isDef()) {\n                    this.ovmap_.updateSize();\n                    this.resetExtent_();\n                }\n            }\n            if (!this.ovmap_.isRendered()) {\n                this.updateBoxAfterOvmapIsRendered_();\n            }\n        }\n    };\n    /**\n     * Handle map property changes.  This only deals with changes to the map's view.\n     * @param {import(\"../Object.js\").ObjectEvent} event The propertychange event.\n     * @private\n     */\n    OverviewMap.prototype.handleMapPropertyChange_ = function (event) {\n        if (event.key === MapProperty.VIEW) {\n            var oldView = /** @type {import(\"../View.js\").default} */ (event.oldValue);\n            if (oldView) {\n                this.unbindView_(oldView);\n            }\n            var newView = this.getMap().getView();\n            this.bindView_(newView);\n        }\n        else if (!this.ovmap_.isRendered() &&\n            (event.key === MapProperty.TARGET || event.key === MapProperty.SIZE)) {\n            this.ovmap_.updateSize();\n        }\n    };\n    /**\n     * Register listeners for view property changes.\n     * @param {import(\"../View.js\").default} view The view.\n     * @private\n     */\n    OverviewMap.prototype.bindView_ = function (view) {\n        if (!this.view_) {\n            // Unless an explicit view definition was given, derive default from whatever main map uses.\n            var newView = new View({\n                projection: view.getProjection(),\n            });\n            this.ovmap_.setView(newView);\n        }\n        view.addChangeListener(ViewProperty.ROTATION, this.boundHandleRotationChanged_);\n        // Sync once with the new view\n        this.handleRotationChanged_();\n    };\n    /**\n     * Unregister listeners for view property changes.\n     * @param {import(\"../View.js\").default} view The view.\n     * @private\n     */\n    OverviewMap.prototype.unbindView_ = function (view) {\n        view.removeChangeListener(ViewProperty.ROTATION, this.boundHandleRotationChanged_);\n    };\n    /**\n     * Handle rotation changes to the main map.\n     * @private\n     */\n    OverviewMap.prototype.handleRotationChanged_ = function () {\n        if (this.rotateWithView_) {\n            this.ovmap_.getView().setRotation(this.getMap().getView().getRotation());\n        }\n    };\n    /**\n     * Reset the overview map extent if the box size (width or\n     * height) is less than the size of the overview map size times minRatio\n     * or is greater than the size of the overview size times maxRatio.\n     *\n     * If the map extent was not reset, the box size can fits in the defined\n     * ratio sizes. This method then checks if is contained inside the overview\n     * map current extent. If not, recenter the overview map to the current\n     * main map center location.\n     * @private\n     */\n    OverviewMap.prototype.validateExtent_ = function () {\n        var map = this.getMap();\n        var ovmap = this.ovmap_;\n        if (!map.isRendered() || !ovmap.isRendered()) {\n            return;\n        }\n        var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n        var view = map.getView();\n        var extent = view.calculateExtentInternal(mapSize);\n        if (this.viewExtent_ && equalsExtent(extent, this.viewExtent_)) {\n            // repeats of the same extent may indicate constraint conflicts leading to an endless cycle\n            return;\n        }\n        this.viewExtent_ = extent;\n        var ovmapSize = /** @type {import(\"../size.js\").Size} */ (ovmap.getSize());\n        var ovview = ovmap.getView();\n        var ovextent = ovview.calculateExtentInternal(ovmapSize);\n        var topLeftPixel = ovmap.getPixelFromCoordinateInternal(getTopLeft(extent));\n        var bottomRightPixel = ovmap.getPixelFromCoordinateInternal(getBottomRight(extent));\n        var boxWidth = Math.abs(topLeftPixel[0] - bottomRightPixel[0]);\n        var boxHeight = Math.abs(topLeftPixel[1] - bottomRightPixel[1]);\n        var ovmapWidth = ovmapSize[0];\n        var ovmapHeight = ovmapSize[1];\n        if (boxWidth < ovmapWidth * MIN_RATIO ||\n            boxHeight < ovmapHeight * MIN_RATIO ||\n            boxWidth > ovmapWidth * MAX_RATIO ||\n            boxHeight > ovmapHeight * MAX_RATIO) {\n            this.resetExtent_();\n        }\n        else if (!containsExtent(ovextent, extent)) {\n            this.recenter_();\n        }\n    };\n    /**\n     * Reset the overview map extent to half calculated min and max ratio times\n     * the extent of the main map.\n     * @private\n     */\n    OverviewMap.prototype.resetExtent_ = function () {\n        if (MAX_RATIO === 0 || MIN_RATIO === 0) {\n            return;\n        }\n        var map = this.getMap();\n        var ovmap = this.ovmap_;\n        var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n        var view = map.getView();\n        var extent = view.calculateExtentInternal(mapSize);\n        var ovview = ovmap.getView();\n        // get how many times the current map overview could hold different\n        // box sizes using the min and max ratio, pick the step in the middle used\n        // to calculate the extent from the main map to set it to the overview map,\n        var steps = Math.log(MAX_RATIO / MIN_RATIO) / Math.LN2;\n        var ratio = 1 / (Math.pow(2, steps / 2) * MIN_RATIO);\n        scaleFromCenter(extent, ratio);\n        ovview.fitInternal(polygonFromExtent(extent));\n    };\n    /**\n     * Set the center of the overview map to the map center without changing its\n     * resolution.\n     * @private\n     */\n    OverviewMap.prototype.recenter_ = function () {\n        var map = this.getMap();\n        var ovmap = this.ovmap_;\n        var view = map.getView();\n        var ovview = ovmap.getView();\n        ovview.setCenterInternal(view.getCenterInternal());\n    };\n    /**\n     * Update the box using the main map extent\n     * @private\n     */\n    OverviewMap.prototype.updateBox_ = function () {\n        var map = this.getMap();\n        var ovmap = this.ovmap_;\n        if (!map.isRendered() || !ovmap.isRendered()) {\n            return;\n        }\n        var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n        var view = map.getView();\n        var ovview = ovmap.getView();\n        var rotation = this.rotateWithView_ ? 0 : -view.getRotation();\n        var overlay = this.boxOverlay_;\n        var box = this.boxOverlay_.getElement();\n        var center = view.getCenterInternal();\n        var resolution = view.getResolution();\n        var ovresolution = ovview.getResolution();\n        var width = (mapSize[0] * resolution) / ovresolution;\n        var height = (mapSize[1] * resolution) / ovresolution;\n        // set position using center coordinates\n        overlay.setPosition(center);\n        // set box size calculated from map extent size and overview map resolution\n        if (box) {\n            box.style.width = width + 'px';\n            box.style.height = height + 'px';\n            var transform = 'rotate(' + rotation + 'rad)';\n            box.style.transform = transform;\n        }\n    };\n    /**\n     * @private\n     */\n    OverviewMap.prototype.updateBoxAfterOvmapIsRendered_ = function () {\n        if (this.ovmapPostrenderKey_) {\n            return;\n        }\n        this.ovmapPostrenderKey_ = listenOnce(this.ovmap_, MapEventType.POSTRENDER, function (event) {\n            delete this.ovmapPostrenderKey_;\n            this.updateBox_();\n        }, this);\n    };\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    OverviewMap.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        this.handleToggle_();\n    };\n    /**\n     * @private\n     */\n    OverviewMap.prototype.handleToggle_ = function () {\n        this.element.classList.toggle(CLASS_COLLAPSED);\n        if (this.collapsed_) {\n            replaceNode(this.collapseLabel_, this.label_);\n        }\n        else {\n            replaceNode(this.label_, this.collapseLabel_);\n        }\n        this.collapsed_ = !this.collapsed_;\n        // manage overview map if it had not been rendered before and control\n        // is expanded\n        var ovmap = this.ovmap_;\n        if (!this.collapsed_) {\n            if (ovmap.isRendered()) {\n                this.viewExtent_ = undefined;\n                ovmap.render();\n                return;\n            }\n            ovmap.updateSize();\n            this.resetExtent_();\n            this.updateBoxAfterOvmapIsRendered_();\n        }\n    };\n    /**\n     * Return `true` if the overview map is collapsible, `false` otherwise.\n     * @return {boolean} True if the widget is collapsible.\n     * @api\n     */\n    OverviewMap.prototype.getCollapsible = function () {\n        return this.collapsible_;\n    };\n    /**\n     * Set whether the overview map should be collapsible.\n     * @param {boolean} collapsible True if the widget is collapsible.\n     * @api\n     */\n    OverviewMap.prototype.setCollapsible = function (collapsible) {\n        if (this.collapsible_ === collapsible) {\n            return;\n        }\n        this.collapsible_ = collapsible;\n        this.element.classList.toggle('ol-uncollapsible');\n        if (!collapsible && this.collapsed_) {\n            this.handleToggle_();\n        }\n    };\n    /**\n     * Collapse or expand the overview map according to the passed parameter. Will\n     * not do anything if the overview map isn't collapsible or if the current\n     * collapsed state is already the one requested.\n     * @param {boolean} collapsed True if the widget is collapsed.\n     * @api\n     */\n    OverviewMap.prototype.setCollapsed = function (collapsed) {\n        if (!this.collapsible_ || this.collapsed_ === collapsed) {\n            return;\n        }\n        this.handleToggle_();\n    };\n    /**\n     * Determine if the overview map is collapsed.\n     * @return {boolean} The overview map is collapsed.\n     * @api\n     */\n    OverviewMap.prototype.getCollapsed = function () {\n        return this.collapsed_;\n    };\n    /**\n     * Return `true` if the overview map view can rotate, `false` otherwise.\n     * @return {boolean} True if the control view can rotate.\n     * @api\n     */\n    OverviewMap.prototype.getRotateWithView = function () {\n        return this.rotateWithView_;\n    };\n    /**\n     * Set whether the overview map view should rotate with the main map view.\n     * @param {boolean} rotateWithView True if the control view should rotate.\n     * @api\n     */\n    OverviewMap.prototype.setRotateWithView = function (rotateWithView) {\n        if (this.rotateWithView_ === rotateWithView) {\n            return;\n        }\n        this.rotateWithView_ = rotateWithView;\n        if (this.getMap().getView().getRotation() !== 0) {\n            if (this.rotateWithView_) {\n                this.handleRotationChanged_();\n            }\n            else {\n                this.ovmap_.getView().setRotation(0);\n            }\n            this.viewExtent_ = undefined;\n            this.validateExtent_();\n            this.updateBox_();\n        }\n    };\n    /**\n     * Return the overview map.\n     * @return {import(\"../PluggableMap.js\").default} Overview map.\n     * @api\n     */\n    OverviewMap.prototype.getOverviewMap = function () {\n        return this.ovmap_;\n    };\n    /**\n     * Update the overview map element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    OverviewMap.prototype.render = function (mapEvent) {\n        this.validateExtent_();\n        this.updateBox_();\n    };\n    return OverviewMap;\n}(Control));\nexport default OverviewMap;\n//# sourceMappingURL=OverviewMap.js.map","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPane.vue?vue&type=style&index=0&id=61903772&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('MapPane')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mapPane\"},[_c('div',{attrs:{\"id\":\"map\"}})])}]\n\nexport { render, staticRenderFns }","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Feature\n */\nimport BaseObject from './Object.js';\nimport EventType from './events/EventType.js';\nimport { assert } from './asserts.js';\nimport { listen, unlistenByKey } from './events.js';\n/**\n * @typedef {typeof Feature|typeof import(\"./render/Feature.js\").default} FeatureClass\n */\n/**\n * @typedef {Feature<import(\"./geom/Geometry.js\").default>|import(\"./render/Feature.js\").default} FeatureLike\n */\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types|'change:geometry', import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types\n *     |'change:geometry', Return>} FeatureOnSignature\n */\n/***\n * @template Geometry\n * @typedef {Object<string, *> & { geometry?: Geometry }} ObjectWithGeometry\n */\n/**\n * @classdesc\n * A vector object for geographic features with a geometry and other\n * attribute properties, similar to the features in vector file formats like\n * GeoJSON.\n *\n * Features can be styled individually with `setStyle`; otherwise they use the\n * style of their vector layer.\n *\n * Note that attribute properties are set as {@link module:ol/Object} properties on\n * the feature object, so they are observable, and have get/set accessors.\n *\n * Typically, a feature has a single geometry property. You can set the\n * geometry using the `setGeometry` method and get it with `getGeometry`.\n * It is possible to store more than one geometry on a feature using attribute\n * properties. By default, the geometry used for rendering is identified by\n * the property name `geometry`. If you want to use another geometry property\n * for rendering, use the `setGeometryName` method to change the attribute\n * property associated with the geometry for the feature.  For example:\n *\n * ```js\n *\n * import Feature from 'ol/Feature';\n * import Polygon from 'ol/geom/Polygon';\n * import Point from 'ol/geom/Point';\n *\n * var feature = new Feature({\n *   geometry: new Polygon(polyCoords),\n *   labelPoint: new Point(labelCoords),\n *   name: 'My Polygon'\n * });\n *\n * // get the polygon geometry\n * var poly = feature.getGeometry();\n *\n * // Render the feature as a point using the coordinates from labelPoint\n * feature.setGeometryName('labelPoint');\n *\n * // get the point geometry\n * var point = feature.getGeometry();\n * ```\n *\n * @api\n * @template {import(\"./geom/Geometry.js\").default} Geometry\n */\nvar Feature = /** @class */ (function (_super) {\n    __extends(Feature, _super);\n    /**\n     * @param {Geometry|ObjectWithGeometry<Geometry>} [opt_geometryOrProperties]\n     *     You may pass a Geometry object directly, or an object literal containing\n     *     properties. If you pass an object literal, you may include a Geometry\n     *     associated with a `geometry` key.\n     */\n    function Feature(opt_geometryOrProperties) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {FeatureOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {FeatureOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {FeatureOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {number|string|undefined}\n         */\n        _this.id_ = undefined;\n        /**\n         * @type {string}\n         * @private\n         */\n        _this.geometryName_ = 'geometry';\n        /**\n         * User provided style.\n         * @private\n         * @type {import(\"./style/Style.js\").StyleLike}\n         */\n        _this.style_ = null;\n        /**\n         * @private\n         * @type {import(\"./style/Style.js\").StyleFunction|undefined}\n         */\n        _this.styleFunction_ = undefined;\n        /**\n         * @private\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.geometryChangeKey_ = null;\n        _this.addChangeListener(_this.geometryName_, _this.handleGeometryChanged_);\n        if (opt_geometryOrProperties) {\n            if (typeof (\n            /** @type {?} */ (opt_geometryOrProperties).getSimplifiedGeometry) === 'function') {\n                var geometry = /** @type {Geometry} */ (opt_geometryOrProperties);\n                _this.setGeometry(geometry);\n            }\n            else {\n                /** @type {Object<string, *>} */\n                var properties = opt_geometryOrProperties;\n                _this.setProperties(properties);\n            }\n        }\n        return _this;\n    }\n    /**\n     * Clone this feature. If the original feature has a geometry it\n     * is also cloned. The feature id is not set in the clone.\n     * @return {Feature<Geometry>} The clone.\n     * @api\n     */\n    Feature.prototype.clone = function () {\n        var clone = /** @type {Feature<Geometry>} */ (new Feature(this.hasProperties() ? this.getProperties() : null));\n        clone.setGeometryName(this.getGeometryName());\n        var geometry = this.getGeometry();\n        if (geometry) {\n            clone.setGeometry(/** @type {Geometry} */ (geometry.clone()));\n        }\n        var style = this.getStyle();\n        if (style) {\n            clone.setStyle(style);\n        }\n        return clone;\n    };\n    /**\n     * Get the feature's default geometry.  A feature may have any number of named\n     * geometries.  The \"default\" geometry (the one that is rendered by default) is\n     * set when calling {@link module:ol/Feature~Feature#setGeometry}.\n     * @return {Geometry|undefined} The default geometry for the feature.\n     * @api\n     * @observable\n     */\n    Feature.prototype.getGeometry = function () {\n        return /** @type {Geometry|undefined} */ (this.get(this.geometryName_));\n    };\n    /**\n     * Get the feature identifier.  This is a stable identifier for the feature and\n     * is either set when reading data from a remote source or set explicitly by\n     * calling {@link module:ol/Feature~Feature#setId}.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Feature.prototype.getId = function () {\n        return this.id_;\n    };\n    /**\n     * Get the name of the feature's default geometry.  By default, the default\n     * geometry is named `geometry`.\n     * @return {string} Get the property name associated with the default geometry\n     *     for this feature.\n     * @api\n     */\n    Feature.prototype.getGeometryName = function () {\n        return this.geometryName_;\n    };\n    /**\n     * Get the feature's style. Will return what was provided to the\n     * {@link module:ol/Feature~Feature#setStyle} method.\n     * @return {import(\"./style/Style.js\").StyleLike|undefined} The feature style.\n     * @api\n     */\n    Feature.prototype.getStyle = function () {\n        return this.style_;\n    };\n    /**\n     * Get the feature's style function.\n     * @return {import(\"./style/Style.js\").StyleFunction|undefined} Return a function\n     * representing the current style of this feature.\n     * @api\n     */\n    Feature.prototype.getStyleFunction = function () {\n        return this.styleFunction_;\n    };\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChange_ = function () {\n        this.changed();\n    };\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChanged_ = function () {\n        if (this.geometryChangeKey_) {\n            unlistenByKey(this.geometryChangeKey_);\n            this.geometryChangeKey_ = null;\n        }\n        var geometry = this.getGeometry();\n        if (geometry) {\n            this.geometryChangeKey_ = listen(geometry, EventType.CHANGE, this.handleGeometryChange_, this);\n        }\n        this.changed();\n    };\n    /**\n     * Set the default geometry for the feature.  This will update the property\n     * with the name returned by {@link module:ol/Feature~Feature#getGeometryName}.\n     * @param {Geometry|undefined} geometry The new geometry.\n     * @api\n     * @observable\n     */\n    Feature.prototype.setGeometry = function (geometry) {\n        this.set(this.geometryName_, geometry);\n    };\n    /**\n     * Set the style for the feature to override the layer style.  This can be a\n     * single style object, an array of styles, or a function that takes a\n     * resolution and returns an array of styles. To unset the feature style, call\n     * `setStyle()` without arguments or a falsey value.\n     * @param {import(\"./style/Style.js\").StyleLike} [opt_style] Style for this feature.\n     * @api\n     * @fires module:ol/events/Event~BaseEvent#event:change\n     */\n    Feature.prototype.setStyle = function (opt_style) {\n        this.style_ = opt_style;\n        this.styleFunction_ = !opt_style\n            ? undefined\n            : createStyleFunction(opt_style);\n        this.changed();\n    };\n    /**\n     * Set the feature id.  The feature id is considered stable and may be used when\n     * requesting features or comparing identifiers returned from a remote source.\n     * The feature id can be used with the\n     * {@link module:ol/source/Vector~VectorSource#getFeatureById} method.\n     * @param {number|string|undefined} id The feature id.\n     * @api\n     * @fires module:ol/events/Event~BaseEvent#event:change\n     */\n    Feature.prototype.setId = function (id) {\n        this.id_ = id;\n        this.changed();\n    };\n    /**\n     * Set the property name to be used when getting the feature's default geometry.\n     * When calling {@link module:ol/Feature~Feature#getGeometry}, the value of the property with\n     * this name will be returned.\n     * @param {string} name The property name of the default geometry.\n     * @api\n     */\n    Feature.prototype.setGeometryName = function (name) {\n        this.removeChangeListener(this.geometryName_, this.handleGeometryChanged_);\n        this.geometryName_ = name;\n        this.addChangeListener(this.geometryName_, this.handleGeometryChanged_);\n        this.handleGeometryChanged_();\n    };\n    return Feature;\n}(BaseObject));\n/**\n * Convert the provided object into a feature style function.  Functions passed\n * through unchanged.  Arrays of Style or single style objects wrapped\n * in a new feature style function.\n * @param {!import(\"./style/Style.js\").StyleFunction|!Array<import(\"./style/Style.js\").default>|!import(\"./style/Style.js\").default} obj\n *     A feature style function, a single style, or an array of styles.\n * @return {import(\"./style/Style.js\").StyleFunction} A style function.\n */\nexport function createStyleFunction(obj) {\n    if (typeof obj === 'function') {\n        return obj;\n    }\n    else {\n        /**\n         * @type {Array<import(\"./style/Style.js\").default>}\n         */\n        var styles_1;\n        if (Array.isArray(obj)) {\n            styles_1 = obj;\n        }\n        else {\n            assert(typeof ( /** @type {?} */(obj).getZIndex) === 'function', 41); // Expected an `import(\"./style/Style.js\").Style` or an array of `import(\"./style/Style.js\").Style`\n            var style = /** @type {import(\"./style/Style.js\").default} */ (obj);\n            styles_1 = [style];\n        }\n        return function () {\n            return styles_1;\n        };\n    }\n}\nexport default Feature;\n//# sourceMappingURL=Feature.js.map","/**\n * @module ol/style/Fill\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color=null] A color, gradient or pattern.\n * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n * Default null; if null, the Canvas/renderer default black will be used.\n */\n/**\n * @classdesc\n * Set fill style for vector features.\n * @api\n */\nvar Fill = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Fill(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n         */\n        this.color_ = options.color !== undefined ? options.color : null;\n    }\n    /**\n     * Clones the style. The color is not cloned if it is an {@link module:ol/colorlike~ColorLike}.\n     * @return {Fill} The cloned style.\n     * @api\n     */\n    Fill.prototype.clone = function () {\n        var color = this.getColor();\n        return new Fill({\n            color: Array.isArray(color) ? color.slice() : color || undefined,\n        });\n    };\n    /**\n     * Get the fill color.\n     * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n     * @api\n     */\n    Fill.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Set the color.\n     *\n     * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n     * @api\n     */\n    Fill.prototype.setColor = function (color) {\n        this.color_ = color;\n    };\n    return Fill;\n}());\nexport default Fill;\n//# sourceMappingURL=Fill.js.map","/**\n * @module ol/geom/flat/interpolate\n */\nimport { binarySearch } from '../../array.js';\nimport { lerp } from '../../math.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} fraction Fraction.\n * @param {Array<number>} [opt_dest] Destination.\n * @param {number} [opt_dimension] Destination dimension (default is `2`)\n * @return {Array<number>} Destination.\n */\nexport function interpolatePoint(flatCoordinates, offset, end, stride, fraction, opt_dest, opt_dimension) {\n    var o, t;\n    var n = (end - offset) / stride;\n    if (n === 1) {\n        o = offset;\n    }\n    else if (n === 2) {\n        o = offset;\n        t = fraction;\n    }\n    else if (n !== 0) {\n        var x1 = flatCoordinates[offset];\n        var y1 = flatCoordinates[offset + 1];\n        var length_1 = 0;\n        var cumulativeLengths = [0];\n        for (var i = offset + stride; i < end; i += stride) {\n            var x2 = flatCoordinates[i];\n            var y2 = flatCoordinates[i + 1];\n            length_1 += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n            cumulativeLengths.push(length_1);\n            x1 = x2;\n            y1 = y2;\n        }\n        var target = fraction * length_1;\n        var index = binarySearch(cumulativeLengths, target);\n        if (index < 0) {\n            t =\n                (target - cumulativeLengths[-index - 2]) /\n                    (cumulativeLengths[-index - 1] - cumulativeLengths[-index - 2]);\n            o = offset + (-index - 2) * stride;\n        }\n        else {\n            o = offset + index * stride;\n        }\n    }\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var dest = opt_dest ? opt_dest : new Array(dimension);\n    for (var i = 0; i < dimension; ++i) {\n        dest[i] =\n            o === undefined\n                ? NaN\n                : t === undefined\n                    ? flatCoordinates[o + i]\n                    : lerp(flatCoordinates[o + i], flatCoordinates[o + stride + i], t);\n    }\n    return dest;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} m M.\n * @param {boolean} extrapolate Extrapolate.\n * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n */\nexport function lineStringCoordinateAtM(flatCoordinates, offset, end, stride, m, extrapolate) {\n    if (end == offset) {\n        return null;\n    }\n    var coordinate;\n    if (m < flatCoordinates[offset + stride - 1]) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(offset, offset + stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    else if (flatCoordinates[end - 1] < m) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(end - stride, end);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    // FIXME use O(1) search\n    if (m == flatCoordinates[offset + stride - 1]) {\n        return flatCoordinates.slice(offset, offset + stride);\n    }\n    var lo = offset / stride;\n    var hi = end / stride;\n    while (lo < hi) {\n        var mid = (lo + hi) >> 1;\n        if (m < flatCoordinates[(mid + 1) * stride - 1]) {\n            hi = mid;\n        }\n        else {\n            lo = mid + 1;\n        }\n    }\n    var m0 = flatCoordinates[lo * stride - 1];\n    if (m == m0) {\n        return flatCoordinates.slice((lo - 1) * stride, (lo - 1) * stride + stride);\n    }\n    var m1 = flatCoordinates[(lo + 1) * stride - 1];\n    var t = (m - m0) / (m1 - m0);\n    coordinate = [];\n    for (var i = 0; i < stride - 1; ++i) {\n        coordinate.push(lerp(flatCoordinates[(lo - 1) * stride + i], flatCoordinates[lo * stride + i], t));\n    }\n    coordinate.push(m);\n    return coordinate;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} m M.\n * @param {boolean} extrapolate Extrapolate.\n * @param {boolean} interpolate Interpolate.\n * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n */\nexport function lineStringsCoordinateAtM(flatCoordinates, offset, ends, stride, m, extrapolate, interpolate) {\n    if (interpolate) {\n        return lineStringCoordinateAtM(flatCoordinates, offset, ends[ends.length - 1], stride, m, extrapolate);\n    }\n    var coordinate;\n    if (m < flatCoordinates[stride - 1]) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(0, stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    if (flatCoordinates[flatCoordinates.length - 1] < m) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(flatCoordinates.length - stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        if (offset == end) {\n            continue;\n        }\n        if (m < flatCoordinates[offset + stride - 1]) {\n            return null;\n        }\n        else if (m <= flatCoordinates[end - 1]) {\n            return lineStringCoordinateAtM(flatCoordinates, offset, end, stride, m, false);\n        }\n        offset = end;\n    }\n    return null;\n}\n//# sourceMappingURL=interpolate.js.map","/**\n * @module ol/geom/flat/length\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Length.\n */\nexport function lineStringLength(flatCoordinates, offset, end, stride) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    var length = 0;\n    for (var i = offset + stride; i < end; i += stride) {\n        var x2 = flatCoordinates[i];\n        var y2 = flatCoordinates[i + 1];\n        length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n        x1 = x2;\n        y1 = y2;\n    }\n    return length;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Perimeter.\n */\nexport function linearRingLength(flatCoordinates, offset, end, stride) {\n    var perimeter = lineStringLength(flatCoordinates, offset, end, stride);\n    var dx = flatCoordinates[end - stride] - flatCoordinates[offset];\n    var dy = flatCoordinates[end - stride + 1] - flatCoordinates[offset + 1];\n    perimeter += Math.sqrt(dx * dx + dy * dy);\n    return perimeter;\n}\n//# sourceMappingURL=length.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/LineString\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport GeometryType from './GeometryType.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { assignClosestPoint, maxSquaredDelta } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateCoordinates } from './flat/deflate.js';\nimport { douglasPeucker } from './flat/simplify.js';\nimport { extend } from '../array.js';\nimport { forEach as forEachSegment } from './flat/segments.js';\nimport { inflateCoordinates } from './flat/inflate.js';\nimport { interpolatePoint, lineStringCoordinateAtM } from './flat/interpolate.js';\nimport { intersectsLineString } from './flat/intersectsextent.js';\nimport { lineStringLength } from './flat/length.js';\n/**\n * @classdesc\n * Linestring geometry.\n *\n * @api\n */\nvar LineString = /** @class */ (function (_super) {\n    __extends(LineString, _super);\n    /**\n     * @param {Array<import(\"../coordinate.js\").Coordinate>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     */\n    function LineString(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.flatMidpoint_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.flatMidpointRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed coordinate to the coordinates of the linestring.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @api\n     */\n    LineString.prototype.appendCoordinate = function (coordinate) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = coordinate.slice();\n        }\n        else {\n            extend(this.flatCoordinates, coordinate);\n        }\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LineString} Clone.\n     * @api\n     */\n    LineString.prototype.clone = function () {\n        var lineString = new LineString(this.flatCoordinates.slice(), this.layout);\n        lineString.applyProperties(this);\n        return lineString;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    LineString.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(maxSquaredDelta(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestPoint(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * Iterate over each segment, calling the provided callback.\n     * If the callback returns a truthy value the function returns that\n     * value immediately. Otherwise the function returns `false`.\n     *\n     * @param {function(this: S, import(\"../coordinate.js\").Coordinate, import(\"../coordinate.js\").Coordinate): T} callback Function\n     *     called for each segment. The function will receive two arguments, the start and end coordinates of the segment.\n     * @return {T|boolean} Value.\n     * @template T,S\n     * @api\n     */\n    LineString.prototype.forEachSegment = function (callback) {\n        return forEachSegment(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, callback);\n    };\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * @param {number} m M.\n     * @param {boolean} [opt_extrapolate] Extrapolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    LineString.prototype.getCoordinateAtM = function (m, opt_extrapolate) {\n        if (this.layout != GeometryLayout.XYM &&\n            this.layout != GeometryLayout.XYZM) {\n            return null;\n        }\n        var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n        return lineStringCoordinateAtM(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, m, extrapolate);\n    };\n    /**\n     * Return the coordinates of the linestring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @api\n     */\n    LineString.prototype.getCoordinates = function () {\n        return inflateCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * Return the coordinate at the provided fraction along the linestring.\n     * The `fraction` is a number between 0 and 1, where 0 is the start of the\n     * linestring and 1 is the end.\n     * @param {number} fraction Fraction.\n     * @param {import(\"../coordinate.js\").Coordinate} [opt_dest] Optional coordinate whose values will\n     *     be modified. If not provided, a new coordinate will be returned.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate of the interpolated point.\n     * @api\n     */\n    LineString.prototype.getCoordinateAt = function (fraction, opt_dest) {\n        return interpolatePoint(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, fraction, opt_dest, this.stride);\n    };\n    /**\n     * Return the length of the linestring on projected plane.\n     * @return {number} Length (on projected plane).\n     * @api\n     */\n    LineString.prototype.getLength = function () {\n        return lineStringLength(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * @return {Array<number>} Flat midpoint.\n     */\n    LineString.prototype.getFlatMidpoint = function () {\n        if (this.flatMidpointRevision_ != this.getRevision()) {\n            this.flatMidpoint_ = this.getCoordinateAt(0.5, this.flatMidpoint_);\n            this.flatMidpointRevision_ = this.getRevision();\n        }\n        return this.flatMidpoint_;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {LineString} Simplified LineString.\n     * @protected\n     */\n    LineString.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        simplifiedFlatCoordinates.length = douglasPeucker(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n        return new LineString(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    LineString.prototype.getType = function () {\n        return GeometryType.LINE_STRING;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    LineString.prototype.intersectsExtent = function (extent) {\n        return intersectsLineString(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the linestring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @api\n     */\n    LineString.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 1);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinates(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return LineString;\n}(SimpleGeometry));\nexport default LineString;\n//# sourceMappingURL=LineString.js.map","/**\n * @module ol/style/Stroke\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color] A color, gradient or pattern.\n * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n * Default null; if null, the Canvas/renderer default black will be used.\n * @property {CanvasLineCap} [lineCap='round'] Line cap style: `butt`, `round`, or `square`.\n * @property {CanvasLineJoin} [lineJoin='round'] Line join style: `bevel`, `round`, or `miter`.\n * @property {Array<number>} [lineDash] Line dash pattern. Default is `null` (no dash).\n * Please note that Internet Explorer 10 and lower do not support the `setLineDash` method on\n * the `CanvasRenderingContext2D` and therefore this option will have no visual effect in these browsers.\n * @property {number} [lineDashOffset=0] Line dash offset.\n * @property {number} [miterLimit=10] Miter limit.\n * @property {number} [width] Width.\n */\n/**\n * @classdesc\n * Set stroke style for vector features.\n * Note that the defaults given are the Canvas defaults, which will be used if\n * option is not defined. The `get` functions return whatever was entered in\n * the options; they will not return the default.\n * @api\n */\nvar Stroke = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Stroke(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n         */\n        this.color_ = options.color !== undefined ? options.color : null;\n        /**\n         * @private\n         * @type {CanvasLineCap|undefined}\n         */\n        this.lineCap_ = options.lineCap;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.lineDash_ = options.lineDash !== undefined ? options.lineDash : null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.lineDashOffset_ = options.lineDashOffset;\n        /**\n         * @private\n         * @type {CanvasLineJoin|undefined}\n         */\n        this.lineJoin_ = options.lineJoin;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.miterLimit_ = options.miterLimit;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.width_ = options.width;\n    }\n    /**\n     * Clones the style.\n     * @return {Stroke} The cloned style.\n     * @api\n     */\n    Stroke.prototype.clone = function () {\n        var color = this.getColor();\n        return new Stroke({\n            color: Array.isArray(color) ? color.slice() : color || undefined,\n            lineCap: this.getLineCap(),\n            lineDash: this.getLineDash() ? this.getLineDash().slice() : undefined,\n            lineDashOffset: this.getLineDashOffset(),\n            lineJoin: this.getLineJoin(),\n            miterLimit: this.getMiterLimit(),\n            width: this.getWidth(),\n        });\n    };\n    /**\n     * Get the stroke color.\n     * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n     * @api\n     */\n    Stroke.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Get the line cap type for the stroke.\n     * @return {CanvasLineCap|undefined} Line cap.\n     * @api\n     */\n    Stroke.prototype.getLineCap = function () {\n        return this.lineCap_;\n    };\n    /**\n     * Get the line dash style for the stroke.\n     * @return {Array<number>} Line dash.\n     * @api\n     */\n    Stroke.prototype.getLineDash = function () {\n        return this.lineDash_;\n    };\n    /**\n     * Get the line dash offset for the stroke.\n     * @return {number|undefined} Line dash offset.\n     * @api\n     */\n    Stroke.prototype.getLineDashOffset = function () {\n        return this.lineDashOffset_;\n    };\n    /**\n     * Get the line join type for the stroke.\n     * @return {CanvasLineJoin|undefined} Line join.\n     * @api\n     */\n    Stroke.prototype.getLineJoin = function () {\n        return this.lineJoin_;\n    };\n    /**\n     * Get the miter limit for the stroke.\n     * @return {number|undefined} Miter limit.\n     * @api\n     */\n    Stroke.prototype.getMiterLimit = function () {\n        return this.miterLimit_;\n    };\n    /**\n     * Get the stroke width.\n     * @return {number|undefined} Width.\n     * @api\n     */\n    Stroke.prototype.getWidth = function () {\n        return this.width_;\n    };\n    /**\n     * Set the color.\n     *\n     * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n     * @api\n     */\n    Stroke.prototype.setColor = function (color) {\n        this.color_ = color;\n    };\n    /**\n     * Set the line cap.\n     *\n     * @param {CanvasLineCap|undefined} lineCap Line cap.\n     * @api\n     */\n    Stroke.prototype.setLineCap = function (lineCap) {\n        this.lineCap_ = lineCap;\n    };\n    /**\n     * Set the line dash.\n     *\n     * Please note that Internet Explorer 10 and lower [do not support][mdn] the\n     * `setLineDash` method on the `CanvasRenderingContext2D` and therefore this\n     * property will have no visual effect in these browsers.\n     *\n     * [mdn]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility\n     *\n     * @param {Array<number>} lineDash Line dash.\n     * @api\n     */\n    Stroke.prototype.setLineDash = function (lineDash) {\n        this.lineDash_ = lineDash;\n    };\n    /**\n     * Set the line dash offset.\n     *\n     * @param {number|undefined} lineDashOffset Line dash offset.\n     * @api\n     */\n    Stroke.prototype.setLineDashOffset = function (lineDashOffset) {\n        this.lineDashOffset_ = lineDashOffset;\n    };\n    /**\n     * Set the line join.\n     *\n     * @param {CanvasLineJoin|undefined} lineJoin Line join.\n     * @api\n     */\n    Stroke.prototype.setLineJoin = function (lineJoin) {\n        this.lineJoin_ = lineJoin;\n    };\n    /**\n     * Set the miter limit.\n     *\n     * @param {number|undefined} miterLimit Miter limit.\n     * @api\n     */\n    Stroke.prototype.setMiterLimit = function (miterLimit) {\n        this.miterLimit_ = miterLimit;\n    };\n    /**\n     * Set the width.\n     *\n     * @param {number|undefined} width Width.\n     * @api\n     */\n    Stroke.prototype.setWidth = function (width) {\n        this.width_ = width;\n    };\n    return Stroke;\n}());\nexport default Stroke;\n//# sourceMappingURL=Stroke.js.map","/**\n * @module ol/style/Image\n */\nimport { abstract } from '../util.js';\nimport { toSize } from '../size.js';\n/**\n * @typedef {Object} Options\n * @property {number} opacity Opacity.\n * @property {boolean} rotateWithView If the image should get rotated with the view.\n * @property {number} rotation Rotation.\n * @property {number|import(\"../size.js\").Size} scale Scale.\n * @property {Array<number>} displacement Displacement.\n */\n/**\n * @classdesc\n * A base class used for creating subclasses and not instantiated in\n * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\n * {@link module:ol/style/RegularShape~RegularShape}.\n * @abstract\n * @api\n */\nvar ImageStyle = /** @class */ (function () {\n    /**\n     * @param {Options} options Options.\n     */\n    function ImageStyle(options) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.opacity_ = options.opacity;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.rotateWithView_ = options.rotateWithView;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.rotation_ = options.rotation;\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size}\n         */\n        this.scale_ = options.scale;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.scaleArray_ = toSize(options.scale);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.displacement_ = options.displacement;\n    }\n    /**\n     * Clones the style.\n     * @return {ImageStyle} The cloned style.\n     * @api\n     */\n    ImageStyle.prototype.clone = function () {\n        var scale = this.getScale();\n        return new ImageStyle({\n            opacity: this.getOpacity(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            displacement: this.getDisplacement().slice(),\n        });\n    };\n    /**\n     * Get the symbolizer opacity.\n     * @return {number} Opacity.\n     * @api\n     */\n    ImageStyle.prototype.getOpacity = function () {\n        return this.opacity_;\n    };\n    /**\n     * Determine whether the symbolizer rotates with the map.\n     * @return {boolean} Rotate with map.\n     * @api\n     */\n    ImageStyle.prototype.getRotateWithView = function () {\n        return this.rotateWithView_;\n    };\n    /**\n     * Get the symoblizer rotation.\n     * @return {number} Rotation.\n     * @api\n     */\n    ImageStyle.prototype.getRotation = function () {\n        return this.rotation_;\n    };\n    /**\n     * Get the symbolizer scale.\n     * @return {number|import(\"../size.js\").Size} Scale.\n     * @api\n     */\n    ImageStyle.prototype.getScale = function () {\n        return this.scale_;\n    };\n    /**\n     * Get the symbolizer scale array.\n     * @return {import(\"../size.js\").Size} Scale array.\n     */\n    ImageStyle.prototype.getScaleArray = function () {\n        return this.scaleArray_;\n    };\n    /**\n     * Get the displacement of the shape\n     * @return {Array<number>} Shape's center displacement\n     * @api\n     */\n    ImageStyle.prototype.getDisplacement = function () {\n        return this.displacement_;\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @abstract\n     * @return {Array<number>} Anchor.\n     */\n    ImageStyle.prototype.getAnchor = function () {\n        return abstract();\n    };\n    /**\n     * Get the image element for the symbolizer.\n     * @abstract\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n     */\n    ImageStyle.prototype.getImage = function (pixelRatio) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n     */\n    ImageStyle.prototype.getHitDetectionImage = function () {\n        return abstract();\n    };\n    /**\n     * Get the image pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Pixel ratio.\n     */\n    ImageStyle.prototype.getPixelRatio = function (pixelRatio) {\n        return 1;\n    };\n    /**\n     * @abstract\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    ImageStyle.prototype.getImageState = function () {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    ImageStyle.prototype.getImageSize = function () {\n        return abstract();\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @abstract\n     * @return {Array<number>} Origin.\n     */\n    ImageStyle.prototype.getOrigin = function () {\n        return abstract();\n    };\n    /**\n     * Get the size of the symbolizer (in pixels).\n     * @abstract\n     * @return {import(\"../size.js\").Size} Size.\n     */\n    ImageStyle.prototype.getSize = function () {\n        return abstract();\n    };\n    /**\n     * Set the opacity.\n     *\n     * @param {number} opacity Opacity.\n     * @api\n     */\n    ImageStyle.prototype.setOpacity = function (opacity) {\n        this.opacity_ = opacity;\n    };\n    /**\n     * Set whether to rotate the style with the view.\n     *\n     * @param {boolean} rotateWithView Rotate with map.\n     * @api\n     */\n    ImageStyle.prototype.setRotateWithView = function (rotateWithView) {\n        this.rotateWithView_ = rotateWithView;\n    };\n    /**\n     * Set the rotation.\n     *\n     * @param {number} rotation Rotation.\n     * @api\n     */\n    ImageStyle.prototype.setRotation = function (rotation) {\n        this.rotation_ = rotation;\n    };\n    /**\n     * Set the scale.\n     *\n     * @param {number|import(\"../size.js\").Size} scale Scale.\n     * @api\n     */\n    ImageStyle.prototype.setScale = function (scale) {\n        this.scale_ = scale;\n        this.scaleArray_ = toSize(scale);\n    };\n    /**\n     * @abstract\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    ImageStyle.prototype.listenImageChange = function (listener) {\n        abstract();\n    };\n    /**\n     * Load not yet loaded URI.\n     * @abstract\n     */\n    ImageStyle.prototype.load = function () {\n        abstract();\n    };\n    /**\n     * @abstract\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    ImageStyle.prototype.unlistenImageChange = function (listener) {\n        abstract();\n    };\n    return ImageStyle;\n}());\nexport default ImageStyle;\n//# sourceMappingURL=Image.js.map","/**\n * @module ol/colorlike\n */\nimport { toString } from './color.js';\n/**\n * A type accepted by CanvasRenderingContext2D.fillStyle\n * or CanvasRenderingContext2D.strokeStyle.\n * Represents a color, pattern, or gradient. The origin for patterns and\n * gradients as fill style is an increment of 512 css pixels from map coordinate\n * `[0, 0]`. For seamless repeat patterns, width and height of the pattern image\n * must be a factor of two (2, 4, 8, ..., 512).\n *\n * @typedef {string|CanvasPattern|CanvasGradient} ColorLike\n * @api\n */\n/**\n * @param {import(\"./color.js\").Color|ColorLike} color Color.\n * @return {ColorLike} The color as an {@link ol/colorlike~ColorLike}.\n * @api\n */\nexport function asColorLike(color) {\n    if (Array.isArray(color)) {\n        return toString(color);\n    }\n    else {\n        return color;\n    }\n}\n//# sourceMappingURL=colorlike.js.map","/**\n * @module ol/style/RegularShape\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport { asArray } from '../color.js';\nimport { asColorLike } from '../colorlike.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { defaultFillStyle, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, } from '../render/canvas.js';\n/**\n * Specify radius for regular polygons, or radius1 and radius2 for stars.\n * @typedef {Object} Options\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {number} points Number of points for stars and regular polygons. In case of a polygon, the number of points\n * is the number of sides.\n * @property {number} [radius] Radius of a regular polygon.\n * @property {number} [radius1] First radius of a star. Ignored if radius is set.\n * @property {number} [radius2] Second radius of a star.\n * @property {number} [angle=0] Shape's angle in radians. A value of 0 will have one of the shape's point facing up.\n * @property {Array<number>} [displacement=[0,0]] Displacement of the shape\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale. Unless two dimensional scaling is required a better\n * result may be obtained with appropriate settings for `radius`, `radius1` and `radius2`.\n */\n/**\n * @typedef {Object} RenderOptions\n * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle] StrokeStyle.\n * @property {number} strokeWidth StrokeWidth.\n * @property {number} size Size.\n * @property {Array<number>} lineDash LineDash.\n * @property {number} lineDashOffset LineDashOffset.\n * @property {CanvasLineJoin} lineJoin LineJoin.\n * @property {number} miterLimit MiterLimit.\n */\n/**\n * @classdesc\n * Set regular shape style for vector features. The resulting shape will be\n * a regular polygon when `radius` is provided, or a star when `radius1` and\n * `radius2` are provided.\n * @api\n */\nvar RegularShape = /** @class */ (function (_super) {\n    __extends(RegularShape, _super);\n    /**\n     * @param {Options} options Options.\n     */\n    function RegularShape(options) {\n        var _this = this;\n        /**\n         * @type {boolean}\n         */\n        var rotateWithView = options.rotateWithView !== undefined ? options.rotateWithView : false;\n        _this = _super.call(this, {\n            opacity: 1,\n            rotateWithView: rotateWithView,\n            rotation: options.rotation !== undefined ? options.rotation : 0,\n            scale: options.scale !== undefined ? options.scale : 1,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n        }) || this;\n        /**\n         * @private\n         * @type {Object<number, HTMLCanvasElement>}\n         */\n        _this.canvas_ = undefined;\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.hitDetectionCanvas_ = null;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        _this.fill_ = options.fill !== undefined ? options.fill : null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.origin_ = [0, 0];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.points_ = options.points;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.radius_ =\n            options.radius !== undefined ? options.radius : options.radius1;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.radius2_ = options.radius2;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.angle_ = options.angle !== undefined ? options.angle : 0;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        _this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.anchor_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = null;\n        /**\n         * @private\n         * @type {RenderOptions}\n         */\n        _this.renderOptions_ = null;\n        _this.render();\n        return _this;\n    }\n    /**\n     * Clones the style.\n     * @return {RegularShape} The cloned style.\n     * @api\n     */\n    RegularShape.prototype.clone = function () {\n        var scale = this.getScale();\n        var style = new RegularShape({\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            points: this.getPoints(),\n            radius: this.getRadius(),\n            radius2: this.getRadius2(),\n            angle: this.getAngle(),\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            displacement: this.getDisplacement().slice(),\n        });\n        style.setOpacity(this.getOpacity());\n        return style;\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @return {Array<number>} Anchor.\n     * @api\n     */\n    RegularShape.prototype.getAnchor = function () {\n        return this.anchor_;\n    };\n    /**\n     * Get the angle used in generating the shape.\n     * @return {number} Shape's rotation in radians.\n     * @api\n     */\n    RegularShape.prototype.getAngle = function () {\n        return this.angle_;\n    };\n    /**\n     * Get the fill style for the shape.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    RegularShape.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * @return {HTMLCanvasElement} Image element.\n     */\n    RegularShape.prototype.getHitDetectionImage = function () {\n        if (!this.hitDetectionCanvas_) {\n            this.createHitDetectionCanvas_(this.renderOptions_);\n        }\n        return this.hitDetectionCanvas_;\n    };\n    /**\n     * Get the image icon.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLCanvasElement} Image or Canvas element.\n     * @api\n     */\n    RegularShape.prototype.getImage = function (pixelRatio) {\n        var image = this.canvas_[pixelRatio];\n        if (!image) {\n            var renderOptions = this.renderOptions_;\n            var context = createCanvasContext2D(renderOptions.size * pixelRatio, renderOptions.size * pixelRatio);\n            this.draw_(renderOptions, context, pixelRatio);\n            image = context.canvas;\n            this.canvas_[pixelRatio] = image;\n        }\n        return image;\n    };\n    /**\n     * Get the image pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Pixel ratio.\n     */\n    RegularShape.prototype.getPixelRatio = function (pixelRatio) {\n        return pixelRatio;\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    RegularShape.prototype.getImageSize = function () {\n        return this.size_;\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    RegularShape.prototype.getImageState = function () {\n        return ImageState.LOADED;\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @return {Array<number>} Origin.\n     * @api\n     */\n    RegularShape.prototype.getOrigin = function () {\n        return this.origin_;\n    };\n    /**\n     * Get the number of points for generating the shape.\n     * @return {number} Number of points for stars and regular polygons.\n     * @api\n     */\n    RegularShape.prototype.getPoints = function () {\n        return this.points_;\n    };\n    /**\n     * Get the (primary) radius for the shape.\n     * @return {number} Radius.\n     * @api\n     */\n    RegularShape.prototype.getRadius = function () {\n        return this.radius_;\n    };\n    /**\n     * Get the secondary radius for the shape.\n     * @return {number|undefined} Radius2.\n     * @api\n     */\n    RegularShape.prototype.getRadius2 = function () {\n        return this.radius2_;\n    };\n    /**\n     * Get the size of the symbolizer (in pixels).\n     * @return {import(\"../size.js\").Size} Size.\n     * @api\n     */\n    RegularShape.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * Get the stroke style for the shape.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    RegularShape.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    RegularShape.prototype.listenImageChange = function (listener) { };\n    /**\n     * Load not yet loaded URI.\n     */\n    RegularShape.prototype.load = function () { };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    RegularShape.prototype.unlistenImageChange = function (listener) { };\n    /**\n     * Calculate additional canvas size needed for the miter.\n     * @param {string} lineJoin Line join\n     * @param {number} strokeWidth Stroke width\n     * @param {number} miterLimit Miter limit\n     * @return {number} Additional canvas size needed\n     * @private\n     */\n    RegularShape.prototype.calculateLineJoinSize_ = function (lineJoin, strokeWidth, miterLimit) {\n        if (strokeWidth === 0 ||\n            this.points_ === Infinity ||\n            (lineJoin !== 'bevel' && lineJoin !== 'miter')) {\n            return strokeWidth;\n        }\n        // m  | ^\n        // i  | |\\                  .\n        // t >|  #\\\n        // e  | |\\ \\              .\n        // r      \\s\\\n        //      |  \\t\\          .                 .\n        //          \\r\\                      .   .\n        //      |    \\o\\      .          .  . . .\n        //          e \\k\\            .  .    . .\n        //      |      \\e\\  .    .  .       . .\n        //       d      \\ \\  .  .          . .\n        //      | _ _a_ _\\#  .            . .\n        //   r1          / `             . .\n        //      |                       . .\n        //       b     /               . .\n        //      |                     . .\n        //           / r2            . .\n        //      |                        .   .\n        //         /                           .   .\n        //      |                                   .   .\n        //       /                                         .   .\n        //       center\n        var r1 = this.radius_;\n        var r2 = this.radius2_ === undefined ? r1 : this.radius2_;\n        if (r1 < r2) {\n            var tmp = r1;\n            r1 = r2;\n            r2 = tmp;\n        }\n        var points = this.radius2_ === undefined ? this.points_ : this.points_ * 2;\n        var alpha = (2 * Math.PI) / points;\n        var a = r2 * Math.sin(alpha);\n        var b = Math.sqrt(r2 * r2 - a * a);\n        var d = r1 - b;\n        var e = Math.sqrt(a * a + d * d);\n        var miterRatio = e / a;\n        if (lineJoin === 'miter' && miterRatio <= miterLimit) {\n            return miterRatio * strokeWidth;\n        }\n        // Calculate the distnce from center to the stroke corner where\n        // it was cut short because of the miter limit.\n        //              l\n        //        ----+---- <= distance from center to here is maxr\n        //       /####|k ##\\\n        //      /#####^#####\\\n        //     /#### /+\\# s #\\\n        //    /### h/+++\\# t #\\\n        //   /### t/+++++\\# r #\\\n        //  /### a/+++++++\\# o #\\\n        // /### p/++ fill +\\# k #\\\n        ///#### /+++++^+++++\\# e #\\\n        //#####/+++++/+\\+++++\\#####\\\n        var k = strokeWidth / 2 / miterRatio;\n        var l = (strokeWidth / 2) * (d / e);\n        var maxr = Math.sqrt((r1 + k) * (r1 + k) + l * l);\n        var bevelAdd = maxr - r1;\n        if (this.radius2_ === undefined || lineJoin === 'bevel') {\n            return bevelAdd * 2;\n        }\n        // If outer miter is over the miter limit the inner miter may reach through the\n        // center and be longer than the bevel, same calculation as above but swap r1 / r2.\n        var aa = r1 * Math.sin(alpha);\n        var bb = Math.sqrt(r1 * r1 - aa * aa);\n        var dd = r2 - bb;\n        var ee = Math.sqrt(aa * aa + dd * dd);\n        var innerMiterRatio = ee / aa;\n        if (innerMiterRatio <= miterLimit) {\n            var innerLength = (innerMiterRatio * strokeWidth) / 2 - r2 - r1;\n            return 2 * Math.max(bevelAdd, innerLength);\n        }\n        return bevelAdd * 2;\n    };\n    /**\n     * @return {RenderOptions}  The render options\n     * @protected\n     */\n    RegularShape.prototype.createRenderOptions = function () {\n        var lineJoin = defaultLineJoin;\n        var miterLimit = 0;\n        var lineDash = null;\n        var lineDashOffset = 0;\n        var strokeStyle;\n        var strokeWidth = 0;\n        if (this.stroke_) {\n            strokeStyle = this.stroke_.getColor();\n            if (strokeStyle === null) {\n                strokeStyle = defaultStrokeStyle;\n            }\n            strokeStyle = asColorLike(strokeStyle);\n            strokeWidth = this.stroke_.getWidth();\n            if (strokeWidth === undefined) {\n                strokeWidth = defaultLineWidth;\n            }\n            lineDash = this.stroke_.getLineDash();\n            lineDashOffset = this.stroke_.getLineDashOffset();\n            lineJoin = this.stroke_.getLineJoin();\n            if (lineJoin === undefined) {\n                lineJoin = defaultLineJoin;\n            }\n            miterLimit = this.stroke_.getMiterLimit();\n            if (miterLimit === undefined) {\n                miterLimit = defaultMiterLimit;\n            }\n        }\n        var add = this.calculateLineJoinSize_(lineJoin, strokeWidth, miterLimit);\n        var maxRadius = Math.max(this.radius_, this.radius2_ || 0);\n        var size = Math.ceil(2 * maxRadius + add);\n        return {\n            strokeStyle: strokeStyle,\n            strokeWidth: strokeWidth,\n            size: size,\n            lineDash: lineDash,\n            lineDashOffset: lineDashOffset,\n            lineJoin: lineJoin,\n            miterLimit: miterLimit,\n        };\n    };\n    /**\n     * @protected\n     */\n    RegularShape.prototype.render = function () {\n        this.renderOptions_ = this.createRenderOptions();\n        var size = this.renderOptions_.size;\n        var displacement = this.getDisplacement();\n        this.canvas_ = {};\n        this.anchor_ = [size / 2 - displacement[0], size / 2 + displacement[1]];\n        this.size_ = [size, size];\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The rendering context.\n     * @param {number} pixelRatio The pixel ratio.\n     */\n    RegularShape.prototype.draw_ = function (renderOptions, context, pixelRatio) {\n        context.scale(pixelRatio, pixelRatio);\n        // set origin to canvas center\n        context.translate(renderOptions.size / 2, renderOptions.size / 2);\n        this.createPath_(context);\n        if (this.fill_) {\n            var color = this.fill_.getColor();\n            if (color === null) {\n                color = defaultFillStyle;\n            }\n            context.fillStyle = asColorLike(color);\n            context.fill();\n        }\n        if (this.stroke_) {\n            context.strokeStyle = renderOptions.strokeStyle;\n            context.lineWidth = renderOptions.strokeWidth;\n            if (context.setLineDash && renderOptions.lineDash) {\n                context.setLineDash(renderOptions.lineDash);\n                context.lineDashOffset = renderOptions.lineDashOffset;\n            }\n            context.lineJoin = renderOptions.lineJoin;\n            context.miterLimit = renderOptions.miterLimit;\n            context.stroke();\n        }\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     */\n    RegularShape.prototype.createHitDetectionCanvas_ = function (renderOptions) {\n        if (this.fill_) {\n            var color = this.fill_.getColor();\n            // determine if fill is transparent (or pattern or gradient)\n            var opacity = 0;\n            if (typeof color === 'string') {\n                color = asArray(color);\n            }\n            if (color === null) {\n                opacity = 1;\n            }\n            else if (Array.isArray(color)) {\n                opacity = color.length === 4 ? color[3] : 1;\n            }\n            if (opacity === 0) {\n                // if a transparent fill style is set, create an extra hit-detection image\n                // with a default fill style\n                var context = createCanvasContext2D(renderOptions.size, renderOptions.size);\n                this.hitDetectionCanvas_ = context.canvas;\n                this.drawHitDetectionCanvas_(renderOptions, context);\n            }\n        }\n        if (!this.hitDetectionCanvas_) {\n            this.hitDetectionCanvas_ = this.getImage(1);\n        }\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context The context to draw in.\n     */\n    RegularShape.prototype.createPath_ = function (context) {\n        var points = this.points_;\n        var radius = this.radius_;\n        if (points === Infinity) {\n            context.arc(0, 0, radius, 0, 2 * Math.PI);\n        }\n        else {\n            var radius2 = this.radius2_ === undefined ? radius : this.radius2_;\n            if (this.radius2_ !== undefined) {\n                points *= 2;\n            }\n            var startAngle = this.angle_ - Math.PI / 2;\n            var step = (2 * Math.PI) / points;\n            for (var i = 0; i < points; i++) {\n                var angle0 = startAngle + i * step;\n                var radiusC = i % 2 === 0 ? radius : radius2;\n                context.lineTo(radiusC * Math.cos(angle0), radiusC * Math.sin(angle0));\n            }\n            context.closePath();\n        }\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The context.\n     */\n    RegularShape.prototype.drawHitDetectionCanvas_ = function (renderOptions, context) {\n        // set origin to canvas center\n        context.translate(renderOptions.size / 2, renderOptions.size / 2);\n        this.createPath_(context);\n        context.fillStyle = defaultFillStyle;\n        context.fill();\n        if (this.stroke_) {\n            context.strokeStyle = renderOptions.strokeStyle;\n            context.lineWidth = renderOptions.strokeWidth;\n            if (renderOptions.lineDash) {\n                context.setLineDash(renderOptions.lineDash);\n                context.lineDashOffset = renderOptions.lineDashOffset;\n            }\n            context.lineJoin = renderOptions.lineJoin;\n            context.miterLimit = renderOptions.miterLimit;\n            context.stroke();\n        }\n    };\n    return RegularShape;\n}(ImageStyle));\nexport default RegularShape;\n//# sourceMappingURL=RegularShape.js.map","/**\n * @module ol/style/Circle\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport RegularShape from './RegularShape.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {number} radius Circle radius.\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {Array<number>} [displacement=[0,0]] displacement\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale. A two dimensional scale will produce an ellipse.\n * Unless two dimensional scaling is required a better result may be obtained with an appropriate setting for `radius`.\n * @property {number} [rotation=0] Rotation in radians\n * (positive rotation clockwise, meaningful only when used in conjunction with a two dimensional scale).\n * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view\n * (meaningful only when used in conjunction with a two dimensional scale).\n */\n/**\n * @classdesc\n * Set circle style for vector features.\n * @api\n */\nvar CircleStyle = /** @class */ (function (_super) {\n    __extends(CircleStyle, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function CircleStyle(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            points: Infinity,\n            fill: options.fill,\n            radius: options.radius,\n            stroke: options.stroke,\n            scale: options.scale !== undefined ? options.scale : 1,\n            rotation: options.rotation !== undefined ? options.rotation : 0,\n            rotateWithView: options.rotateWithView !== undefined ? options.rotateWithView : false,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n        }) || this;\n        return _this;\n    }\n    /**\n     * Clones the style.\n     * @return {CircleStyle} The cloned style.\n     * @api\n     */\n    CircleStyle.prototype.clone = function () {\n        var scale = this.getScale();\n        var style = new CircleStyle({\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            radius: this.getRadius(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            displacement: this.getDisplacement().slice(),\n        });\n        style.setOpacity(this.getOpacity());\n        return style;\n    };\n    /**\n     * Set the circle radius.\n     *\n     * @param {number} radius Circle radius.\n     * @api\n     */\n    CircleStyle.prototype.setRadius = function (radius) {\n        this.radius_ = radius;\n        this.render();\n    };\n    return CircleStyle;\n}(RegularShape));\nexport default CircleStyle;\n//# sourceMappingURL=Circle.js.map","/**\n * @module ol/style/Style\n */\nimport CircleStyle from './Circle.js';\nimport Fill from './Fill.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport Stroke from './Stroke.js';\nimport { assert } from '../asserts.js';\n/**\n * A function that takes an {@link module:ol/Feature} and a `{number}`\n * representing the view's resolution. The function should return a\n * {@link module:ol/style/Style} or an array of them. This way e.g. a\n * vector layer can be styled. If the function returns `undefined`, the\n * feature will not be rendered.\n *\n * @typedef {function(import(\"../Feature.js\").FeatureLike, number):(Style|Array<Style>|void)} StyleFunction\n */\n/**\n * A {@link Style}, an array of {@link Style}, or a {@link StyleFunction}.\n * @typedef {Style|Array<Style>|StyleFunction} StyleLike\n */\n/**\n * A function that takes an {@link module:ol/Feature} as argument and returns an\n * {@link module:ol/geom/Geometry} that will be rendered and styled for the feature.\n *\n * @typedef {function(import(\"../Feature.js\").FeatureLike):\n *     (import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined)} GeometryFunction\n */\n/**\n * Custom renderer function. Takes two arguments:\n *\n * 1. The pixel coordinates of the geometry in GeoJSON notation.\n * 2. The {@link module:ol/render~State} of the layer renderer.\n *\n * @typedef {function((import(\"../coordinate.js\").Coordinate|Array<import(\"../coordinate.js\").Coordinate>|Array<Array<import(\"../coordinate.js\").Coordinate>>),import(\"../render.js\").State): void}\n * RenderFunction\n */\n/**\n * @typedef {Object} Options\n * @property {string|import(\"../geom/Geometry.js\").default|GeometryFunction} [geometry] Feature property or geometry\n * or function returning a geometry to render for this style.\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {import(\"./Image.js\").default} [image] Image style.\n * @property {RenderFunction} [renderer] Custom renderer. When configured, `fill`, `stroke` and `image` will be\n * ignored, and the provided function will be called with each render frame for each geometry.\n * @property {RenderFunction} [hitDetectionRenderer] Custom renderer for hit detection. If provided will be used\n * in hit detection rendering.\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {import(\"./Text.js\").default} [text] Text style.\n * @property {number} [zIndex] Z index.\n */\n/**\n * @classdesc\n * Container for vector feature rendering styles. Any changes made to the style\n * or its children through `set*()` methods will not take effect until the\n * feature or layer that uses the style is re-rendered.\n *\n * ## Feature styles\n *\n * If no style is defined, the following default style is used:\n * ```js\n *  import {Fill, Stroke, Circle, Style} from 'ol/style';\n *\n *  var fill = new Fill({\n *    color: 'rgba(255,255,255,0.4)'\n *  });\n *  var stroke = new Stroke({\n *    color: '#3399CC',\n *    width: 1.25\n *  });\n *  var styles = [\n *    new Style({\n *      image: new Circle({\n *        fill: fill,\n *        stroke: stroke,\n *        radius: 5\n *      }),\n *      fill: fill,\n *      stroke: stroke\n *    })\n *  ];\n * ```\n *\n * A separate editing style has the following defaults:\n * ```js\n *  import {Fill, Stroke, Circle, Style} from 'ol/style';\n *  import GeometryType from 'ol/geom/GeometryType';\n *\n *  var white = [255, 255, 255, 1];\n *  var blue = [0, 153, 255, 1];\n *  var width = 3;\n *  styles[GeometryType.POLYGON] = [\n *    new Style({\n *      fill: new Fill({\n *        color: [255, 255, 255, 0.5]\n *      })\n *    })\n *  ];\n *  styles[GeometryType.MULTI_POLYGON] =\n *      styles[GeometryType.POLYGON];\n *  styles[GeometryType.LINE_STRING] = [\n *    new Style({\n *      stroke: new Stroke({\n *        color: white,\n *        width: width + 2\n *      })\n *    }),\n *    new Style({\n *      stroke: new Stroke({\n *        color: blue,\n *        width: width\n *      })\n *    })\n *  ];\n *  styles[GeometryType.MULTI_LINE_STRING] =\n *      styles[GeometryType.LINE_STRING];\n *  styles[GeometryType.POINT] = [\n *    new Style({\n *      image: new Circle({\n *        radius: width * 2,\n *        fill: new Fill({\n *          color: blue\n *        }),\n *        stroke: new Stroke({\n *          color: white,\n *          width: width / 2\n *        })\n *      }),\n *      zIndex: Infinity\n *    })\n *  ];\n *  styles[GeometryType.MULTI_POINT] =\n *      styles[GeometryType.POINT];\n *  styles[GeometryType.GEOMETRY_COLLECTION] =\n *      styles[GeometryType.POLYGON].concat(\n *          styles[GeometryType.LINE_STRING],\n *          styles[GeometryType.POINT]\n *      );\n * ```\n *\n * @api\n */\nvar Style = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Style options.\n     */\n    function Style(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n         */\n        this.geometry_ = null;\n        /**\n         * @private\n         * @type {!GeometryFunction}\n         */\n        this.geometryFunction_ = defaultGeometryFunction;\n        if (options.geometry !== undefined) {\n            this.setGeometry(options.geometry);\n        }\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.fill_ = options.fill !== undefined ? options.fill : null;\n        /**\n         * @private\n         * @type {import(\"./Image.js\").default}\n         */\n        this.image_ = options.image !== undefined ? options.image : null;\n        /**\n         * @private\n         * @type {RenderFunction|null}\n         */\n        this.renderer_ = options.renderer !== undefined ? options.renderer : null;\n        /**\n         * @private\n         * @type {RenderFunction|null}\n         */\n        this.hitDetectionRenderer_ =\n            options.hitDetectionRenderer !== undefined\n                ? options.hitDetectionRenderer\n                : null;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {import(\"./Text.js\").default}\n         */\n        this.text_ = options.text !== undefined ? options.text : null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.zIndex_ = options.zIndex;\n    }\n    /**\n     * Clones the style.\n     * @return {Style} The cloned style.\n     * @api\n     */\n    Style.prototype.clone = function () {\n        var geometry = this.getGeometry();\n        if (geometry && typeof geometry === 'object') {\n            geometry = /** @type {import(\"../geom/Geometry.js\").default} */ (geometry).clone();\n        }\n        return new Style({\n            geometry: geometry,\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            image: this.getImage() ? this.getImage().clone() : undefined,\n            renderer: this.getRenderer(),\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            text: this.getText() ? this.getText().clone() : undefined,\n            zIndex: this.getZIndex(),\n        });\n    };\n    /**\n     * Get the custom renderer function that was configured with\n     * {@link #setRenderer} or the `renderer` constructor option.\n     * @return {RenderFunction|null} Custom renderer function.\n     * @api\n     */\n    Style.prototype.getRenderer = function () {\n        return this.renderer_;\n    };\n    /**\n     * Sets a custom renderer function for this style. When set, `fill`, `stroke`\n     * and `image` options of the style will be ignored.\n     * @param {RenderFunction|null} renderer Custom renderer function.\n     * @api\n     */\n    Style.prototype.setRenderer = function (renderer) {\n        this.renderer_ = renderer;\n    };\n    /**\n     * Sets a custom renderer function for this style used\n     * in hit detection.\n     * @param {RenderFunction|null} renderer Custom renderer function.\n     * @api\n     */\n    Style.prototype.setHitDetectionRenderer = function (renderer) {\n        this.hitDetectionRenderer_ = renderer;\n    };\n    /**\n     * Get the custom renderer function that was configured with\n     * {@link #setHitDetectionRenderer} or the `hitDetectionRenderer` constructor option.\n     * @return {RenderFunction|null} Custom renderer function.\n     * @api\n     */\n    Style.prototype.getHitDetectionRenderer = function () {\n        return this.hitDetectionRenderer_;\n    };\n    /**\n     * Get the geometry to be rendered.\n     * @return {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n     * Feature property or geometry or function that returns the geometry that will\n     * be rendered with this style.\n     * @api\n     */\n    Style.prototype.getGeometry = function () {\n        return this.geometry_;\n    };\n    /**\n     * Get the function used to generate a geometry for rendering.\n     * @return {!GeometryFunction} Function that is called with a feature\n     * and returns the geometry to render instead of the feature's geometry.\n     * @api\n     */\n    Style.prototype.getGeometryFunction = function () {\n        return this.geometryFunction_;\n    };\n    /**\n     * Get the fill style.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Style.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * Set the fill style.\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Style.prototype.setFill = function (fill) {\n        this.fill_ = fill;\n    };\n    /**\n     * Get the image style.\n     * @return {import(\"./Image.js\").default} Image style.\n     * @api\n     */\n    Style.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Set the image style.\n     * @param {import(\"./Image.js\").default} image Image style.\n     * @api\n     */\n    Style.prototype.setImage = function (image) {\n        this.image_ = image;\n    };\n    /**\n     * Get the stroke style.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Style.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * Set the stroke style.\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Style.prototype.setStroke = function (stroke) {\n        this.stroke_ = stroke;\n    };\n    /**\n     * Get the text style.\n     * @return {import(\"./Text.js\").default} Text style.\n     * @api\n     */\n    Style.prototype.getText = function () {\n        return this.text_;\n    };\n    /**\n     * Set the text style.\n     * @param {import(\"./Text.js\").default} text Text style.\n     * @api\n     */\n    Style.prototype.setText = function (text) {\n        this.text_ = text;\n    };\n    /**\n     * Get the z-index for the style.\n     * @return {number|undefined} ZIndex.\n     * @api\n     */\n    Style.prototype.getZIndex = function () {\n        return this.zIndex_;\n    };\n    /**\n     * Set a geometry that is rendered instead of the feature's geometry.\n     *\n     * @param {string|import(\"../geom/Geometry.js\").default|GeometryFunction} geometry\n     *     Feature property or geometry or function returning a geometry to render\n     *     for this style.\n     * @api\n     */\n    Style.prototype.setGeometry = function (geometry) {\n        if (typeof geometry === 'function') {\n            this.geometryFunction_ = geometry;\n        }\n        else if (typeof geometry === 'string') {\n            this.geometryFunction_ = function (feature) {\n                return /** @type {import(\"../geom/Geometry.js\").default} */ (feature.get(geometry));\n            };\n        }\n        else if (!geometry) {\n            this.geometryFunction_ = defaultGeometryFunction;\n        }\n        else if (geometry !== undefined) {\n            this.geometryFunction_ = function () {\n                return /** @type {import(\"../geom/Geometry.js\").default} */ (geometry);\n            };\n        }\n        this.geometry_ = geometry;\n    };\n    /**\n     * Set the z-index.\n     *\n     * @param {number|undefined} zIndex ZIndex.\n     * @api\n     */\n    Style.prototype.setZIndex = function (zIndex) {\n        this.zIndex_ = zIndex;\n    };\n    return Style;\n}());\n/**\n * Convert the provided object into a style function.  Functions passed through\n * unchanged.  Arrays of Style or single style objects wrapped in a\n * new style function.\n * @param {StyleFunction|Array<Style>|Style} obj\n *     A style function, a single style, or an array of styles.\n * @return {StyleFunction} A style function.\n */\nexport function toFunction(obj) {\n    var styleFunction;\n    if (typeof obj === 'function') {\n        styleFunction = obj;\n    }\n    else {\n        /**\n         * @type {Array<Style>}\n         */\n        var styles_1;\n        if (Array.isArray(obj)) {\n            styles_1 = obj;\n        }\n        else {\n            assert(typeof ( /** @type {?} */(obj).getZIndex) === 'function', 41); // Expected an `Style` or an array of `Style`\n            var style = /** @type {Style} */ (obj);\n            styles_1 = [style];\n        }\n        styleFunction = function () {\n            return styles_1;\n        };\n    }\n    return styleFunction;\n}\n/**\n * @type {Array<Style>}\n */\nvar defaultStyles = null;\n/**\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {number} resolution Resolution.\n * @return {Array<Style>} Style.\n */\nexport function createDefaultStyle(feature, resolution) {\n    // We don't use an immediately-invoked function\n    // and a closure so we don't get an error at script evaluation time in\n    // browsers that do not support Canvas. (import(\"./Circle.js\").CircleStyle does\n    // canvas.getContext('2d') at construction time, which will cause an.error\n    // in such browsers.)\n    if (!defaultStyles) {\n        var fill = new Fill({\n            color: 'rgba(255,255,255,0.4)',\n        });\n        var stroke = new Stroke({\n            color: '#3399CC',\n            width: 1.25,\n        });\n        defaultStyles = [\n            new Style({\n                image: new CircleStyle({\n                    fill: fill,\n                    stroke: stroke,\n                    radius: 5,\n                }),\n                fill: fill,\n                stroke: stroke,\n            }),\n        ];\n    }\n    return defaultStyles;\n}\n/**\n * Default styles for editing features.\n * @return {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} Styles\n */\nexport function createEditingStyle() {\n    /** @type {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} */\n    var styles = {};\n    var white = [255, 255, 255, 1];\n    var blue = [0, 153, 255, 1];\n    var width = 3;\n    styles[GeometryType.POLYGON] = [\n        new Style({\n            fill: new Fill({\n                color: [255, 255, 255, 0.5],\n            }),\n        }),\n    ];\n    styles[GeometryType.MULTI_POLYGON] = styles[GeometryType.POLYGON];\n    styles[GeometryType.LINE_STRING] = [\n        new Style({\n            stroke: new Stroke({\n                color: white,\n                width: width + 2,\n            }),\n        }),\n        new Style({\n            stroke: new Stroke({\n                color: blue,\n                width: width,\n            }),\n        }),\n    ];\n    styles[GeometryType.MULTI_LINE_STRING] = styles[GeometryType.LINE_STRING];\n    styles[GeometryType.CIRCLE] = styles[GeometryType.POLYGON].concat(styles[GeometryType.LINE_STRING]);\n    styles[GeometryType.POINT] = [\n        new Style({\n            image: new CircleStyle({\n                radius: width * 2,\n                fill: new Fill({\n                    color: blue,\n                }),\n                stroke: new Stroke({\n                    color: white,\n                    width: width / 2,\n                }),\n            }),\n            zIndex: Infinity,\n        }),\n    ];\n    styles[GeometryType.MULTI_POINT] = styles[GeometryType.POINT];\n    styles[GeometryType.GEOMETRY_COLLECTION] = styles[GeometryType.POLYGON].concat(styles[GeometryType.LINE_STRING], styles[GeometryType.POINT]);\n    return styles;\n}\n/**\n * Function that is called with a feature and returns its default geometry.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature to get the geometry for.\n * @return {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined} Geometry to render.\n */\nfunction defaultGeometryFunction(feature) {\n    return feature.getGeometry();\n}\nexport default Style;\n//# sourceMappingURL=Style.js.map","/**\n * @module ol/style/TextPlacement\n */\n/**\n * Text placement. One of `'point'`, `'line'`. Default is `'point'`. Note that\n * `'line'` requires the underlying geometry to be a {@link module:ol/geom/LineString~LineString},\n * {@link module:ol/geom/Polygon~Polygon}, {@link module:ol/geom/MultiLineString~MultiLineString} or\n * {@link module:ol/geom/MultiPolygon~MultiPolygon}.\n * @enum {string}\n */\nexport default {\n    POINT: 'point',\n    LINE: 'line',\n};\n//# sourceMappingURL=TextPlacement.js.map","/**\n * @module ol/style/Text\n */\nimport Fill from './Fill.js';\nimport TextPlacement from './TextPlacement.js';\nimport { toSize } from '../size.js';\n/**\n * The default fill color to use if no fill was set at construction time; a\n * blackish `#333`.\n *\n * @const {string}\n */\nvar DEFAULT_FILL_COLOR = '#333';\n/**\n * @typedef {Object} Options\n * @property {string} [font] Font style as CSS 'font' value, see:\n * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/font. Default is '10px sans-serif'\n * @property {number} [maxAngle=Math.PI/4] When `placement` is set to `'line'`, allow a maximum angle between adjacent characters.\n * The expected value is in radians, and the default is 45 (`Math.PI / 4`).\n * @property {number} [offsetX=0] Horizontal text offset in pixels. A positive will shift the text right.\n * @property {number} [offsetY=0] Vertical text offset in pixels. A positive will shift the text down.\n * @property {boolean} [overflow=false] For polygon labels or when `placement` is set to `'line'`, allow text to exceed\n * the width of the polygon at the label position or the length of the path that it follows.\n * @property {import(\"./TextPlacement.js\").default|string} [placement='point'] Text placement.\n * @property {number|import(\"../size.js\").Size} [scale] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the text with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {string} [text] Text content.\n * @property {string} [textAlign] Text alignment. Possible values: 'left', 'right', 'center', 'end' or 'start'.\n * Default is 'center' for `placement: 'point'`. For `placement: 'line'`, the default is to let the renderer choose a\n * placement where `maxAngle` is not exceeded.\n * @property {string} [textBaseline='middle'] Text base line. Possible values: 'bottom', 'top', 'middle', 'alphabetic',\n * 'hanging', 'ideographic'.\n * @property {import(\"./Fill.js\").default} [fill] Fill style. If none is provided, we'll use a dark fill-style (#333).\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {import(\"./Fill.js\").default} [backgroundFill] Fill style for the text background when `placement` is\n * `'point'`. Default is no fill.\n * @property {import(\"./Stroke.js\").default} [backgroundStroke] Stroke style for the text background  when `placement`\n * is `'point'`. Default is no stroke.\n * @property {Array<number>} [padding=[0, 0, 0, 0]] Padding in pixels around the text for decluttering and background. The order of\n * values in the array is `[top, right, bottom, left]`.\n */\n/**\n * @classdesc\n * Set text style for vector features.\n * @api\n */\nvar Text = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Text(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.font_ = options.font;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.rotation_ = options.rotation;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        this.rotateWithView_ = options.rotateWithView;\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size|undefined}\n         */\n        this.scale_ = options.scale;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.scaleArray_ = toSize(options.scale !== undefined ? options.scale : 1);\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.text_ = options.text;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.textAlign_ = options.textAlign;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.textBaseline_ = options.textBaseline;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.fill_ =\n            options.fill !== undefined\n                ? options.fill\n                : new Fill({ color: DEFAULT_FILL_COLOR });\n        /**\n         * @private\n         * @type {number}\n         */\n        this.maxAngle_ =\n            options.maxAngle !== undefined ? options.maxAngle : Math.PI / 4;\n        /**\n         * @private\n         * @type {import(\"./TextPlacement.js\").default|string}\n         */\n        this.placement_ =\n            options.placement !== undefined ? options.placement : TextPlacement.POINT;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.overflow_ = !!options.overflow;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.offsetX_ = options.offsetX !== undefined ? options.offsetX : 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.offsetY_ = options.offsetY !== undefined ? options.offsetY : 0;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.backgroundFill_ = options.backgroundFill\n            ? options.backgroundFill\n            : null;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.backgroundStroke_ = options.backgroundStroke\n            ? options.backgroundStroke\n            : null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.padding_ = options.padding === undefined ? null : options.padding;\n    }\n    /**\n     * Clones the style.\n     * @return {Text} The cloned style.\n     * @api\n     */\n    Text.prototype.clone = function () {\n        var scale = this.getScale();\n        return new Text({\n            font: this.getFont(),\n            placement: this.getPlacement(),\n            maxAngle: this.getMaxAngle(),\n            overflow: this.getOverflow(),\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            text: this.getText(),\n            textAlign: this.getTextAlign(),\n            textBaseline: this.getTextBaseline(),\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            offsetX: this.getOffsetX(),\n            offsetY: this.getOffsetY(),\n            backgroundFill: this.getBackgroundFill()\n                ? this.getBackgroundFill().clone()\n                : undefined,\n            backgroundStroke: this.getBackgroundStroke()\n                ? this.getBackgroundStroke().clone()\n                : undefined,\n            padding: this.getPadding(),\n        });\n    };\n    /**\n     * Get the `overflow` configuration.\n     * @return {boolean} Let text overflow the length of the path they follow.\n     * @api\n     */\n    Text.prototype.getOverflow = function () {\n        return this.overflow_;\n    };\n    /**\n     * Get the font name.\n     * @return {string|undefined} Font.\n     * @api\n     */\n    Text.prototype.getFont = function () {\n        return this.font_;\n    };\n    /**\n     * Get the maximum angle between adjacent characters.\n     * @return {number} Angle in radians.\n     * @api\n     */\n    Text.prototype.getMaxAngle = function () {\n        return this.maxAngle_;\n    };\n    /**\n     * Get the label placement.\n     * @return {import(\"./TextPlacement.js\").default|string} Text placement.\n     * @api\n     */\n    Text.prototype.getPlacement = function () {\n        return this.placement_;\n    };\n    /**\n     * Get the x-offset for the text.\n     * @return {number} Horizontal text offset.\n     * @api\n     */\n    Text.prototype.getOffsetX = function () {\n        return this.offsetX_;\n    };\n    /**\n     * Get the y-offset for the text.\n     * @return {number} Vertical text offset.\n     * @api\n     */\n    Text.prototype.getOffsetY = function () {\n        return this.offsetY_;\n    };\n    /**\n     * Get the fill style for the text.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Text.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * Determine whether the text rotates with the map.\n     * @return {boolean|undefined} Rotate with map.\n     * @api\n     */\n    Text.prototype.getRotateWithView = function () {\n        return this.rotateWithView_;\n    };\n    /**\n     * Get the text rotation.\n     * @return {number|undefined} Rotation.\n     * @api\n     */\n    Text.prototype.getRotation = function () {\n        return this.rotation_;\n    };\n    /**\n     * Get the text scale.\n     * @return {number|import(\"../size.js\").Size|undefined} Scale.\n     * @api\n     */\n    Text.prototype.getScale = function () {\n        return this.scale_;\n    };\n    /**\n     * Get the symbolizer scale array.\n     * @return {import(\"../size.js\").Size} Scale array.\n     */\n    Text.prototype.getScaleArray = function () {\n        return this.scaleArray_;\n    };\n    /**\n     * Get the stroke style for the text.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Text.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * Get the text to be rendered.\n     * @return {string|undefined} Text.\n     * @api\n     */\n    Text.prototype.getText = function () {\n        return this.text_;\n    };\n    /**\n     * Get the text alignment.\n     * @return {string|undefined} Text align.\n     * @api\n     */\n    Text.prototype.getTextAlign = function () {\n        return this.textAlign_;\n    };\n    /**\n     * Get the text baseline.\n     * @return {string|undefined} Text baseline.\n     * @api\n     */\n    Text.prototype.getTextBaseline = function () {\n        return this.textBaseline_;\n    };\n    /**\n     * Get the background fill style for the text.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Text.prototype.getBackgroundFill = function () {\n        return this.backgroundFill_;\n    };\n    /**\n     * Get the background stroke style for the text.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Text.prototype.getBackgroundStroke = function () {\n        return this.backgroundStroke_;\n    };\n    /**\n     * Get the padding for the text.\n     * @return {Array<number>} Padding.\n     * @api\n     */\n    Text.prototype.getPadding = function () {\n        return this.padding_;\n    };\n    /**\n     * Set the `overflow` property.\n     *\n     * @param {boolean} overflow Let text overflow the path that it follows.\n     * @api\n     */\n    Text.prototype.setOverflow = function (overflow) {\n        this.overflow_ = overflow;\n    };\n    /**\n     * Set the font.\n     *\n     * @param {string|undefined} font Font.\n     * @api\n     */\n    Text.prototype.setFont = function (font) {\n        this.font_ = font;\n    };\n    /**\n     * Set the maximum angle between adjacent characters.\n     *\n     * @param {number} maxAngle Angle in radians.\n     * @api\n     */\n    Text.prototype.setMaxAngle = function (maxAngle) {\n        this.maxAngle_ = maxAngle;\n    };\n    /**\n     * Set the x offset.\n     *\n     * @param {number} offsetX Horizontal text offset.\n     * @api\n     */\n    Text.prototype.setOffsetX = function (offsetX) {\n        this.offsetX_ = offsetX;\n    };\n    /**\n     * Set the y offset.\n     *\n     * @param {number} offsetY Vertical text offset.\n     * @api\n     */\n    Text.prototype.setOffsetY = function (offsetY) {\n        this.offsetY_ = offsetY;\n    };\n    /**\n     * Set the text placement.\n     *\n     * @param {import(\"./TextPlacement.js\").default|string} placement Placement.\n     * @api\n     */\n    Text.prototype.setPlacement = function (placement) {\n        this.placement_ = placement;\n    };\n    /**\n     * Set whether to rotate the text with the view.\n     *\n     * @param {boolean} rotateWithView Rotate with map.\n     * @api\n     */\n    Text.prototype.setRotateWithView = function (rotateWithView) {\n        this.rotateWithView_ = rotateWithView;\n    };\n    /**\n     * Set the fill.\n     *\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Text.prototype.setFill = function (fill) {\n        this.fill_ = fill;\n    };\n    /**\n     * Set the rotation.\n     *\n     * @param {number|undefined} rotation Rotation.\n     * @api\n     */\n    Text.prototype.setRotation = function (rotation) {\n        this.rotation_ = rotation;\n    };\n    /**\n     * Set the scale.\n     *\n     * @param {number|import(\"../size.js\").Size|undefined} scale Scale.\n     * @api\n     */\n    Text.prototype.setScale = function (scale) {\n        this.scale_ = scale;\n        this.scaleArray_ = toSize(scale !== undefined ? scale : 1);\n    };\n    /**\n     * Set the stroke.\n     *\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Text.prototype.setStroke = function (stroke) {\n        this.stroke_ = stroke;\n    };\n    /**\n     * Set the text.\n     *\n     * @param {string|undefined} text Text.\n     * @api\n     */\n    Text.prototype.setText = function (text) {\n        this.text_ = text;\n    };\n    /**\n     * Set the text alignment.\n     *\n     * @param {string|undefined} textAlign Text align.\n     * @api\n     */\n    Text.prototype.setTextAlign = function (textAlign) {\n        this.textAlign_ = textAlign;\n    };\n    /**\n     * Set the text baseline.\n     *\n     * @param {string|undefined} textBaseline Text baseline.\n     * @api\n     */\n    Text.prototype.setTextBaseline = function (textBaseline) {\n        this.textBaseline_ = textBaseline;\n    };\n    /**\n     * Set the background fill.\n     *\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Text.prototype.setBackgroundFill = function (fill) {\n        this.backgroundFill_ = fill;\n    };\n    /**\n     * Set the background stroke.\n     *\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Text.prototype.setBackgroundStroke = function (stroke) {\n        this.backgroundStroke_ = stroke;\n    };\n    /**\n     * Set the padding (`[top, right, bottom, left]`).\n     *\n     * @param {!Array<number>} padding Padding.\n     * @api\n     */\n    Text.prototype.setPadding = function (padding) {\n        this.padding_ = padding;\n    };\n    return Text;\n}());\nexport default Text;\n//# sourceMappingURL=Text.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/BaseVector\n */\nimport Layer from './Layer.js';\nimport RBush from 'rbush';\nimport { assign } from '../obj.js';\nimport { createDefaultStyle, toFunction as toStyleFunction, } from '../style/Style.js';\n/**\n * @template {import(\"../source/Vector.js\").default|import(\"../source/VectorTile.js\").default} VectorSourceType\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n * features before rendering. By default features are drawn in the order that they are created. Use\n * `null` to avoid the sort, but get an undefined draw order.\n * @property {number} [renderBuffer=100] The buffer in pixels around the viewport extent used by the\n * renderer when getting features from the vector source for the rendering or hit-detection.\n * Recommended value: the size of the largest symbol, line width or label.\n * @property {VectorSourceType} [source] Source.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link import(\"../PluggableMap.js\").default#addLayer map.addLayer()}.\n * @property {boolean} [declutter=false] Declutter images and text. Decluttering is applied to all\n * image and text styles of all Vector and VectorTile layers that have set this to `true`. The priority\n * is defined by the z-index of the layer, the `zIndex` of the style and the render order of features.\n * Higher z-index means higher priority. Within the same z-index, a feature rendered before another has\n * higher priority.\n * @property {import(\"../style/Style.js\").StyleLike|null} [style] Layer style. When set to `null`, only\n * features that have their own style will be rendered. See {@link module:ol/style} for default style\n * which will be used if this is not set.\n * @property {boolean} [updateWhileAnimating=false] When set to `true`, feature batches will\n * be recreated during animations. This means that no vectors will be shown clipped, but the\n * setting will have a performance impact for large amounts of vector data. When set to `false`,\n * batches will be recreated when no animation is active.\n * @property {boolean} [updateWhileInteracting=false] When set to `true`, feature batches will\n * be recreated during interactions. See also `updateWhileAnimating`.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    RENDER_ORDER: 'renderOrder',\n};\n/**\n * @classdesc\n * Vector data that is rendered client-side.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Vector.js\").default|import(\"../source/VectorTile.js\").default} VectorSourceType\n * @extends {Layer<VectorSourceType>}\n * @api\n */\nvar BaseVectorLayer = /** @class */ (function (_super) {\n    __extends(BaseVectorLayer, _super);\n    /**\n     * @param {Options<VectorSourceType>} [opt_options] Options.\n     */\n    function BaseVectorLayer(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var baseOptions = assign({}, options);\n        delete baseOptions.style;\n        delete baseOptions.renderBuffer;\n        delete baseOptions.updateWhileAnimating;\n        delete baseOptions.updateWhileInteracting;\n        _this = _super.call(this, baseOptions) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.declutter_ =\n            options.declutter !== undefined ? options.declutter : false;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.renderBuffer_ =\n            options.renderBuffer !== undefined ? options.renderBuffer : 100;\n        /**\n         * User provided style.\n         * @type {import(\"../style/Style.js\").StyleLike}\n         * @private\n         */\n        _this.style_ = null;\n        /**\n         * Style function for use within the library.\n         * @type {import(\"../style/Style.js\").StyleFunction|undefined}\n         * @private\n         */\n        _this.styleFunction_ = undefined;\n        _this.setStyle(options.style);\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.updateWhileAnimating_ =\n            options.updateWhileAnimating !== undefined\n                ? options.updateWhileAnimating\n                : false;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.updateWhileInteracting_ =\n            options.updateWhileInteracting !== undefined\n                ? options.updateWhileInteracting\n                : false;\n        return _this;\n    }\n    /**\n     * @return {boolean} Declutter.\n     */\n    BaseVectorLayer.prototype.getDeclutter = function () {\n        return this.declutter_;\n    };\n    /**\n     * Get the topmost feature that intersects the given pixel on the viewport. Returns a promise\n     * that resolves with an array of features. The array will either contain the topmost feature\n     * when a hit was detected, or it will be empty.\n     *\n     * The hit detection algorithm used for this method is optimized for performance, but is less\n     * accurate than the one used in {@link import(\"../PluggableMap.js\").default#getFeaturesAtPixel}: Text\n     * is not considered, and icons are only represented by their bounding box instead of the exact\n     * image.\n     *\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../Feature\").default>>} Promise that resolves with an array of features.\n     * @api\n     */\n    BaseVectorLayer.prototype.getFeatures = function (pixel) {\n        return _super.prototype.getFeatures.call(this, pixel);\n    };\n    /**\n     * @return {number|undefined} Render buffer.\n     */\n    BaseVectorLayer.prototype.getRenderBuffer = function () {\n        return this.renderBuffer_;\n    };\n    /**\n     * @return {function(import(\"../Feature.js\").default, import(\"../Feature.js\").default): number|null|undefined} Render\n     *     order.\n     */\n    BaseVectorLayer.prototype.getRenderOrder = function () {\n        return /** @type {import(\"../render.js\").OrderFunction|null|undefined} */ (this.get(Property.RENDER_ORDER));\n    };\n    /**\n     * Get the style for features.  This returns whatever was passed to the `style`\n     * option at construction or to the `setStyle` method.\n     * @return {import(\"../style/Style.js\").StyleLike|null|undefined} Layer style.\n     * @api\n     */\n    BaseVectorLayer.prototype.getStyle = function () {\n        return this.style_;\n    };\n    /**\n     * Get the style function.\n     * @return {import(\"../style/Style.js\").StyleFunction|undefined} Layer style function.\n     * @api\n     */\n    BaseVectorLayer.prototype.getStyleFunction = function () {\n        return this.styleFunction_;\n    };\n    /**\n     * @return {boolean} Whether the rendered layer should be updated while\n     *     animating.\n     */\n    BaseVectorLayer.prototype.getUpdateWhileAnimating = function () {\n        return this.updateWhileAnimating_;\n    };\n    /**\n     * @return {boolean} Whether the rendered layer should be updated while\n     *     interacting.\n     */\n    BaseVectorLayer.prototype.getUpdateWhileInteracting = function () {\n        return this.updateWhileInteracting_;\n    };\n    /**\n     * Render declutter items for this layer\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    BaseVectorLayer.prototype.renderDeclutter = function (frameState) {\n        if (!frameState.declutterTree) {\n            frameState.declutterTree = new RBush(9);\n        }\n        /** @type {*} */ (this.getRenderer()).renderDeclutter(frameState);\n    };\n    /**\n     * @param {import(\"../render.js\").OrderFunction|null|undefined} renderOrder\n     *     Render order.\n     */\n    BaseVectorLayer.prototype.setRenderOrder = function (renderOrder) {\n        this.set(Property.RENDER_ORDER, renderOrder);\n    };\n    /**\n     * Set the style for features.  This can be a single style object, an array\n     * of styles, or a function that takes a feature and resolution and returns\n     * an array of styles. If set to `null`, the layer has no style (a `null` style),\n     * so only features that have their own styles will be rendered in the layer. Call\n     * `setStyle()` without arguments to reset to the default style. See\n     * {@link module:ol/style} for information on the default style.\n     * @param {import(\"../style/Style.js\").StyleLike|null} [opt_style] Layer style.\n     * @api\n     */\n    BaseVectorLayer.prototype.setStyle = function (opt_style) {\n        this.style_ = opt_style !== undefined ? opt_style : createDefaultStyle;\n        this.styleFunction_ =\n            opt_style === null ? undefined : toStyleFunction(this.style_);\n        this.changed();\n    };\n    return BaseVectorLayer;\n}(Layer));\nexport default BaseVectorLayer;\n//# sourceMappingURL=BaseVector.js.map","/**\n * @module ol/render/canvas/Instruction\n */\n/**\n * @enum {number}\n */\nvar Instruction = {\n    BEGIN_GEOMETRY: 0,\n    BEGIN_PATH: 1,\n    CIRCLE: 2,\n    CLOSE_PATH: 3,\n    CUSTOM: 4,\n    DRAW_CHARS: 5,\n    DRAW_IMAGE: 6,\n    END_GEOMETRY: 7,\n    FILL: 8,\n    MOVE_TO_LINE_TO: 9,\n    SET_FILL_STYLE: 10,\n    SET_STROKE_STYLE: 11,\n    STROKE: 12,\n};\n/**\n * @type {Array<Instruction>}\n */\nexport var fillInstruction = [Instruction.FILL];\n/**\n * @type {Array<Instruction>}\n */\nexport var strokeInstruction = [Instruction.STROKE];\n/**\n * @type {Array<Instruction>}\n */\nexport var beginPathInstruction = [Instruction.BEGIN_PATH];\n/**\n * @type {Array<Instruction>}\n */\nexport var closePathInstruction = [Instruction.CLOSE_PATH];\nexport default Instruction;\n//# sourceMappingURL=Instruction.js.map","/**\n * @module ol/render/VectorContext\n */\n/**\n * @classdesc\n * Context for drawing geometries.  A vector context is available on render\n * events and does not need to be constructed directly.\n * @api\n */\nvar VectorContext = /** @class */ (function () {\n    function VectorContext() {\n    }\n    /**\n     * Render a geometry with a custom renderer.\n     *\n     * @param {import(\"../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     * @param {Function} renderer Renderer.\n     * @param {Function} hitDetectionRenderer Renderer.\n     */\n    VectorContext.prototype.drawCustom = function (geometry, feature, renderer, hitDetectionRenderer) { };\n    /**\n     * Render a geometry.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry The geometry to render.\n     */\n    VectorContext.prototype.drawGeometry = function (geometry) { };\n    /**\n     * Set the rendering style.\n     *\n     * @param {import(\"../style/Style.js\").default} style The rendering style.\n     */\n    VectorContext.prototype.setStyle = function (style) { };\n    /**\n     * @param {import(\"../geom/Circle.js\").default} circleGeometry Circle geometry.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     */\n    VectorContext.prototype.drawCircle = function (circleGeometry, feature) { };\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"../style/Style.js\").default} style Style.\n     */\n    VectorContext.prototype.drawFeature = function (feature, style) { };\n    /**\n     * @param {import(\"../geom/GeometryCollection.js\").default} geometryCollectionGeometry Geometry collection.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     */\n    VectorContext.prototype.drawGeometryCollection = function (geometryCollectionGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/LineString.js\").default|import(\"./Feature.js\").default} lineStringGeometry Line string geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawLineString = function (lineStringGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiLineString.js\").default|import(\"./Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiLineString = function (multiLineStringGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiPoint.js\").default|import(\"./Feature.js\").default} multiPointGeometry MultiPoint geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiPoint = function (multiPointGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiPolygon.js\").default} multiPolygonGeometry MultiPolygon geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiPolygon = function (multiPolygonGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/Point.js\").default|import(\"./Feature.js\").default} pointGeometry Point geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawPoint = function (pointGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/Polygon.js\").default|import(\"./Feature.js\").default} polygonGeometry Polygon geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawPolygon = function (polygonGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/SimpleGeometry.js\").default|import(\"./Feature.js\").default} geometry Geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawText = function (geometry, feature) { };\n    /**\n     * @param {import(\"../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    VectorContext.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) { };\n    /**\n     * @param {import(\"../style/Image.js\").default} imageStyle Image style.\n     * @param {import(\"../render/canvas.js\").DeclutterImageWithText} [opt_declutterImageWithText] Shared data for combined decluttering with a text style.\n     */\n    VectorContext.prototype.setImageStyle = function (imageStyle, opt_declutterImageWithText) { };\n    /**\n     * @param {import(\"../style/Text.js\").default} textStyle Text style.\n     * @param {import(\"../render/canvas.js\").DeclutterImageWithText} [opt_declutterImageWithText] Shared data for combined decluttering with an image style.\n     */\n    VectorContext.prototype.setTextStyle = function (textStyle, opt_declutterImageWithText) { };\n    return VectorContext;\n}());\nexport default VectorContext;\n//# sourceMappingURL=VectorContext.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/Builder\n */\nimport CanvasInstruction from './Instruction.js';\nimport GeometryType from '../../geom/GeometryType.js';\nimport Relationship from '../../extent/Relationship.js';\nimport VectorContext from '../VectorContext.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { buffer, clone, containsCoordinate, coordinateRelationship, } from '../../extent.js';\nimport { defaultFillStyle, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, } from '../canvas.js';\nimport { equals, reverseSubArray } from '../../array.js';\nimport { inflateCoordinates, inflateCoordinatesArray, inflateMultiCoordinatesArray, } from '../../geom/flat/inflate.js';\nvar CanvasBuilder = /** @class */ (function (_super) {\n    __extends(CanvasBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.tolerance = tolerance;\n        /**\n         * @protected\n         * @const\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.maxExtent = maxExtent;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.pixelRatio = pixelRatio;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.maxLineWidth = 0;\n        /**\n         * @protected\n         * @const\n         * @type {number}\n         */\n        _this.resolution = resolution;\n        /**\n         * @private\n         * @type {Array<*>}\n         */\n        _this.beginGeometryInstruction1_ = null;\n        /**\n         * @private\n         * @type {Array<*>}\n         */\n        _this.beginGeometryInstruction2_ = null;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.bufferedMaxExtent_ = null;\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        _this.instructions = [];\n        /**\n         * @protected\n         * @type {Array<number>}\n         */\n        _this.coordinates = [];\n        /**\n         * @private\n         * @type {import(\"../../coordinate.js\").Coordinate}\n         */\n        _this.tmpCoordinate_ = [];\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        _this.hitDetectionInstructions = [];\n        /**\n         * @protected\n         * @type {import(\"../canvas.js\").FillStrokeState}\n         */\n        _this.state = /** @type {import(\"../canvas.js\").FillStrokeState} */ ({});\n        return _this;\n    }\n    /**\n     * @protected\n     * @param {Array<number>} dashArray Dash array.\n     * @return {Array<number>} Dash array with pixel ratio applied\n     */\n    CanvasBuilder.prototype.applyPixelRatio = function (dashArray) {\n        var pixelRatio = this.pixelRatio;\n        return pixelRatio == 1\n            ? dashArray\n            : dashArray.map(function (dash) {\n                return dash * pixelRatio;\n            });\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} stride Stride.\n     * @protected\n     * @return {number} My end\n     */\n    CanvasBuilder.prototype.appendFlatPointCoordinates = function (flatCoordinates, stride) {\n        var extent = this.getBufferedMaxExtent();\n        var tmpCoord = this.tmpCoordinate_;\n        var coordinates = this.coordinates;\n        var myEnd = coordinates.length;\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            tmpCoord[0] = flatCoordinates[i];\n            tmpCoord[1] = flatCoordinates[i + 1];\n            if (containsCoordinate(extent, tmpCoord)) {\n                coordinates[myEnd++] = tmpCoord[0];\n                coordinates[myEnd++] = tmpCoord[1];\n            }\n        }\n        return myEnd;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} closed Last input coordinate equals first.\n     * @param {boolean} skipFirst Skip first coordinate.\n     * @protected\n     * @return {number} My end.\n     */\n    CanvasBuilder.prototype.appendFlatLineCoordinates = function (flatCoordinates, offset, end, stride, closed, skipFirst) {\n        var coordinates = this.coordinates;\n        var myEnd = coordinates.length;\n        var extent = this.getBufferedMaxExtent();\n        if (skipFirst) {\n            offset += stride;\n        }\n        var lastXCoord = flatCoordinates[offset];\n        var lastYCoord = flatCoordinates[offset + 1];\n        var nextCoord = this.tmpCoordinate_;\n        var skipped = true;\n        var i, lastRel, nextRel;\n        for (i = offset + stride; i < end; i += stride) {\n            nextCoord[0] = flatCoordinates[i];\n            nextCoord[1] = flatCoordinates[i + 1];\n            nextRel = coordinateRelationship(extent, nextCoord);\n            if (nextRel !== lastRel) {\n                if (skipped) {\n                    coordinates[myEnd++] = lastXCoord;\n                    coordinates[myEnd++] = lastYCoord;\n                    skipped = false;\n                }\n                coordinates[myEnd++] = nextCoord[0];\n                coordinates[myEnd++] = nextCoord[1];\n            }\n            else if (nextRel === Relationship.INTERSECTING) {\n                coordinates[myEnd++] = nextCoord[0];\n                coordinates[myEnd++] = nextCoord[1];\n                skipped = false;\n            }\n            else {\n                skipped = true;\n            }\n            lastXCoord = nextCoord[0];\n            lastYCoord = nextCoord[1];\n            lastRel = nextRel;\n        }\n        // Last coordinate equals first or only one point to append:\n        if ((closed && skipped) || i === offset + stride) {\n            coordinates[myEnd++] = lastXCoord;\n            coordinates[myEnd++] = lastYCoord;\n        }\n        return myEnd;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @param {Array<number>} builderEnds Builder ends.\n     * @return {number} Offset.\n     */\n    CanvasBuilder.prototype.drawCustomCoordinates_ = function (flatCoordinates, offset, ends, stride, builderEnds) {\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var builderEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, false, false);\n            builderEnds.push(builderEnd);\n            offset = end;\n        }\n        return offset;\n    };\n    /**\n     * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @param {Function} renderer Renderer.\n     * @param {Function} hitDetectionRenderer Renderer.\n     */\n    CanvasBuilder.prototype.drawCustom = function (geometry, feature, renderer, hitDetectionRenderer) {\n        this.beginGeometry(geometry, feature);\n        var type = geometry.getType();\n        var stride = geometry.getStride();\n        var builderBegin = this.coordinates.length;\n        var flatCoordinates, builderEnd, builderEnds, builderEndss;\n        var offset;\n        switch (type) {\n            case GeometryType.MULTI_POLYGON:\n                flatCoordinates =\n                    /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getOrientedFlatCoordinates();\n                builderEndss = [];\n                var endss = \n                /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getEndss();\n                offset = 0;\n                for (var i = 0, ii = endss.length; i < ii; ++i) {\n                    var myEnds = [];\n                    offset = this.drawCustomCoordinates_(flatCoordinates, offset, endss[i], stride, myEnds);\n                    builderEndss.push(myEnds);\n                }\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEndss,\n                    geometry,\n                    renderer,\n                    inflateMultiCoordinatesArray,\n                ]);\n                this.hitDetectionInstructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEndss,\n                    geometry,\n                    hitDetectionRenderer || renderer,\n                    inflateMultiCoordinatesArray,\n                ]);\n                break;\n            case GeometryType.POLYGON:\n            case GeometryType.MULTI_LINE_STRING:\n                builderEnds = [];\n                flatCoordinates =\n                    type == GeometryType.POLYGON\n                        ? /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getOrientedFlatCoordinates()\n                        : geometry.getFlatCoordinates();\n                offset = this.drawCustomCoordinates_(flatCoordinates, 0, \n                /** @type {import(\"../../geom/Polygon.js\").default|import(\"../../geom/MultiLineString.js\").default} */ (geometry).getEnds(), stride, builderEnds);\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnds,\n                    geometry,\n                    renderer,\n                    inflateCoordinatesArray,\n                ]);\n                this.hitDetectionInstructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnds,\n                    geometry,\n                    hitDetectionRenderer || renderer,\n                    inflateCoordinatesArray,\n                ]);\n                break;\n            case GeometryType.LINE_STRING:\n            case GeometryType.CIRCLE:\n                flatCoordinates = geometry.getFlatCoordinates();\n                builderEnd = this.appendFlatLineCoordinates(flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    renderer,\n                    inflateCoordinates,\n                ]);\n                this.hitDetectionInstructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    hitDetectionRenderer || renderer,\n                    inflateCoordinates,\n                ]);\n                break;\n            case GeometryType.MULTI_POINT:\n                flatCoordinates = geometry.getFlatCoordinates();\n                builderEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n                if (builderEnd > builderBegin) {\n                    this.instructions.push([\n                        CanvasInstruction.CUSTOM,\n                        builderBegin,\n                        builderEnd,\n                        geometry,\n                        renderer,\n                        inflateCoordinates,\n                    ]);\n                    this.hitDetectionInstructions.push([\n                        CanvasInstruction.CUSTOM,\n                        builderBegin,\n                        builderEnd,\n                        geometry,\n                        hitDetectionRenderer || renderer,\n                        inflateCoordinates,\n                    ]);\n                }\n                break;\n            case GeometryType.POINT:\n                flatCoordinates = geometry.getFlatCoordinates();\n                this.coordinates.push(flatCoordinates[0], flatCoordinates[1]);\n                builderEnd = this.coordinates.length;\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    renderer,\n                ]);\n                this.hitDetectionInstructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    hitDetectionRenderer || renderer,\n                ]);\n                break;\n            default:\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @protected\n     * @param {import(\"../../geom/Geometry\").default|import(\"../Feature.js\").default} geometry The geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasBuilder.prototype.beginGeometry = function (geometry, feature) {\n        this.beginGeometryInstruction1_ = [\n            CanvasInstruction.BEGIN_GEOMETRY,\n            feature,\n            0,\n            geometry,\n        ];\n        this.instructions.push(this.beginGeometryInstruction1_);\n        this.beginGeometryInstruction2_ = [\n            CanvasInstruction.BEGIN_GEOMETRY,\n            feature,\n            0,\n            geometry,\n        ];\n        this.hitDetectionInstructions.push(this.beginGeometryInstruction2_);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasBuilder.prototype.finish = function () {\n        return {\n            instructions: this.instructions,\n            hitDetectionInstructions: this.hitDetectionInstructions,\n            coordinates: this.coordinates,\n        };\n    };\n    /**\n     * Reverse the hit detection instructions.\n     */\n    CanvasBuilder.prototype.reverseHitDetectionInstructions = function () {\n        var hitDetectionInstructions = this.hitDetectionInstructions;\n        // step 1 - reverse array\n        hitDetectionInstructions.reverse();\n        // step 2 - reverse instructions within geometry blocks\n        var i;\n        var n = hitDetectionInstructions.length;\n        var instruction;\n        var type;\n        var begin = -1;\n        for (i = 0; i < n; ++i) {\n            instruction = hitDetectionInstructions[i];\n            type = /** @type {import(\"./Instruction.js\").default} */ (instruction[0]);\n            if (type == CanvasInstruction.END_GEOMETRY) {\n                begin = i;\n            }\n            else if (type == CanvasInstruction.BEGIN_GEOMETRY) {\n                instruction[2] = i;\n                reverseSubArray(this.hitDetectionInstructions, begin, i);\n                begin = -1;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    CanvasBuilder.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) {\n        var state = this.state;\n        if (fillStyle) {\n            var fillStyleColor = fillStyle.getColor();\n            state.fillStyle = asColorLike(fillStyleColor ? fillStyleColor : defaultFillStyle);\n        }\n        else {\n            state.fillStyle = undefined;\n        }\n        if (strokeStyle) {\n            var strokeStyleColor = strokeStyle.getColor();\n            state.strokeStyle = asColorLike(strokeStyleColor ? strokeStyleColor : defaultStrokeStyle);\n            var strokeStyleLineCap = strokeStyle.getLineCap();\n            state.lineCap =\n                strokeStyleLineCap !== undefined ? strokeStyleLineCap : defaultLineCap;\n            var strokeStyleLineDash = strokeStyle.getLineDash();\n            state.lineDash = strokeStyleLineDash\n                ? strokeStyleLineDash.slice()\n                : defaultLineDash;\n            var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n            state.lineDashOffset = strokeStyleLineDashOffset\n                ? strokeStyleLineDashOffset\n                : defaultLineDashOffset;\n            var strokeStyleLineJoin = strokeStyle.getLineJoin();\n            state.lineJoin =\n                strokeStyleLineJoin !== undefined\n                    ? strokeStyleLineJoin\n                    : defaultLineJoin;\n            var strokeStyleWidth = strokeStyle.getWidth();\n            state.lineWidth =\n                strokeStyleWidth !== undefined ? strokeStyleWidth : defaultLineWidth;\n            var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n            state.miterLimit =\n                strokeStyleMiterLimit !== undefined\n                    ? strokeStyleMiterLimit\n                    : defaultMiterLimit;\n            if (state.lineWidth > this.maxLineWidth) {\n                this.maxLineWidth = state.lineWidth;\n                // invalidate the buffered max extent cache\n                this.bufferedMaxExtent_ = null;\n            }\n        }\n        else {\n            state.strokeStyle = undefined;\n            state.lineCap = undefined;\n            state.lineDash = null;\n            state.lineDashOffset = undefined;\n            state.lineJoin = undefined;\n            state.lineWidth = undefined;\n            state.miterLimit = undefined;\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @return {Array<*>} Fill instruction.\n     */\n    CanvasBuilder.prototype.createFill = function (state) {\n        var fillStyle = state.fillStyle;\n        /** @type {Array<*>} */\n        var fillInstruction = [CanvasInstruction.SET_FILL_STYLE, fillStyle];\n        if (typeof fillStyle !== 'string') {\n            // Fill is a pattern or gradient - align it!\n            fillInstruction.push(true);\n        }\n        return fillInstruction;\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     */\n    CanvasBuilder.prototype.applyStroke = function (state) {\n        this.instructions.push(this.createStroke(state));\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @return {Array<*>} Stroke instruction.\n     */\n    CanvasBuilder.prototype.createStroke = function (state) {\n        return [\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth * this.pixelRatio,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            this.applyPixelRatio(state.lineDash),\n            state.lineDashOffset * this.pixelRatio,\n        ];\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasBuilder, import(\"../canvas.js\").FillStrokeState):Array<*>} createFill Create fill.\n     */\n    CanvasBuilder.prototype.updateFillStyle = function (state, createFill) {\n        var fillStyle = state.fillStyle;\n        if (typeof fillStyle !== 'string' || state.currentFillStyle != fillStyle) {\n            if (fillStyle !== undefined) {\n                this.instructions.push(createFill.call(this, state));\n            }\n            state.currentFillStyle = fillStyle;\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasBuilder, import(\"../canvas.js\").FillStrokeState): void} applyStroke Apply stroke.\n     */\n    CanvasBuilder.prototype.updateStrokeStyle = function (state, applyStroke) {\n        var strokeStyle = state.strokeStyle;\n        var lineCap = state.lineCap;\n        var lineDash = state.lineDash;\n        var lineDashOffset = state.lineDashOffset;\n        var lineJoin = state.lineJoin;\n        var lineWidth = state.lineWidth;\n        var miterLimit = state.miterLimit;\n        if (state.currentStrokeStyle != strokeStyle ||\n            state.currentLineCap != lineCap ||\n            (lineDash != state.currentLineDash &&\n                !equals(state.currentLineDash, lineDash)) ||\n            state.currentLineDashOffset != lineDashOffset ||\n            state.currentLineJoin != lineJoin ||\n            state.currentLineWidth != lineWidth ||\n            state.currentMiterLimit != miterLimit) {\n            if (strokeStyle !== undefined) {\n                applyStroke.call(this, state);\n            }\n            state.currentStrokeStyle = strokeStyle;\n            state.currentLineCap = lineCap;\n            state.currentLineDash = lineDash;\n            state.currentLineDashOffset = lineDashOffset;\n            state.currentLineJoin = lineJoin;\n            state.currentLineWidth = lineWidth;\n            state.currentMiterLimit = miterLimit;\n        }\n    };\n    /**\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasBuilder.prototype.endGeometry = function (feature) {\n        this.beginGeometryInstruction1_[2] = this.instructions.length;\n        this.beginGeometryInstruction1_ = null;\n        this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length;\n        this.beginGeometryInstruction2_ = null;\n        var endGeometryInstruction = [CanvasInstruction.END_GEOMETRY, feature];\n        this.instructions.push(endGeometryInstruction);\n        this.hitDetectionInstructions.push(endGeometryInstruction);\n    };\n    /**\n     * Get the buffered rendering extent.  Rendering will be clipped to the extent\n     * provided to the constructor.  To account for symbolizers that may intersect\n     * this extent, we calculate a buffered extent (e.g. based on stroke width).\n     * @return {import(\"../../extent.js\").Extent} The buffered rendering extent.\n     * @protected\n     */\n    CanvasBuilder.prototype.getBufferedMaxExtent = function () {\n        if (!this.bufferedMaxExtent_) {\n            this.bufferedMaxExtent_ = clone(this.maxExtent);\n            if (this.maxLineWidth > 0) {\n                var width = (this.resolution * (this.maxLineWidth + 1)) / 2;\n                buffer(this.bufferedMaxExtent_, width, this.bufferedMaxExtent_);\n            }\n        }\n        return this.bufferedMaxExtent_;\n    };\n    return CanvasBuilder;\n}(VectorContext));\nexport default CanvasBuilder;\n//# sourceMappingURL=Builder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/ImageBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction from './Instruction.js';\nvar CanvasImageBuilder = /** @class */ (function (_super) {\n    __extends(CanvasImageBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasImageBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.hitDetectionImage_ = null;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.image_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.imagePixelRatio_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.anchorX_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.anchorY_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.height_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.opacity_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.originX_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.originY_ = undefined;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        _this.rotateWithView_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.rotation_ = undefined;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size|undefined}\n         */\n        _this.scale_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.width_ = undefined;\n        /**\n         * Data shared with a text builder for combined decluttering.\n         * @private\n         * @type {import(\"../canvas.js\").DeclutterImageWithText}\n         */\n        _this.declutterImageWithText_ = undefined;\n        return _this;\n    }\n    /**\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} pointGeometry Point geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasImageBuilder.prototype.drawPoint = function (pointGeometry, feature) {\n        if (!this.image_) {\n            return;\n        }\n        this.beginGeometry(pointGeometry, feature);\n        var flatCoordinates = pointGeometry.getFlatCoordinates();\n        var stride = pointGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n        this.instructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.image_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_ * this.imagePixelRatio_,\n            this.anchorY_ * this.imagePixelRatio_,\n            Math.ceil(this.height_ * this.imagePixelRatio_),\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            [\n                (this.scale_[0] * this.pixelRatio) / this.imagePixelRatio_,\n                (this.scale_[1] * this.pixelRatio) / this.imagePixelRatio_,\n            ],\n            Math.ceil(this.width_ * this.imagePixelRatio_),\n            this.declutterImageWithText_,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.hitDetectionImage_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_,\n            this.anchorY_,\n            this.height_,\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            this.scale_,\n            this.width_,\n            this.declutterImageWithText_,\n        ]);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} multiPointGeometry MultiPoint geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasImageBuilder.prototype.drawMultiPoint = function (multiPointGeometry, feature) {\n        if (!this.image_) {\n            return;\n        }\n        this.beginGeometry(multiPointGeometry, feature);\n        var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n        var stride = multiPointGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n        this.instructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.image_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_ * this.imagePixelRatio_,\n            this.anchorY_ * this.imagePixelRatio_,\n            Math.ceil(this.height_ * this.imagePixelRatio_),\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            [\n                (this.scale_[0] * this.pixelRatio) / this.imagePixelRatio_,\n                (this.scale_[1] * this.pixelRatio) / this.imagePixelRatio_,\n            ],\n            Math.ceil(this.width_ * this.imagePixelRatio_),\n            this.declutterImageWithText_,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.hitDetectionImage_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_,\n            this.anchorY_,\n            this.height_,\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            this.scale_,\n            this.width_,\n            this.declutterImageWithText_,\n        ]);\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasImageBuilder.prototype.finish = function () {\n        this.reverseHitDetectionInstructions();\n        // FIXME this doesn't really protect us against further calls to draw*Geometry\n        this.anchorX_ = undefined;\n        this.anchorY_ = undefined;\n        this.hitDetectionImage_ = null;\n        this.image_ = null;\n        this.imagePixelRatio_ = undefined;\n        this.height_ = undefined;\n        this.scale_ = undefined;\n        this.opacity_ = undefined;\n        this.originX_ = undefined;\n        this.originY_ = undefined;\n        this.rotateWithView_ = undefined;\n        this.rotation_ = undefined;\n        this.width_ = undefined;\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     * @param {Object} [opt_sharedData] Shared data.\n     */\n    CanvasImageBuilder.prototype.setImageStyle = function (imageStyle, opt_sharedData) {\n        var anchor = imageStyle.getAnchor();\n        var size = imageStyle.getSize();\n        var hitDetectionImage = imageStyle.getHitDetectionImage();\n        var image = imageStyle.getImage(this.pixelRatio);\n        var origin = imageStyle.getOrigin();\n        this.imagePixelRatio_ = imageStyle.getPixelRatio(this.pixelRatio);\n        this.anchorX_ = anchor[0];\n        this.anchorY_ = anchor[1];\n        this.hitDetectionImage_ = hitDetectionImage;\n        this.image_ = image;\n        this.height_ = size[1];\n        this.opacity_ = imageStyle.getOpacity();\n        this.originX_ = origin[0] * this.imagePixelRatio_;\n        this.originY_ = origin[1] * this.imagePixelRatio_;\n        this.rotateWithView_ = imageStyle.getRotateWithView();\n        this.rotation_ = imageStyle.getRotation();\n        this.scale_ = imageStyle.getScaleArray();\n        this.width_ = size[0];\n        this.declutterImageWithText_ = opt_sharedData;\n    };\n    return CanvasImageBuilder;\n}(CanvasBuilder));\nexport default CanvasImageBuilder;\n//# sourceMappingURL=ImageBuilder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/LineStringBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction, { beginPathInstruction, strokeInstruction, } from './Instruction.js';\nimport { defaultLineDash, defaultLineDashOffset } from '../canvas.js';\nvar CanvasLineStringBuilder = /** @class */ (function (_super) {\n    __extends(CanvasLineStringBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasLineStringBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        return _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} end.\n     */\n    CanvasLineStringBuilder.prototype.drawFlatCoordinates_ = function (flatCoordinates, offset, end, stride) {\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, false, false);\n        var moveToLineToInstruction = [\n            CanvasInstruction.MOVE_TO_LINE_TO,\n            myBegin,\n            myEnd,\n        ];\n        this.instructions.push(moveToLineToInstruction);\n        this.hitDetectionInstructions.push(moveToLineToInstruction);\n        return end;\n    };\n    /**\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} lineStringGeometry Line string geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasLineStringBuilder.prototype.drawLineString = function (lineStringGeometry, feature) {\n        var state = this.state;\n        var strokeStyle = state.strokeStyle;\n        var lineWidth = state.lineWidth;\n        if (strokeStyle === undefined || lineWidth === undefined) {\n            return;\n        }\n        this.updateStrokeStyle(state, this.applyStroke);\n        this.beginGeometry(lineStringGeometry, feature);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            defaultLineDash,\n            defaultLineDashOffset,\n        ], beginPathInstruction);\n        var flatCoordinates = lineStringGeometry.getFlatCoordinates();\n        var stride = lineStringGeometry.getStride();\n        this.drawFlatCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n        this.hitDetectionInstructions.push(strokeInstruction);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasLineStringBuilder.prototype.drawMultiLineString = function (multiLineStringGeometry, feature) {\n        var state = this.state;\n        var strokeStyle = state.strokeStyle;\n        var lineWidth = state.lineWidth;\n        if (strokeStyle === undefined || lineWidth === undefined) {\n            return;\n        }\n        this.updateStrokeStyle(state, this.applyStroke);\n        this.beginGeometry(multiLineStringGeometry, feature);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            state.lineDash,\n            state.lineDashOffset,\n        ], beginPathInstruction);\n        var ends = multiLineStringGeometry.getEnds();\n        var flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\n        var stride = multiLineStringGeometry.getStride();\n        var offset = 0;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            offset = this.drawFlatCoordinates_(flatCoordinates, offset, \n            /** @type {number} */ (ends[i]), stride);\n        }\n        this.hitDetectionInstructions.push(strokeInstruction);\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasLineStringBuilder.prototype.finish = function () {\n        var state = this.state;\n        if (state.lastStroke != undefined &&\n            state.lastStroke != this.coordinates.length) {\n            this.instructions.push(strokeInstruction);\n        }\n        this.reverseHitDetectionInstructions();\n        this.state = null;\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     */\n    CanvasLineStringBuilder.prototype.applyStroke = function (state) {\n        if (state.lastStroke != undefined &&\n            state.lastStroke != this.coordinates.length) {\n            this.instructions.push(strokeInstruction);\n            state.lastStroke = this.coordinates.length;\n        }\n        state.lastStroke = 0;\n        _super.prototype.applyStroke.call(this, state);\n        this.instructions.push(beginPathInstruction);\n    };\n    return CanvasLineStringBuilder;\n}(CanvasBuilder));\nexport default CanvasLineStringBuilder;\n//# sourceMappingURL=LineStringBuilder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/PolygonBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction, { beginPathInstruction, closePathInstruction, fillInstruction, strokeInstruction, } from './Instruction.js';\nimport { defaultFillStyle } from '../canvas.js';\nimport { snap } from '../../geom/flat/simplify.js';\nvar CanvasPolygonBuilder = /** @class */ (function (_super) {\n    __extends(CanvasPolygonBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasPolygonBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        return _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasPolygonBuilder.prototype.drawFlatCoordinatess_ = function (flatCoordinates, offset, ends, stride) {\n        var state = this.state;\n        var fill = state.fillStyle !== undefined;\n        var stroke = state.strokeStyle !== undefined;\n        var numEnds = ends.length;\n        this.instructions.push(beginPathInstruction);\n        this.hitDetectionInstructions.push(beginPathInstruction);\n        for (var i = 0; i < numEnds; ++i) {\n            var end = ends[i];\n            var myBegin = this.coordinates.length;\n            var myEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, true, !stroke);\n            var moveToLineToInstruction = [\n                CanvasInstruction.MOVE_TO_LINE_TO,\n                myBegin,\n                myEnd,\n            ];\n            this.instructions.push(moveToLineToInstruction);\n            this.hitDetectionInstructions.push(moveToLineToInstruction);\n            if (stroke) {\n                // Performance optimization: only call closePath() when we have a stroke.\n                // Otherwise the ring is closed already (see appendFlatLineCoordinates above).\n                this.instructions.push(closePathInstruction);\n                this.hitDetectionInstructions.push(closePathInstruction);\n            }\n            offset = end;\n        }\n        if (fill) {\n            this.instructions.push(fillInstruction);\n            this.hitDetectionInstructions.push(fillInstruction);\n        }\n        if (stroke) {\n            this.instructions.push(strokeInstruction);\n            this.hitDetectionInstructions.push(strokeInstruction);\n        }\n        return offset;\n    };\n    /**\n     * @param {import(\"../../geom/Circle.js\").default} circleGeometry Circle geometry.\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawCircle = function (circleGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(circleGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var flatCoordinates = circleGeometry.getFlatCoordinates();\n        var stride = circleGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        this.appendFlatLineCoordinates(flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n        var circleInstruction = [CanvasInstruction.CIRCLE, myBegin];\n        this.instructions.push(beginPathInstruction, circleInstruction);\n        this.hitDetectionInstructions.push(beginPathInstruction, circleInstruction);\n        if (state.fillStyle !== undefined) {\n            this.instructions.push(fillInstruction);\n            this.hitDetectionInstructions.push(fillInstruction);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.instructions.push(strokeInstruction);\n            this.hitDetectionInstructions.push(strokeInstruction);\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} polygonGeometry Polygon geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawPolygon = function (polygonGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(polygonGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var ends = polygonGeometry.getEnds();\n        var flatCoordinates = polygonGeometry.getOrientedFlatCoordinates();\n        var stride = polygonGeometry.getStride();\n        this.drawFlatCoordinatess_(flatCoordinates, 0, \n        /** @type {Array<number>} */ (ends), stride);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiPolygon.js\").default} multiPolygonGeometry MultiPolygon geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawMultiPolygon = function (multiPolygonGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(multiPolygonGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var endss = multiPolygonGeometry.getEndss();\n        var flatCoordinates = multiPolygonGeometry.getOrientedFlatCoordinates();\n        var stride = multiPolygonGeometry.getStride();\n        var offset = 0;\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n            offset = this.drawFlatCoordinatess_(flatCoordinates, offset, endss[i], stride);\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasPolygonBuilder.prototype.finish = function () {\n        this.reverseHitDetectionInstructions();\n        this.state = null;\n        // We want to preserve topology when drawing polygons.  Polygons are\n        // simplified using quantization and point elimination. However, we might\n        // have received a mix of quantized and non-quantized geometries, so ensure\n        // that all are quantized by quantizing all coordinates in the batch.\n        var tolerance = this.tolerance;\n        if (tolerance !== 0) {\n            var coordinates = this.coordinates;\n            for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n                coordinates[i] = snap(coordinates[i], tolerance);\n            }\n        }\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @private\n     */\n    CanvasPolygonBuilder.prototype.setFillStrokeStyles_ = function () {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        if (fillStyle !== undefined) {\n            this.updateFillStyle(state, this.createFill);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.updateStrokeStyle(state, this.applyStroke);\n        }\n    };\n    return CanvasPolygonBuilder;\n}(CanvasBuilder));\nexport default CanvasPolygonBuilder;\n//# sourceMappingURL=PolygonBuilder.js.map","/**\n * @module ol/geom/flat/straightchunk\n */\n/**\n * @param {number} maxAngle Maximum acceptable angle delta between segments.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {Array<number>} Start and end of the first suitable chunk of the\n * given `flatCoordinates`.\n */\nexport function matchingChunk(maxAngle, flatCoordinates, offset, end, stride) {\n    var chunkStart = offset;\n    var chunkEnd = offset;\n    var chunkM = 0;\n    var m = 0;\n    var start = offset;\n    var acos, i, m12, m23, x1, y1, x12, y12, x23, y23;\n    for (i = offset; i < end; i += stride) {\n        var x2 = flatCoordinates[i];\n        var y2 = flatCoordinates[i + 1];\n        if (x1 !== undefined) {\n            x23 = x2 - x1;\n            y23 = y2 - y1;\n            m23 = Math.sqrt(x23 * x23 + y23 * y23);\n            if (x12 !== undefined) {\n                m += m12;\n                acos = Math.acos((x12 * x23 + y12 * y23) / (m12 * m23));\n                if (acos > maxAngle) {\n                    if (m > chunkM) {\n                        chunkM = m;\n                        chunkStart = start;\n                        chunkEnd = i;\n                    }\n                    m = 0;\n                    start = i - stride;\n                }\n            }\n            m12 = m23;\n            x12 = x23;\n            y12 = y23;\n        }\n        x1 = x2;\n        y1 = y2;\n    }\n    m += m23;\n    return m > chunkM ? [start, i] : [chunkStart, chunkEnd];\n}\n//# sourceMappingURL=straightchunk.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/TextBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction from './Instruction.js';\nimport GeometryType from '../../geom/GeometryType.js';\nimport TextPlacement from '../../style/TextPlacement.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { defaultFillStyle, defaultFont, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultPadding, defaultStrokeStyle, defaultTextAlign, defaultTextBaseline, registerFont, } from '../canvas.js';\nimport { getUid } from '../../util.js';\nimport { intersects } from '../../extent.js';\nimport { matchingChunk } from '../../geom/flat/straightchunk.js';\n/**\n * @const\n * @enum {number}\n */\nexport var TEXT_ALIGN = {\n    'left': 0,\n    'end': 0,\n    'center': 0.5,\n    'right': 1,\n    'start': 1,\n    'top': 0,\n    'middle': 0.5,\n    'hanging': 0.2,\n    'alphabetic': 0.8,\n    'ideographic': 0.8,\n    'bottom': 1,\n};\nvar CanvasTextBuilder = /** @class */ (function (_super) {\n    __extends(CanvasTextBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasTextBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n        /**\n         * @private\n         * @type {Array<HTMLCanvasElement>}\n         */\n        _this.labels_ = null;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.text_ = '';\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetY_ = 0;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        _this.textRotateWithView_ = undefined;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textRotation_ = 0;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.textFillState_ = null;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").FillState>}\n         */\n        _this.fillStates = {};\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.textStrokeState_ = null;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").StrokeState>}\n         */\n        _this.strokeStates = {};\n        /**\n         * @private\n         * @type {import(\"../canvas.js\").TextState}\n         */\n        _this.textState_ = /** @type {import(\"../canvas.js\").TextState} */ ({});\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").TextState>}\n         */\n        _this.textStates = {};\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.textKey_ = '';\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.fillKey_ = '';\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.strokeKey_ = '';\n        /**\n         * Data shared with an image builder for combined decluttering.\n         * @private\n         * @type {import(\"../canvas.js\").DeclutterImageWithText}\n         */\n        _this.declutterImageWithText_ = undefined;\n        return _this;\n    }\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasTextBuilder.prototype.finish = function () {\n        var instructions = _super.prototype.finish.call(this);\n        instructions.textStates = this.textStates;\n        instructions.fillStates = this.fillStates;\n        instructions.strokeStates = this.strokeStates;\n        return instructions;\n    };\n    /**\n     * @param {import(\"../../geom/SimpleGeometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasTextBuilder.prototype.drawText = function (geometry, feature) {\n        var fillState = this.textFillState_;\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        if (this.text_ === '' || !textState || (!fillState && !strokeState)) {\n            return;\n        }\n        var coordinates = this.coordinates;\n        var begin = coordinates.length;\n        var geometryType = geometry.getType();\n        var flatCoordinates = null;\n        var stride = geometry.getStride();\n        if (textState.placement === TextPlacement.LINE &&\n            (geometryType == GeometryType.LINE_STRING ||\n                geometryType == GeometryType.MULTI_LINE_STRING ||\n                geometryType == GeometryType.POLYGON ||\n                geometryType == GeometryType.MULTI_POLYGON)) {\n            if (!intersects(this.getBufferedMaxExtent(), geometry.getExtent())) {\n                return;\n            }\n            var ends = void 0;\n            flatCoordinates = geometry.getFlatCoordinates();\n            if (geometryType == GeometryType.LINE_STRING) {\n                ends = [flatCoordinates.length];\n            }\n            else if (geometryType == GeometryType.MULTI_LINE_STRING) {\n                ends = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getEnds();\n            }\n            else if (geometryType == GeometryType.POLYGON) {\n                ends = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry)\n                    .getEnds()\n                    .slice(0, 1);\n            }\n            else if (geometryType == GeometryType.MULTI_POLYGON) {\n                var endss = \n                /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getEndss();\n                ends = [];\n                for (var i = 0, ii = endss.length; i < ii; ++i) {\n                    ends.push(endss[i][0]);\n                }\n            }\n            this.beginGeometry(geometry, feature);\n            var textAlign = textState.textAlign;\n            var flatOffset = 0;\n            var flatEnd = void 0;\n            for (var o = 0, oo = ends.length; o < oo; ++o) {\n                if (textAlign == undefined) {\n                    var range = matchingChunk(textState.maxAngle, flatCoordinates, flatOffset, ends[o], stride);\n                    flatOffset = range[0];\n                    flatEnd = range[1];\n                }\n                else {\n                    flatEnd = ends[o];\n                }\n                for (var i = flatOffset; i < flatEnd; i += stride) {\n                    coordinates.push(flatCoordinates[i], flatCoordinates[i + 1]);\n                }\n                var end = coordinates.length;\n                flatOffset = ends[o];\n                this.drawChars_(begin, end);\n                begin = end;\n            }\n            this.endGeometry(feature);\n        }\n        else {\n            var geometryWidths = textState.overflow ? null : [];\n            switch (geometryType) {\n                case GeometryType.POINT:\n                case GeometryType.MULTI_POINT:\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry).getFlatCoordinates();\n                    break;\n                case GeometryType.LINE_STRING:\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/LineString.js\").default} */ (geometry).getFlatMidpoint();\n                    break;\n                case GeometryType.CIRCLE:\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/Circle.js\").default} */ (geometry).getCenter();\n                    break;\n                case GeometryType.MULTI_LINE_STRING:\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getFlatMidpoints();\n                    stride = 2;\n                    break;\n                case GeometryType.POLYGON:\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getFlatInteriorPoint();\n                    if (!textState.overflow) {\n                        geometryWidths.push(flatCoordinates[2] / this.resolution);\n                    }\n                    stride = 3;\n                    break;\n                case GeometryType.MULTI_POLYGON:\n                    var interiorPoints = \n                    /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getFlatInteriorPoints();\n                    flatCoordinates = [];\n                    for (var i = 0, ii = interiorPoints.length; i < ii; i += 3) {\n                        if (!textState.overflow) {\n                            geometryWidths.push(interiorPoints[i + 2] / this.resolution);\n                        }\n                        flatCoordinates.push(interiorPoints[i], interiorPoints[i + 1]);\n                    }\n                    if (flatCoordinates.length === 0) {\n                        return;\n                    }\n                    stride = 2;\n                    break;\n                default:\n            }\n            var end = this.appendFlatPointCoordinates(flatCoordinates, stride);\n            if (end === begin) {\n                return;\n            }\n            if (geometryWidths &&\n                (end - begin) / 2 !== flatCoordinates.length / stride) {\n                var beg_1 = begin / 2;\n                geometryWidths = geometryWidths.filter(function (w, i) {\n                    var keep = coordinates[(beg_1 + i) * 2] === flatCoordinates[i * stride] &&\n                        coordinates[(beg_1 + i) * 2 + 1] === flatCoordinates[i * stride + 1];\n                    if (!keep) {\n                        --beg_1;\n                    }\n                    return keep;\n                });\n            }\n            this.saveTextStates_();\n            if (textState.backgroundFill || textState.backgroundStroke) {\n                this.setFillStrokeStyle(textState.backgroundFill, textState.backgroundStroke);\n                if (textState.backgroundFill) {\n                    this.updateFillStyle(this.state, this.createFill);\n                    this.hitDetectionInstructions.push(this.createFill(this.state));\n                }\n                if (textState.backgroundStroke) {\n                    this.updateStrokeStyle(this.state, this.applyStroke);\n                    this.hitDetectionInstructions.push(this.createStroke(this.state));\n                }\n            }\n            this.beginGeometry(geometry, feature);\n            // adjust padding for negative scale\n            var padding = textState.padding;\n            if (padding != defaultPadding &&\n                (textState.scale[0] < 0 || textState.scale[1] < 0)) {\n                var p0 = textState.padding[0];\n                var p1 = textState.padding[1];\n                var p2 = textState.padding[2];\n                var p3 = textState.padding[3];\n                if (textState.scale[0] < 0) {\n                    p1 = -p1;\n                    p3 = -p3;\n                }\n                if (textState.scale[1] < 0) {\n                    p0 = -p0;\n                    p2 = -p2;\n                }\n                padding = [p0, p1, p2, p3];\n            }\n            // The image is unknown at this stage so we pass null; it will be computed at render time.\n            // For clarity, we pass NaN for offsetX, offsetY, width and height, which will be computed at\n            // render time.\n            var pixelRatio_1 = this.pixelRatio;\n            this.instructions.push([\n                CanvasInstruction.DRAW_IMAGE,\n                begin,\n                end,\n                null,\n                NaN,\n                NaN,\n                NaN,\n                1,\n                0,\n                0,\n                this.textRotateWithView_,\n                this.textRotation_,\n                [1, 1],\n                NaN,\n                this.declutterImageWithText_,\n                padding == defaultPadding\n                    ? defaultPadding\n                    : padding.map(function (p) {\n                        return p * pixelRatio_1;\n                    }),\n                !!textState.backgroundFill,\n                !!textState.backgroundStroke,\n                this.text_,\n                this.textKey_,\n                this.strokeKey_,\n                this.fillKey_,\n                this.textOffsetX_,\n                this.textOffsetY_,\n                geometryWidths,\n            ]);\n            var scale = 1 / pixelRatio_1;\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.DRAW_IMAGE,\n                begin,\n                end,\n                null,\n                NaN,\n                NaN,\n                NaN,\n                1,\n                0,\n                0,\n                this.textRotateWithView_,\n                this.textRotation_,\n                [scale, scale],\n                NaN,\n                this.declutterImageWithText_,\n                padding,\n                !!textState.backgroundFill,\n                !!textState.backgroundStroke,\n                this.text_,\n                this.textKey_,\n                this.strokeKey_,\n                this.fillKey_,\n                this.textOffsetX_,\n                this.textOffsetY_,\n                geometryWidths,\n            ]);\n            this.endGeometry(feature);\n        }\n    };\n    /**\n     * @private\n     */\n    CanvasTextBuilder.prototype.saveTextStates_ = function () {\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        var fillState = this.textFillState_;\n        var strokeKey = this.strokeKey_;\n        if (strokeState) {\n            if (!(strokeKey in this.strokeStates)) {\n                this.strokeStates[strokeKey] = {\n                    strokeStyle: strokeState.strokeStyle,\n                    lineCap: strokeState.lineCap,\n                    lineDashOffset: strokeState.lineDashOffset,\n                    lineWidth: strokeState.lineWidth,\n                    lineJoin: strokeState.lineJoin,\n                    miterLimit: strokeState.miterLimit,\n                    lineDash: strokeState.lineDash,\n                };\n            }\n        }\n        var textKey = this.textKey_;\n        if (!(textKey in this.textStates)) {\n            this.textStates[textKey] = {\n                font: textState.font,\n                textAlign: textState.textAlign || defaultTextAlign,\n                textBaseline: textState.textBaseline || defaultTextBaseline,\n                scale: textState.scale,\n            };\n        }\n        var fillKey = this.fillKey_;\n        if (fillState) {\n            if (!(fillKey in this.fillStates)) {\n                this.fillStates[fillKey] = {\n                    fillStyle: fillState.fillStyle,\n                };\n            }\n        }\n    };\n    /**\n     * @private\n     * @param {number} begin Begin.\n     * @param {number} end End.\n     */\n    CanvasTextBuilder.prototype.drawChars_ = function (begin, end) {\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        var strokeKey = this.strokeKey_;\n        var textKey = this.textKey_;\n        var fillKey = this.fillKey_;\n        this.saveTextStates_();\n        var pixelRatio = this.pixelRatio;\n        var baseline = TEXT_ALIGN[textState.textBaseline];\n        var offsetY = this.textOffsetY_ * pixelRatio;\n        var text = this.text_;\n        var strokeWidth = strokeState\n            ? (strokeState.lineWidth * Math.abs(textState.scale[0])) / 2\n            : 0;\n        this.instructions.push([\n            CanvasInstruction.DRAW_CHARS,\n            begin,\n            end,\n            baseline,\n            textState.overflow,\n            fillKey,\n            textState.maxAngle,\n            pixelRatio,\n            offsetY,\n            strokeKey,\n            strokeWidth * pixelRatio,\n            text,\n            textKey,\n            1,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_CHARS,\n            begin,\n            end,\n            baseline,\n            textState.overflow,\n            fillKey,\n            textState.maxAngle,\n            1,\n            offsetY,\n            strokeKey,\n            strokeWidth,\n            text,\n            textKey,\n            1 / pixelRatio,\n        ]);\n    };\n    /**\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     * @param {Object} [opt_sharedData] Shared data.\n     */\n    CanvasTextBuilder.prototype.setTextStyle = function (textStyle, opt_sharedData) {\n        var textState, fillState, strokeState;\n        if (!textStyle) {\n            this.text_ = '';\n        }\n        else {\n            var textFillStyle = textStyle.getFill();\n            if (!textFillStyle) {\n                fillState = null;\n                this.textFillState_ = fillState;\n            }\n            else {\n                fillState = this.textFillState_;\n                if (!fillState) {\n                    fillState = /** @type {import(\"../canvas.js\").FillState} */ ({});\n                    this.textFillState_ = fillState;\n                }\n                fillState.fillStyle = asColorLike(textFillStyle.getColor() || defaultFillStyle);\n            }\n            var textStrokeStyle = textStyle.getStroke();\n            if (!textStrokeStyle) {\n                strokeState = null;\n                this.textStrokeState_ = strokeState;\n            }\n            else {\n                strokeState = this.textStrokeState_;\n                if (!strokeState) {\n                    strokeState = /** @type {import(\"../canvas.js\").StrokeState} */ ({});\n                    this.textStrokeState_ = strokeState;\n                }\n                var lineDash = textStrokeStyle.getLineDash();\n                var lineDashOffset = textStrokeStyle.getLineDashOffset();\n                var lineWidth = textStrokeStyle.getWidth();\n                var miterLimit = textStrokeStyle.getMiterLimit();\n                strokeState.lineCap = textStrokeStyle.getLineCap() || defaultLineCap;\n                strokeState.lineDash = lineDash ? lineDash.slice() : defaultLineDash;\n                strokeState.lineDashOffset =\n                    lineDashOffset === undefined ? defaultLineDashOffset : lineDashOffset;\n                strokeState.lineJoin = textStrokeStyle.getLineJoin() || defaultLineJoin;\n                strokeState.lineWidth =\n                    lineWidth === undefined ? defaultLineWidth : lineWidth;\n                strokeState.miterLimit =\n                    miterLimit === undefined ? defaultMiterLimit : miterLimit;\n                strokeState.strokeStyle = asColorLike(textStrokeStyle.getColor() || defaultStrokeStyle);\n            }\n            textState = this.textState_;\n            var font = textStyle.getFont() || defaultFont;\n            registerFont(font);\n            var textScale = textStyle.getScaleArray();\n            textState.overflow = textStyle.getOverflow();\n            textState.font = font;\n            textState.maxAngle = textStyle.getMaxAngle();\n            textState.placement = textStyle.getPlacement();\n            textState.textAlign = textStyle.getTextAlign();\n            textState.textBaseline =\n                textStyle.getTextBaseline() || defaultTextBaseline;\n            textState.backgroundFill = textStyle.getBackgroundFill();\n            textState.backgroundStroke = textStyle.getBackgroundStroke();\n            textState.padding = textStyle.getPadding() || defaultPadding;\n            textState.scale = textScale === undefined ? [1, 1] : textScale;\n            var textOffsetX = textStyle.getOffsetX();\n            var textOffsetY = textStyle.getOffsetY();\n            var textRotateWithView = textStyle.getRotateWithView();\n            var textRotation = textStyle.getRotation();\n            this.text_ = textStyle.getText() || '';\n            this.textOffsetX_ = textOffsetX === undefined ? 0 : textOffsetX;\n            this.textOffsetY_ = textOffsetY === undefined ? 0 : textOffsetY;\n            this.textRotateWithView_ =\n                textRotateWithView === undefined ? false : textRotateWithView;\n            this.textRotation_ = textRotation === undefined ? 0 : textRotation;\n            this.strokeKey_ = strokeState\n                ? (typeof strokeState.strokeStyle == 'string'\n                    ? strokeState.strokeStyle\n                    : getUid(strokeState.strokeStyle)) +\n                    strokeState.lineCap +\n                    strokeState.lineDashOffset +\n                    '|' +\n                    strokeState.lineWidth +\n                    strokeState.lineJoin +\n                    strokeState.miterLimit +\n                    '[' +\n                    strokeState.lineDash.join() +\n                    ']'\n                : '';\n            this.textKey_ =\n                textState.font +\n                    textState.scale +\n                    (textState.textAlign || '?') +\n                    (textState.textBaseline || '?');\n            this.fillKey_ = fillState\n                ? typeof fillState.fillStyle == 'string'\n                    ? fillState.fillStyle\n                    : '|' + getUid(fillState.fillStyle)\n                : '';\n        }\n        this.declutterImageWithText_ = opt_sharedData;\n    };\n    return CanvasTextBuilder;\n}(CanvasBuilder));\nexport default CanvasTextBuilder;\n//# sourceMappingURL=TextBuilder.js.map","/**\n * @module ol/render/canvas/BuilderGroup\n */\nimport Builder from './Builder.js';\nimport ImageBuilder from './ImageBuilder.js';\nimport LineStringBuilder from './LineStringBuilder.js';\nimport PolygonBuilder from './PolygonBuilder.js';\nimport TextBuilder from './TextBuilder.js';\n/**\n * @type {Object<import(\"./BuilderType\").default, typeof Builder>}\n */\nvar BATCH_CONSTRUCTORS = {\n    'Circle': PolygonBuilder,\n    'Default': Builder,\n    'Image': ImageBuilder,\n    'LineString': LineStringBuilder,\n    'Polygon': PolygonBuilder,\n    'Text': TextBuilder,\n};\nvar BuilderGroup = /** @class */ (function () {\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Max extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function BuilderGroup(tolerance, maxExtent, resolution, pixelRatio) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.tolerance_ = tolerance;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        this.maxExtent_ = maxExtent;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.resolution_ = resolution;\n        /**\n         * @private\n         * @type {!Object<string, !Object<import(\"./BuilderType\").default, Builder>>}\n         */\n        this.buildersByZIndex_ = {};\n    }\n    /**\n     * @return {!Object<string, !Object<import(\"./BuilderType\").default, import(\"./Builder.js\").SerializableInstructions>>} The serializable instructions\n     */\n    BuilderGroup.prototype.finish = function () {\n        var builderInstructions = {};\n        for (var zKey in this.buildersByZIndex_) {\n            builderInstructions[zKey] = builderInstructions[zKey] || {};\n            var builders = this.buildersByZIndex_[zKey];\n            for (var builderKey in builders) {\n                var builderInstruction = builders[builderKey].finish();\n                builderInstructions[zKey][builderKey] = builderInstruction;\n            }\n        }\n        return builderInstructions;\n    };\n    /**\n     * @param {number|undefined} zIndex Z index.\n     * @param {import(\"./BuilderType.js\").default} builderType Replay type.\n     * @return {import(\"../VectorContext.js\").default} Replay.\n     */\n    BuilderGroup.prototype.getBuilder = function (zIndex, builderType) {\n        var zIndexKey = zIndex !== undefined ? zIndex.toString() : '0';\n        var replays = this.buildersByZIndex_[zIndexKey];\n        if (replays === undefined) {\n            replays = {};\n            this.buildersByZIndex_[zIndexKey] = replays;\n        }\n        var replay = replays[builderType];\n        if (replay === undefined) {\n            var Constructor = BATCH_CONSTRUCTORS[builderType];\n            replay = new Constructor(this.tolerance_, this.maxExtent_, this.resolution_, this.pixelRatio_);\n            replays[builderType] = replay;\n        }\n        return replay;\n    };\n    return BuilderGroup;\n}());\nexport default BuilderGroup;\n//# sourceMappingURL=BuilderGroup.js.map","/**\n * @module ol/render/canvas/BuilderType\n */\n/**\n * @enum {string}\n */\nexport default {\n    CIRCLE: 'Circle',\n    DEFAULT: 'Default',\n    IMAGE: 'Image',\n    LINE_STRING: 'LineString',\n    POLYGON: 'Polygon',\n    TEXT: 'Text',\n};\n//# sourceMappingURL=BuilderType.js.map","/**\n * @module ol/geom/flat/textpath\n */\nimport { lerp } from '../../math.js';\nimport { rotate } from './transform.js';\n/**\n * @param {Array<number>} flatCoordinates Path to put text on.\n * @param {number} offset Start offset of the `flatCoordinates`.\n * @param {number} end End offset of the `flatCoordinates`.\n * @param {number} stride Stride.\n * @param {string} text Text to place on the path.\n * @param {number} startM m along the path where the text starts.\n * @param {number} maxAngle Max angle between adjacent chars in radians.\n * @param {number} scale The product of the text scale and the device pixel ratio.\n * @param {function(string, string, Object<string, number>):number} measureAndCacheTextWidth Measure and cache text width.\n * @param {string} font The font.\n * @param {Object<string, number>} cache A cache of measured widths.\n * @param {number} rotation Rotation to apply to the flatCoordinates to determine whether text needs to be reversed.\n * @return {Array<Array<*>>} The result array (or null if `maxAngle` was\n * exceeded). Entries of the array are x, y, anchorX, angle, chunk.\n */\nexport function drawTextOnPath(flatCoordinates, offset, end, stride, text, startM, maxAngle, scale, measureAndCacheTextWidth, font, cache, rotation) {\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    var x1 = 0;\n    var y1 = 0;\n    var segmentLength = 0;\n    var segmentM = 0;\n    function advance() {\n        x1 = x2;\n        y1 = y2;\n        offset += stride;\n        x2 = flatCoordinates[offset];\n        y2 = flatCoordinates[offset + 1];\n        segmentM += segmentLength;\n        segmentLength = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n    do {\n        advance();\n    } while (offset < end - stride && segmentM + segmentLength < startM);\n    var interpolate = segmentLength === 0 ? 0 : (startM - segmentM) / segmentLength;\n    var beginX = lerp(x1, x2, interpolate);\n    var beginY = lerp(y1, y2, interpolate);\n    var startOffset = offset - stride;\n    var startLength = segmentM;\n    var endM = startM + scale * measureAndCacheTextWidth(font, text, cache);\n    while (offset < end - stride && segmentM + segmentLength < endM) {\n        advance();\n    }\n    interpolate = segmentLength === 0 ? 0 : (endM - segmentM) / segmentLength;\n    var endX = lerp(x1, x2, interpolate);\n    var endY = lerp(y1, y2, interpolate);\n    // Keep text upright\n    var reverse;\n    if (rotation) {\n        var flat = [beginX, beginY, endX, endY];\n        rotate(flat, 0, 4, 2, rotation, flat, flat);\n        reverse = flat[0] > flat[2];\n    }\n    else {\n        reverse = beginX > endX;\n    }\n    var PI = Math.PI;\n    var result = [];\n    var singleSegment = startOffset + stride === offset;\n    offset = startOffset;\n    segmentLength = 0;\n    segmentM = startLength;\n    x2 = flatCoordinates[offset];\n    y2 = flatCoordinates[offset + 1];\n    var previousAngle;\n    // All on the same segment\n    if (singleSegment) {\n        advance();\n        previousAngle = Math.atan2(y2 - y1, x2 - x1);\n        if (reverse) {\n            previousAngle += previousAngle > 0 ? -PI : PI;\n        }\n        var x = (endX + beginX) / 2;\n        var y = (endY + beginY) / 2;\n        result[0] = [x, y, (endM - startM) / 2, previousAngle, text];\n        return result;\n    }\n    for (var i = 0, ii = text.length; i < ii;) {\n        advance();\n        var angle = Math.atan2(y2 - y1, x2 - x1);\n        if (reverse) {\n            angle += angle > 0 ? -PI : PI;\n        }\n        if (previousAngle !== undefined) {\n            var delta = angle - previousAngle;\n            delta += delta > PI ? -2 * PI : delta < -PI ? 2 * PI : 0;\n            if (Math.abs(delta) > maxAngle) {\n                return null;\n            }\n        }\n        previousAngle = angle;\n        var iStart = i;\n        var charLength = 0;\n        for (; i < ii; ++i) {\n            var index = reverse ? ii - i - 1 : i;\n            var len = scale * measureAndCacheTextWidth(font, text[index], cache);\n            if (offset + stride < end &&\n                segmentM + segmentLength < startM + charLength + len / 2) {\n                break;\n            }\n            charLength += len;\n        }\n        if (i === iStart) {\n            continue;\n        }\n        var chars = reverse\n            ? text.substring(ii - iStart, ii - i)\n            : text.substring(iStart, i);\n        interpolate =\n            segmentLength === 0\n                ? 0\n                : (startM + charLength / 2 - segmentM) / segmentLength;\n        var x = lerp(x1, x2, interpolate);\n        var y = lerp(y1, y2, interpolate);\n        result.push([x, y, charLength / 2, angle, chars]);\n        startM += charLength;\n    }\n    return result;\n}\n//# sourceMappingURL=textpath.js.map","/**\n * @module ol/render/canvas/Executor\n */\nimport CanvasInstruction from './Instruction.js';\nimport { TEXT_ALIGN } from './TextBuilder.js';\nimport { WORKER_OFFSCREEN_CANVAS } from '../../has.js';\nimport { apply as applyTransform, compose as composeTransform, create as createTransform, setFromArray as transformSetFromArray, } from '../../transform.js';\nimport { createEmpty, createOrUpdate, intersects } from '../../extent.js';\nimport { defaultPadding, defaultTextBaseline, drawImageOrLabel, } from '../canvas.js';\nimport { defaultTextAlign, measureAndCacheTextWidth, measureTextHeight, measureTextWidths, } from '../canvas.js';\nimport { drawTextOnPath } from '../../geom/flat/textpath.js';\nimport { equals } from '../../array.js';\nimport { lineStringLength } from '../../geom/flat/length.js';\nimport { transform2D } from '../../geom/flat/transform.js';\n/**\n * @typedef {Object} BBox\n * @property {number} minX Minimal x.\n * @property {number} minY Minimal y.\n * @property {number} maxX Maximal x.\n * @property {number} maxY Maximal y\n * @property {*} value Value.\n */\n/**\n * @typedef {Object} ImageOrLabelDimensions\n * @property {number} drawImageX DrawImageX.\n * @property {number} drawImageY DrawImageY.\n * @property {number} drawImageW DrawImageW.\n * @property {number} drawImageH DrawImageH.\n * @property {number} originX OriginX.\n * @property {number} originY OriginY.\n * @property {Array<number>} scale Scale.\n * @property {BBox} declutterBox DeclutterBox.\n * @property {import(\"../../transform.js\").Transform} canvasTransform CanvasTransform.\n */\n/**\n * @typedef {{0: CanvasRenderingContext2D, 1: number, 2: import(\"../canvas.js\").Label|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement, 3: ImageOrLabelDimensions, 4: number, 5: Array<*>, 6: Array<*>}} ReplayImageOrLabelArgs\n */\n/**\n * @template T\n * @typedef {function(import(\"../../Feature.js\").FeatureLike, import(\"../../geom/SimpleGeometry.js\").default): T} FeatureCallback\n */\n/**\n * @type {import(\"../../extent.js\").Extent}\n */\nvar tmpExtent = createEmpty();\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p1 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p2 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p3 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p4 = [];\n/**\n * @param {ReplayImageOrLabelArgs} replayImageOrLabelArgs Arguments to replayImageOrLabel\n * @return {BBox} Declutter bbox.\n */\nfunction getDeclutterBox(replayImageOrLabelArgs) {\n    return replayImageOrLabelArgs[3].declutterBox;\n}\nvar rtlRegEx = new RegExp(\n/* eslint-disable prettier/prettier */\n'[' +\n    String.fromCharCode(0x00591) + '-' + String.fromCharCode(0x008ff) +\n    String.fromCharCode(0x0fb1d) + '-' + String.fromCharCode(0x0fdff) +\n    String.fromCharCode(0x0fe70) + '-' + String.fromCharCode(0x0fefc) +\n    String.fromCharCode(0x10800) + '-' + String.fromCharCode(0x10fff) +\n    String.fromCharCode(0x1e800) + '-' + String.fromCharCode(0x1efff) +\n    ']'\n/* eslint-enable prettier/prettier */\n);\n/**\n * @param {string} text Text.\n * @param {string} align Alignment.\n * @return {number} Text alignment.\n */\nfunction horizontalTextAlign(text, align) {\n    if ((align === 'start' || align === 'end') && !rtlRegEx.test(text)) {\n        align = align === 'start' ? 'left' : 'right';\n    }\n    return TEXT_ALIGN[align];\n}\nvar Executor = /** @class */ (function () {\n    /**\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {boolean} overlaps The replay can have overlapping geometries.\n     * @param {import(\"../canvas.js\").SerializableInstructions} instructions The serializable instructions\n     */\n    function Executor(resolution, pixelRatio, overlaps, instructions) {\n        /**\n         * @protected\n         * @type {boolean}\n         */\n        this.overlaps = overlaps;\n        /**\n         * @protected\n         * @type {number}\n         */\n        this.pixelRatio = pixelRatio;\n        /**\n         * @protected\n         * @const\n         * @type {number}\n         */\n        this.resolution = resolution;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.alignFill_;\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        this.instructions = instructions.instructions;\n        /**\n         * @protected\n         * @type {Array<number>}\n         */\n        this.coordinates = instructions.coordinates;\n        /**\n         * @private\n         * @type {!Object<number,import(\"../../coordinate.js\").Coordinate|Array<import(\"../../coordinate.js\").Coordinate>|Array<Array<import(\"../../coordinate.js\").Coordinate>>>}\n         */\n        this.coordinateCache_ = {};\n        /**\n         * @private\n         * @type {!import(\"../../transform.js\").Transform}\n         */\n        this.renderedTransform_ = createTransform();\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        this.hitDetectionInstructions = instructions.hitDetectionInstructions;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.pixelCoordinates_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.viewRotation_ = 0;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").FillState>}\n         */\n        this.fillStates = instructions.fillStates || {};\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").StrokeState>}\n         */\n        this.strokeStates = instructions.strokeStates || {};\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").TextState>}\n         */\n        this.textStates = instructions.textStates || {};\n        /**\n         * @private\n         * @type {Object<string, Object<string, number>>}\n         */\n        this.widths_ = {};\n        /**\n         * @private\n         * @type {Object<string, import(\"../canvas.js\").Label>}\n         */\n        this.labels_ = {};\n    }\n    /**\n     * @param {string} text Text.\n     * @param {string} textKey Text style key.\n     * @param {string} fillKey Fill style key.\n     * @param {string} strokeKey Stroke style key.\n     * @return {import(\"../canvas.js\").Label} Label.\n     */\n    Executor.prototype.createLabel = function (text, textKey, fillKey, strokeKey) {\n        var key = text + textKey + fillKey + strokeKey;\n        if (this.labels_[key]) {\n            return this.labels_[key];\n        }\n        var strokeState = strokeKey ? this.strokeStates[strokeKey] : null;\n        var fillState = fillKey ? this.fillStates[fillKey] : null;\n        var textState = this.textStates[textKey];\n        var pixelRatio = this.pixelRatio;\n        var scale = [\n            textState.scale[0] * pixelRatio,\n            textState.scale[1] * pixelRatio,\n        ];\n        var align = horizontalTextAlign(text, textState.textAlign || defaultTextAlign);\n        var strokeWidth = strokeKey && strokeState.lineWidth ? strokeState.lineWidth : 0;\n        var lines = text.split('\\n');\n        var numLines = lines.length;\n        var widths = [];\n        var width = measureTextWidths(textState.font, lines, widths);\n        var lineHeight = measureTextHeight(textState.font);\n        var height = lineHeight * numLines;\n        var renderWidth = width + strokeWidth;\n        var contextInstructions = [];\n        // make canvas 2 pixels wider to account for italic text width measurement errors\n        var w = (renderWidth + 2) * scale[0];\n        var h = (height + strokeWidth) * scale[1];\n        /** @type {import(\"../canvas.js\").Label} */\n        var label = {\n            width: w < 0 ? Math.floor(w) : Math.ceil(w),\n            height: h < 0 ? Math.floor(h) : Math.ceil(h),\n            contextInstructions: contextInstructions,\n        };\n        if (scale[0] != 1 || scale[1] != 1) {\n            contextInstructions.push('scale', scale);\n        }\n        contextInstructions.push('font', textState.font);\n        if (strokeKey) {\n            contextInstructions.push('strokeStyle', strokeState.strokeStyle);\n            contextInstructions.push('lineWidth', strokeWidth);\n            contextInstructions.push('lineCap', strokeState.lineCap);\n            contextInstructions.push('lineJoin', strokeState.lineJoin);\n            contextInstructions.push('miterLimit', strokeState.miterLimit);\n            // eslint-disable-next-line\n            var Context = WORKER_OFFSCREEN_CANVAS ? OffscreenCanvasRenderingContext2D : CanvasRenderingContext2D;\n            if (Context.prototype.setLineDash) {\n                contextInstructions.push('setLineDash', [strokeState.lineDash]);\n                contextInstructions.push('lineDashOffset', strokeState.lineDashOffset);\n            }\n        }\n        if (fillKey) {\n            contextInstructions.push('fillStyle', fillState.fillStyle);\n        }\n        contextInstructions.push('textBaseline', 'middle');\n        contextInstructions.push('textAlign', 'center');\n        var leftRight = 0.5 - align;\n        var x = align * renderWidth + leftRight * strokeWidth;\n        var i;\n        if (strokeKey) {\n            for (i = 0; i < numLines; ++i) {\n                contextInstructions.push('strokeText', [\n                    lines[i],\n                    x + leftRight * widths[i],\n                    0.5 * (strokeWidth + lineHeight) + i * lineHeight,\n                ]);\n            }\n        }\n        if (fillKey) {\n            for (i = 0; i < numLines; ++i) {\n                contextInstructions.push('fillText', [\n                    lines[i],\n                    x + leftRight * widths[i],\n                    0.5 * (strokeWidth + lineHeight) + i * lineHeight,\n                ]);\n            }\n        }\n        this.labels_[key] = label;\n        return label;\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} p1 1st point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p2 2nd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p3 3rd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p4 4th point of the background box.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     */\n    Executor.prototype.replayTextBackground_ = function (context, p1, p2, p3, p4, fillInstruction, strokeInstruction) {\n        context.beginPath();\n        context.moveTo.apply(context, p1);\n        context.lineTo.apply(context, p2);\n        context.lineTo.apply(context, p3);\n        context.lineTo.apply(context, p4);\n        context.lineTo.apply(context, p1);\n        if (fillInstruction) {\n            this.alignFill_ = /** @type {boolean} */ (fillInstruction[2]);\n            this.fill_(context);\n        }\n        if (strokeInstruction) {\n            this.setStrokeStyle_(context, \n            /** @type {Array<*>} */ (strokeInstruction));\n            context.stroke();\n        }\n    };\n    /**\n     * @private\n     * @param {number} sheetWidth Width of the sprite sheet.\n     * @param {number} sheetHeight Height of the sprite sheet.\n     * @param {number} centerX X.\n     * @param {number} centerY Y.\n     * @param {number} width Width.\n     * @param {number} height Height.\n     * @param {number} anchorX Anchor X.\n     * @param {number} anchorY Anchor Y.\n     * @param {number} originX Origin X.\n     * @param {number} originY Origin Y.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} scale Scale.\n     * @param {boolean} snapToPixel Snap to pixel.\n     * @param {Array<number>} padding Padding.\n     * @param {boolean} fillStroke Background fill or stroke.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @return {ImageOrLabelDimensions} Dimensions for positioning and decluttering the image or label.\n     */\n    Executor.prototype.calculateImageOrLabelDimensions_ = function (sheetWidth, sheetHeight, centerX, centerY, width, height, anchorX, anchorY, originX, originY, rotation, scale, snapToPixel, padding, fillStroke, feature) {\n        anchorX *= scale[0];\n        anchorY *= scale[1];\n        var x = centerX - anchorX;\n        var y = centerY - anchorY;\n        var w = width + originX > sheetWidth ? sheetWidth - originX : width;\n        var h = height + originY > sheetHeight ? sheetHeight - originY : height;\n        var boxW = padding[3] + w * scale[0] + padding[1];\n        var boxH = padding[0] + h * scale[1] + padding[2];\n        var boxX = x - padding[3];\n        var boxY = y - padding[0];\n        if (fillStroke || rotation !== 0) {\n            p1[0] = boxX;\n            p4[0] = boxX;\n            p1[1] = boxY;\n            p2[1] = boxY;\n            p2[0] = boxX + boxW;\n            p3[0] = p2[0];\n            p3[1] = boxY + boxH;\n            p4[1] = p3[1];\n        }\n        var transform;\n        if (rotation !== 0) {\n            transform = composeTransform(createTransform(), centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n            applyTransform(transform, p1);\n            applyTransform(transform, p2);\n            applyTransform(transform, p3);\n            applyTransform(transform, p4);\n            createOrUpdate(Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1]), tmpExtent);\n        }\n        else {\n            createOrUpdate(Math.min(boxX, boxX + boxW), Math.min(boxY, boxY + boxH), Math.max(boxX, boxX + boxW), Math.max(boxY, boxY + boxH), tmpExtent);\n        }\n        if (snapToPixel) {\n            x = Math.round(x);\n            y = Math.round(y);\n        }\n        return {\n            drawImageX: x,\n            drawImageY: y,\n            drawImageW: w,\n            drawImageH: h,\n            originX: originX,\n            originY: originY,\n            declutterBox: {\n                minX: tmpExtent[0],\n                minY: tmpExtent[1],\n                maxX: tmpExtent[2],\n                maxY: tmpExtent[3],\n                value: feature,\n            },\n            canvasTransform: transform,\n            scale: scale,\n        };\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../canvas.js\").Label|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement} imageOrLabel Image.\n     * @param {ImageOrLabelDimensions} dimensions Dimensions.\n     * @param {number} opacity Opacity.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     * @return {boolean} The image or label was rendered.\n     */\n    Executor.prototype.replayImageOrLabel_ = function (context, contextScale, imageOrLabel, dimensions, opacity, fillInstruction, strokeInstruction) {\n        var fillStroke = !!(fillInstruction || strokeInstruction);\n        var box = dimensions.declutterBox;\n        var canvas = context.canvas;\n        var strokePadding = strokeInstruction\n            ? (strokeInstruction[2] * dimensions.scale[0]) / 2\n            : 0;\n        var intersects = box.minX - strokePadding <= canvas.width / contextScale &&\n            box.maxX + strokePadding >= 0 &&\n            box.minY - strokePadding <= canvas.height / contextScale &&\n            box.maxY + strokePadding >= 0;\n        if (intersects) {\n            if (fillStroke) {\n                this.replayTextBackground_(context, p1, p2, p3, p4, \n                /** @type {Array<*>} */ (fillInstruction), \n                /** @type {Array<*>} */ (strokeInstruction));\n            }\n            drawImageOrLabel(context, dimensions.canvasTransform, opacity, imageOrLabel, dimensions.originX, dimensions.originY, dimensions.drawImageW, dimensions.drawImageH, dimensions.drawImageX, dimensions.drawImageY, dimensions.scale);\n        }\n        return true;\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     */\n    Executor.prototype.fill_ = function (context) {\n        if (this.alignFill_) {\n            var origin_1 = applyTransform(this.renderedTransform_, [0, 0]);\n            var repeatSize = 512 * this.pixelRatio;\n            context.save();\n            context.translate(origin_1[0] % repeatSize, origin_1[1] % repeatSize);\n            context.rotate(this.viewRotation_);\n        }\n        context.fill();\n        if (this.alignFill_) {\n            context.restore();\n        }\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {Array<*>} instruction Instruction.\n     */\n    Executor.prototype.setStrokeStyle_ = function (context, instruction) {\n        context['strokeStyle'] =\n            /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n        context.lineWidth = /** @type {number} */ (instruction[2]);\n        context.lineCap = /** @type {CanvasLineCap} */ (instruction[3]);\n        context.lineJoin = /** @type {CanvasLineJoin} */ (instruction[4]);\n        context.miterLimit = /** @type {number} */ (instruction[5]);\n        if (context.setLineDash) {\n            context.lineDashOffset = /** @type {number} */ (instruction[7]);\n            context.setLineDash(/** @type {Array<number>} */ (instruction[6]));\n        }\n    };\n    /**\n     * @private\n     * @param {string} text The text to draw.\n     * @param {string} textKey The key of the text state.\n     * @param {string} strokeKey The key for the stroke state.\n     * @param {string} fillKey The key for the fill state.\n     * @return {{label: import(\"../canvas.js\").Label, anchorX: number, anchorY: number}} The text image and its anchor.\n     */\n    Executor.prototype.drawLabelWithPointPlacement_ = function (text, textKey, strokeKey, fillKey) {\n        var textState = this.textStates[textKey];\n        var label = this.createLabel(text, textKey, fillKey, strokeKey);\n        var strokeState = this.strokeStates[strokeKey];\n        var pixelRatio = this.pixelRatio;\n        var align = horizontalTextAlign(text, textState.textAlign || defaultTextAlign);\n        var baseline = TEXT_ALIGN[textState.textBaseline || defaultTextBaseline];\n        var strokeWidth = strokeState && strokeState.lineWidth ? strokeState.lineWidth : 0;\n        // Remove the 2 pixels we added in createLabel() for the anchor\n        var width = label.width / pixelRatio - 2 * textState.scale[0];\n        var anchorX = align * width + 2 * (0.5 - align) * strokeWidth;\n        var anchorY = (baseline * label.height) / pixelRatio +\n            2 * (0.5 - baseline) * strokeWidth;\n        return {\n            label: label,\n            anchorX: anchorX,\n            anchorY: anchorY,\n        };\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {Array<*>} instructions Instructions array.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     * @param {FeatureCallback<T>} [opt_featureCallback] Feature callback.\n     * @param {import(\"../../extent.js\").Extent} [opt_hitExtent] Only check\n     *     features that intersect this extent.\n     * @param {import(\"rbush\").default} [opt_declutterTree] Declutter tree.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    Executor.prototype.execute_ = function (context, contextScale, transform, instructions, snapToPixel, opt_featureCallback, opt_hitExtent, opt_declutterTree) {\n        /** @type {Array<number>} */\n        var pixelCoordinates;\n        if (this.pixelCoordinates_ && equals(transform, this.renderedTransform_)) {\n            pixelCoordinates = this.pixelCoordinates_;\n        }\n        else {\n            if (!this.pixelCoordinates_) {\n                this.pixelCoordinates_ = [];\n            }\n            pixelCoordinates = transform2D(this.coordinates, 0, this.coordinates.length, 2, transform, this.pixelCoordinates_);\n            transformSetFromArray(this.renderedTransform_, transform);\n        }\n        var i = 0; // instruction index\n        var ii = instructions.length; // end of instructions\n        var d = 0; // data index\n        var dd; // end of per-instruction data\n        var anchorX, anchorY, prevX, prevY, roundX, roundY, image, text, textKey, strokeKey, fillKey;\n        var pendingFill = 0;\n        var pendingStroke = 0;\n        var lastFillInstruction = null;\n        var lastStrokeInstruction = null;\n        var coordinateCache = this.coordinateCache_;\n        var viewRotation = this.viewRotation_;\n        var viewRotationFromTransform = Math.round(Math.atan2(-transform[1], transform[0]) * 1e12) / 1e12;\n        var state = /** @type {import(\"../../render.js\").State} */ ({\n            context: context,\n            pixelRatio: this.pixelRatio,\n            resolution: this.resolution,\n            rotation: viewRotation,\n        });\n        // When the batch size gets too big, performance decreases. 200 is a good\n        // balance between batch size and number of fill/stroke instructions.\n        var batchSize = this.instructions != instructions || this.overlaps ? 0 : 200;\n        var /** @type {import(\"../../Feature.js\").FeatureLike} */ feature;\n        var x, y, currentGeometry;\n        while (i < ii) {\n            var instruction = instructions[i];\n            var type = /** @type {import(\"./Instruction.js\").default} */ (instruction[0]);\n            switch (type) {\n                case CanvasInstruction.BEGIN_GEOMETRY:\n                    feature = /** @type {import(\"../../Feature.js\").FeatureLike} */ (instruction[1]);\n                    currentGeometry = instruction[3];\n                    if (!feature.getGeometry()) {\n                        i = /** @type {number} */ (instruction[2]);\n                    }\n                    else if (opt_hitExtent !== undefined &&\n                        !intersects(opt_hitExtent, currentGeometry.getExtent())) {\n                        i = /** @type {number} */ (instruction[2]) + 1;\n                    }\n                    else {\n                        ++i;\n                    }\n                    break;\n                case CanvasInstruction.BEGIN_PATH:\n                    if (pendingFill > batchSize) {\n                        this.fill_(context);\n                        pendingFill = 0;\n                    }\n                    if (pendingStroke > batchSize) {\n                        context.stroke();\n                        pendingStroke = 0;\n                    }\n                    if (!pendingFill && !pendingStroke) {\n                        context.beginPath();\n                        prevX = NaN;\n                        prevY = NaN;\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.CIRCLE:\n                    d = /** @type {number} */ (instruction[1]);\n                    var x1 = pixelCoordinates[d];\n                    var y1 = pixelCoordinates[d + 1];\n                    var x2 = pixelCoordinates[d + 2];\n                    var y2 = pixelCoordinates[d + 3];\n                    var dx = x2 - x1;\n                    var dy = y2 - y1;\n                    var r = Math.sqrt(dx * dx + dy * dy);\n                    context.moveTo(x1 + r, y1);\n                    context.arc(x1, y1, r, 0, 2 * Math.PI, true);\n                    ++i;\n                    break;\n                case CanvasInstruction.CLOSE_PATH:\n                    context.closePath();\n                    ++i;\n                    break;\n                case CanvasInstruction.CUSTOM:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = instruction[2];\n                    var geometry = \n                    /** @type {import(\"../../geom/SimpleGeometry.js\").default} */ (instruction[3]);\n                    var renderer = instruction[4];\n                    var fn = instruction.length == 6 ? instruction[5] : undefined;\n                    state.geometry = geometry;\n                    state.feature = feature;\n                    if (!(i in coordinateCache)) {\n                        coordinateCache[i] = [];\n                    }\n                    var coords = coordinateCache[i];\n                    if (fn) {\n                        fn(pixelCoordinates, d, dd, 2, coords);\n                    }\n                    else {\n                        coords[0] = pixelCoordinates[d];\n                        coords[1] = pixelCoordinates[d + 1];\n                        coords.length = 2;\n                    }\n                    renderer(coords, state);\n                    ++i;\n                    break;\n                case CanvasInstruction.DRAW_IMAGE:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = /** @type {number} */ (instruction[2]);\n                    image =\n                        /** @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} */ (instruction[3]);\n                    // Remaining arguments in DRAW_IMAGE are in alphabetical order\n                    anchorX = /** @type {number} */ (instruction[4]);\n                    anchorY = /** @type {number} */ (instruction[5]);\n                    var height = /** @type {number} */ (instruction[6]);\n                    var opacity = /** @type {number} */ (instruction[7]);\n                    var originX = /** @type {number} */ (instruction[8]);\n                    var originY = /** @type {number} */ (instruction[9]);\n                    var rotateWithView = /** @type {boolean} */ (instruction[10]);\n                    var rotation = /** @type {number} */ (instruction[11]);\n                    var scale = /** @type {import(\"../../size.js\").Size} */ (instruction[12]);\n                    var width = /** @type {number} */ (instruction[13]);\n                    var declutterImageWithText = \n                    /** @type {import(\"../canvas.js\").DeclutterImageWithText} */ (instruction[14]);\n                    if (!image && instruction.length >= 19) {\n                        // create label images\n                        text = /** @type {string} */ (instruction[18]);\n                        textKey = /** @type {string} */ (instruction[19]);\n                        strokeKey = /** @type {string} */ (instruction[20]);\n                        fillKey = /** @type {string} */ (instruction[21]);\n                        var labelWithAnchor = this.drawLabelWithPointPlacement_(text, textKey, strokeKey, fillKey);\n                        image = labelWithAnchor.label;\n                        instruction[3] = image;\n                        var textOffsetX = /** @type {number} */ (instruction[22]);\n                        anchorX = (labelWithAnchor.anchorX - textOffsetX) * this.pixelRatio;\n                        instruction[4] = anchorX;\n                        var textOffsetY = /** @type {number} */ (instruction[23]);\n                        anchorY = (labelWithAnchor.anchorY - textOffsetY) * this.pixelRatio;\n                        instruction[5] = anchorY;\n                        height = image.height;\n                        instruction[6] = height;\n                        width = image.width;\n                        instruction[13] = width;\n                    }\n                    var geometryWidths = void 0;\n                    if (instruction.length > 24) {\n                        geometryWidths = /** @type {number} */ (instruction[24]);\n                    }\n                    var padding = void 0, backgroundFill = void 0, backgroundStroke = void 0;\n                    if (instruction.length > 16) {\n                        padding = /** @type {Array<number>} */ (instruction[15]);\n                        backgroundFill = /** @type {boolean} */ (instruction[16]);\n                        backgroundStroke = /** @type {boolean} */ (instruction[17]);\n                    }\n                    else {\n                        padding = defaultPadding;\n                        backgroundFill = false;\n                        backgroundStroke = false;\n                    }\n                    if (rotateWithView && viewRotationFromTransform) {\n                        // Canvas is expected to be rotated to reverse view rotation.\n                        rotation += viewRotation;\n                    }\n                    else if (!rotateWithView && !viewRotationFromTransform) {\n                        // Canvas is not rotated, images need to be rotated back to be north-up.\n                        rotation -= viewRotation;\n                    }\n                    var widthIndex = 0;\n                    for (; d < dd; d += 2) {\n                        if (geometryWidths &&\n                            geometryWidths[widthIndex++] < width / this.pixelRatio) {\n                            continue;\n                        }\n                        var dimensions = this.calculateImageOrLabelDimensions_(image.width, image.height, pixelCoordinates[d], pixelCoordinates[d + 1], width, height, anchorX, anchorY, originX, originY, rotation, scale, snapToPixel, padding, backgroundFill || backgroundStroke, feature);\n                        /** @type {ReplayImageOrLabelArgs} */\n                        var args = [\n                            context,\n                            contextScale,\n                            image,\n                            dimensions,\n                            opacity,\n                            backgroundFill\n                                ? /** @type {Array<*>} */ (lastFillInstruction)\n                                : null,\n                            backgroundStroke\n                                ? /** @type {Array<*>} */ (lastStrokeInstruction)\n                                : null,\n                        ];\n                        var imageArgs = void 0;\n                        var imageDeclutterBox = void 0;\n                        if (opt_declutterTree && declutterImageWithText) {\n                            var index = dd - d;\n                            if (!declutterImageWithText[index]) {\n                                // We now have the image for an image+text combination.\n                                declutterImageWithText[index] = args;\n                                // Don't render anything for now, wait for the text.\n                                continue;\n                            }\n                            imageArgs = declutterImageWithText[index];\n                            delete declutterImageWithText[index];\n                            imageDeclutterBox = getDeclutterBox(imageArgs);\n                            if (opt_declutterTree.collides(imageDeclutterBox)) {\n                                continue;\n                            }\n                        }\n                        if (opt_declutterTree &&\n                            opt_declutterTree.collides(dimensions.declutterBox)) {\n                            continue;\n                        }\n                        if (imageArgs) {\n                            // We now have image and text for an image+text combination.\n                            if (opt_declutterTree) {\n                                opt_declutterTree.insert(imageDeclutterBox);\n                            }\n                            // Render the image before we render the text.\n                            this.replayImageOrLabel_.apply(this, imageArgs);\n                        }\n                        if (opt_declutterTree) {\n                            opt_declutterTree.insert(dimensions.declutterBox);\n                        }\n                        this.replayImageOrLabel_.apply(this, args);\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.DRAW_CHARS:\n                    var begin = /** @type {number} */ (instruction[1]);\n                    var end = /** @type {number} */ (instruction[2]);\n                    var baseline = /** @type {number} */ (instruction[3]);\n                    var overflow = /** @type {number} */ (instruction[4]);\n                    fillKey = /** @type {string} */ (instruction[5]);\n                    var maxAngle = /** @type {number} */ (instruction[6]);\n                    var measurePixelRatio = /** @type {number} */ (instruction[7]);\n                    var offsetY = /** @type {number} */ (instruction[8]);\n                    strokeKey = /** @type {string} */ (instruction[9]);\n                    var strokeWidth = /** @type {number} */ (instruction[10]);\n                    text = /** @type {string} */ (instruction[11]);\n                    textKey = /** @type {string} */ (instruction[12]);\n                    var pixelRatioScale = [\n                        /** @type {number} */ (instruction[13]),\n                        /** @type {number} */ (instruction[13]),\n                    ];\n                    var textState = this.textStates[textKey];\n                    var font = textState.font;\n                    var textScale = [\n                        textState.scale[0] * measurePixelRatio,\n                        textState.scale[1] * measurePixelRatio,\n                    ];\n                    var cachedWidths = void 0;\n                    if (font in this.widths_) {\n                        cachedWidths = this.widths_[font];\n                    }\n                    else {\n                        cachedWidths = {};\n                        this.widths_[font] = cachedWidths;\n                    }\n                    var pathLength = lineStringLength(pixelCoordinates, begin, end, 2);\n                    var textLength = Math.abs(textScale[0]) *\n                        measureAndCacheTextWidth(font, text, cachedWidths);\n                    if (overflow || textLength <= pathLength) {\n                        var textAlign = this.textStates[textKey].textAlign;\n                        var startM = (pathLength - textLength) * TEXT_ALIGN[textAlign];\n                        var parts = drawTextOnPath(pixelCoordinates, begin, end, 2, text, startM, maxAngle, Math.abs(textScale[0]), measureAndCacheTextWidth, font, cachedWidths, viewRotationFromTransform ? 0 : this.viewRotation_);\n                        drawChars: if (parts) {\n                            /** @type {Array<ReplayImageOrLabelArgs>} */\n                            var replayImageOrLabelArgs = [];\n                            var c = void 0, cc = void 0, chars = void 0, label = void 0, part = void 0;\n                            if (strokeKey) {\n                                for (c = 0, cc = parts.length; c < cc; ++c) {\n                                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                                    chars = /** @type {string} */ (part[4]);\n                                    label = this.createLabel(chars, textKey, '', strokeKey);\n                                    anchorX =\n                                        /** @type {number} */ (part[2]) +\n                                            (textScale[0] < 0 ? -strokeWidth : strokeWidth);\n                                    anchorY =\n                                        baseline * label.height +\n                                            ((0.5 - baseline) * 2 * strokeWidth * textScale[1]) /\n                                                textScale[0] -\n                                            offsetY;\n                                    var dimensions = this.calculateImageOrLabelDimensions_(label.width, label.height, part[0], part[1], label.width, label.height, anchorX, anchorY, 0, 0, part[3], pixelRatioScale, false, defaultPadding, false, feature);\n                                    if (opt_declutterTree &&\n                                        opt_declutterTree.collides(dimensions.declutterBox)) {\n                                        break drawChars;\n                                    }\n                                    replayImageOrLabelArgs.push([\n                                        context,\n                                        contextScale,\n                                        label,\n                                        dimensions,\n                                        1,\n                                        null,\n                                        null,\n                                    ]);\n                                }\n                            }\n                            if (fillKey) {\n                                for (c = 0, cc = parts.length; c < cc; ++c) {\n                                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                                    chars = /** @type {string} */ (part[4]);\n                                    label = this.createLabel(chars, textKey, fillKey, '');\n                                    anchorX = /** @type {number} */ (part[2]);\n                                    anchorY = baseline * label.height - offsetY;\n                                    var dimensions = this.calculateImageOrLabelDimensions_(label.width, label.height, part[0], part[1], label.width, label.height, anchorX, anchorY, 0, 0, part[3], pixelRatioScale, false, defaultPadding, false, feature);\n                                    if (opt_declutterTree &&\n                                        opt_declutterTree.collides(dimensions.declutterBox)) {\n                                        break drawChars;\n                                    }\n                                    replayImageOrLabelArgs.push([\n                                        context,\n                                        contextScale,\n                                        label,\n                                        dimensions,\n                                        1,\n                                        null,\n                                        null,\n                                    ]);\n                                }\n                            }\n                            if (opt_declutterTree) {\n                                opt_declutterTree.load(replayImageOrLabelArgs.map(getDeclutterBox));\n                            }\n                            for (var i_1 = 0, ii_1 = replayImageOrLabelArgs.length; i_1 < ii_1; ++i_1) {\n                                this.replayImageOrLabel_.apply(this, replayImageOrLabelArgs[i_1]);\n                            }\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.END_GEOMETRY:\n                    if (opt_featureCallback !== undefined) {\n                        feature = /** @type {import(\"../../Feature.js\").FeatureLike} */ (instruction[1]);\n                        var result = opt_featureCallback(feature, currentGeometry);\n                        if (result) {\n                            return result;\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.FILL:\n                    if (batchSize) {\n                        pendingFill++;\n                    }\n                    else {\n                        this.fill_(context);\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.MOVE_TO_LINE_TO:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = /** @type {number} */ (instruction[2]);\n                    x = pixelCoordinates[d];\n                    y = pixelCoordinates[d + 1];\n                    roundX = (x + 0.5) | 0;\n                    roundY = (y + 0.5) | 0;\n                    if (roundX !== prevX || roundY !== prevY) {\n                        context.moveTo(x, y);\n                        prevX = roundX;\n                        prevY = roundY;\n                    }\n                    for (d += 2; d < dd; d += 2) {\n                        x = pixelCoordinates[d];\n                        y = pixelCoordinates[d + 1];\n                        roundX = (x + 0.5) | 0;\n                        roundY = (y + 0.5) | 0;\n                        if (d == dd - 2 || roundX !== prevX || roundY !== prevY) {\n                            context.lineTo(x, y);\n                            prevX = roundX;\n                            prevY = roundY;\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.SET_FILL_STYLE:\n                    lastFillInstruction = instruction;\n                    this.alignFill_ = instruction[2];\n                    if (pendingFill) {\n                        this.fill_(context);\n                        pendingFill = 0;\n                        if (pendingStroke) {\n                            context.stroke();\n                            pendingStroke = 0;\n                        }\n                    }\n                    context.fillStyle =\n                        /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n                    ++i;\n                    break;\n                case CanvasInstruction.SET_STROKE_STYLE:\n                    lastStrokeInstruction = instruction;\n                    if (pendingStroke) {\n                        context.stroke();\n                        pendingStroke = 0;\n                    }\n                    this.setStrokeStyle_(context, /** @type {Array<*>} */ (instruction));\n                    ++i;\n                    break;\n                case CanvasInstruction.STROKE:\n                    if (batchSize) {\n                        pendingStroke++;\n                    }\n                    else {\n                        context.stroke();\n                    }\n                    ++i;\n                    break;\n                default:\n                    ++i; // consume the instruction anyway, to avoid an infinite loop\n                    break;\n            }\n        }\n        if (pendingFill) {\n            this.fill_(context);\n        }\n        if (pendingStroke) {\n            context.stroke();\n        }\n        return undefined;\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     * @param {import(\"rbush\").default} [opt_declutterTree] Declutter tree.\n     */\n    Executor.prototype.execute = function (context, contextScale, transform, viewRotation, snapToPixel, opt_declutterTree) {\n        this.viewRotation_ = viewRotation;\n        this.execute_(context, contextScale, transform, this.instructions, snapToPixel, undefined, undefined, opt_declutterTree);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {FeatureCallback<T>} [opt_featureCallback] Feature callback.\n     * @param {import(\"../../extent.js\").Extent} [opt_hitExtent] Only check\n     *     features that intersect this extent.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    Executor.prototype.executeHitDetection = function (context, transform, viewRotation, opt_featureCallback, opt_hitExtent) {\n        this.viewRotation_ = viewRotation;\n        return this.execute_(context, 1, transform, this.hitDetectionInstructions, true, opt_featureCallback, opt_hitExtent);\n    };\n    return Executor;\n}());\nexport default Executor;\n//# sourceMappingURL=Executor.js.map","/**\n * @module ol/render/canvas/ExecutorGroup\n */\nimport BuilderType from './BuilderType.js';\nimport Executor from './Executor.js';\nimport { buffer, createEmpty, extendCoordinate } from '../../extent.js';\nimport { compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { createCanvasContext2D } from '../../dom.js';\nimport { isEmpty } from '../../obj.js';\nimport { numberSafeCompareFunction } from '../../array.js';\nimport { transform2D } from '../../geom/flat/transform.js';\n/**\n * @const\n * @type {Array<import(\"./BuilderType.js\").default>}\n */\nvar ORDER = [\n    BuilderType.POLYGON,\n    BuilderType.CIRCLE,\n    BuilderType.LINE_STRING,\n    BuilderType.IMAGE,\n    BuilderType.TEXT,\n    BuilderType.DEFAULT,\n];\nvar ExecutorGroup = /** @class */ (function () {\n    /**\n     * @param {import(\"../../extent.js\").Extent} maxExtent Max extent for clipping. When a\n     * `maxExtent` was set on the Builder for this executor group, the same `maxExtent`\n     * should be set here, unless the target context does not exceed that extent (which\n     * can be the case when rendering to tiles).\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {boolean} overlaps The executor group can have overlapping geometries.\n     * @param {!Object<string, !Object<import(\"./BuilderType.js\").default, import(\"../canvas.js\").SerializableInstructions>>} allInstructions\n     * The serializable instructions.\n     * @param {number} [opt_renderBuffer] Optional rendering buffer.\n     */\n    function ExecutorGroup(maxExtent, resolution, pixelRatio, overlaps, allInstructions, opt_renderBuffer) {\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        this.maxExtent_ = maxExtent;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.overlaps_ = overlaps;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.resolution_ = resolution;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.renderBuffer_ = opt_renderBuffer;\n        /**\n         * @private\n         * @type {!Object<string, !Object<import(\"./BuilderType.js\").default, import(\"./Executor\").default>>}\n         */\n        this.executorsByZIndex_ = {};\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        this.hitDetectionContext_ = null;\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        this.hitDetectionTransform_ = createTransform();\n        this.createExecutors_(allInstructions);\n    }\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n    ExecutorGroup.prototype.clip = function (context, transform) {\n        var flatClipCoords = this.getClipCoords(transform);\n        context.beginPath();\n        context.moveTo(flatClipCoords[0], flatClipCoords[1]);\n        context.lineTo(flatClipCoords[2], flatClipCoords[3]);\n        context.lineTo(flatClipCoords[4], flatClipCoords[5]);\n        context.lineTo(flatClipCoords[6], flatClipCoords[7]);\n        context.clip();\n    };\n    /**\n     * Create executors and populate them using the provided instructions.\n     * @private\n     * @param {!Object<string, !Object<import(\"./BuilderType.js\").default, import(\"../canvas.js\").SerializableInstructions>>} allInstructions The serializable instructions\n     */\n    ExecutorGroup.prototype.createExecutors_ = function (allInstructions) {\n        for (var zIndex in allInstructions) {\n            var executors = this.executorsByZIndex_[zIndex];\n            if (executors === undefined) {\n                executors = {};\n                this.executorsByZIndex_[zIndex] = executors;\n            }\n            var instructionByZindex = allInstructions[zIndex];\n            for (var builderType in instructionByZindex) {\n                var instructions = instructionByZindex[builderType];\n                executors[builderType] = new Executor(this.resolution_, this.pixelRatio_, this.overlaps_, instructions);\n            }\n        }\n    };\n    /**\n     * @param {Array<import(\"./BuilderType.js\").default>} executors Executors.\n     * @return {boolean} Has executors of the provided types.\n     */\n    ExecutorGroup.prototype.hasExecutors = function (executors) {\n        for (var zIndex in this.executorsByZIndex_) {\n            var candidates = this.executorsByZIndex_[zIndex];\n            for (var i = 0, ii = executors.length; i < ii; ++i) {\n                if (executors[i] in candidates) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../../Feature.js\").FeatureLike, import(\"../../geom/SimpleGeometry.js\").default, number): T} callback Feature callback.\n     * @param {Array<import(\"../../Feature.js\").FeatureLike>} declutteredFeatures Decluttered features.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    ExecutorGroup.prototype.forEachFeatureAtCoordinate = function (coordinate, resolution, rotation, hitTolerance, callback, declutteredFeatures) {\n        hitTolerance = Math.round(hitTolerance);\n        var contextSize = hitTolerance * 2 + 1;\n        var transform = composeTransform(this.hitDetectionTransform_, hitTolerance + 0.5, hitTolerance + 0.5, 1 / resolution, -1 / resolution, -rotation, -coordinate[0], -coordinate[1]);\n        var newContext = !this.hitDetectionContext_;\n        if (newContext) {\n            this.hitDetectionContext_ = createCanvasContext2D(contextSize, contextSize);\n        }\n        var context = this.hitDetectionContext_;\n        if (context.canvas.width !== contextSize ||\n            context.canvas.height !== contextSize) {\n            context.canvas.width = contextSize;\n            context.canvas.height = contextSize;\n        }\n        else if (!newContext) {\n            context.clearRect(0, 0, contextSize, contextSize);\n        }\n        /**\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        var hitExtent;\n        if (this.renderBuffer_ !== undefined) {\n            hitExtent = createEmpty();\n            extendCoordinate(hitExtent, coordinate);\n            buffer(hitExtent, resolution * (this.renderBuffer_ + hitTolerance), hitExtent);\n        }\n        var indexes = getPixelIndexArray(hitTolerance);\n        var builderType;\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n         * @return {T|undefined} Callback result.\n         */\n        function featureCallback(feature, geometry) {\n            var imageData = context.getImageData(0, 0, contextSize, contextSize).data;\n            for (var i_1 = 0, ii = indexes.length; i_1 < ii; i_1++) {\n                if (imageData[indexes[i_1]] > 0) {\n                    if (!declutteredFeatures ||\n                        (builderType !== BuilderType.IMAGE &&\n                            builderType !== BuilderType.TEXT) ||\n                        declutteredFeatures.indexOf(feature) !== -1) {\n                        var idx = (indexes[i_1] - 3) / 4;\n                        var x = hitTolerance - (idx % contextSize);\n                        var y = hitTolerance - ((idx / contextSize) | 0);\n                        var result_1 = callback(feature, geometry, x * x + y * y);\n                        if (result_1) {\n                            return result_1;\n                        }\n                    }\n                    context.clearRect(0, 0, contextSize, contextSize);\n                    break;\n                }\n            }\n            return undefined;\n        }\n        /** @type {Array<number>} */\n        var zs = Object.keys(this.executorsByZIndex_).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        var i, j, executors, executor, result;\n        for (i = zs.length - 1; i >= 0; --i) {\n            var zIndexKey = zs[i].toString();\n            executors = this.executorsByZIndex_[zIndexKey];\n            for (j = ORDER.length - 1; j >= 0; --j) {\n                builderType = ORDER[j];\n                executor = executors[builderType];\n                if (executor !== undefined) {\n                    result = executor.executeHitDetection(context, transform, rotation, featureCallback, hitExtent);\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n        }\n        return undefined;\n    };\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @return {Array<number>} Clip coordinates.\n     */\n    ExecutorGroup.prototype.getClipCoords = function (transform) {\n        var maxExtent = this.maxExtent_;\n        if (!maxExtent) {\n            return null;\n        }\n        var minX = maxExtent[0];\n        var minY = maxExtent[1];\n        var maxX = maxExtent[2];\n        var maxY = maxExtent[3];\n        var flatClipCoords = [minX, minY, minX, maxY, maxX, maxY, maxX, minY];\n        transform2D(flatClipCoords, 0, 8, 2, transform, flatClipCoords);\n        return flatClipCoords;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    ExecutorGroup.prototype.isEmpty = function () {\n        return isEmpty(this.executorsByZIndex_);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {boolean} snapToPixel Snap point symbols and test to integer pixel.\n     * @param {Array<import(\"./BuilderType.js\").default>} [opt_builderTypes] Ordered replay types to replay.\n     *     Default is {@link module:ol/render/replay~ORDER}\n     * @param {import(\"rbush\").default} [opt_declutterTree] Declutter tree.\n     */\n    ExecutorGroup.prototype.execute = function (context, contextScale, transform, viewRotation, snapToPixel, opt_builderTypes, opt_declutterTree) {\n        /** @type {Array<number>} */\n        var zs = Object.keys(this.executorsByZIndex_).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        // setup clipping so that the parts of over-simplified geometries are not\n        // visible outside the current extent when panning\n        if (this.maxExtent_) {\n            context.save();\n            this.clip(context, transform);\n        }\n        var builderTypes = opt_builderTypes ? opt_builderTypes : ORDER;\n        var i, ii, j, jj, replays, replay;\n        if (opt_declutterTree) {\n            zs.reverse();\n        }\n        for (i = 0, ii = zs.length; i < ii; ++i) {\n            var zIndexKey = zs[i].toString();\n            replays = this.executorsByZIndex_[zIndexKey];\n            for (j = 0, jj = builderTypes.length; j < jj; ++j) {\n                var builderType = builderTypes[j];\n                replay = replays[builderType];\n                if (replay !== undefined) {\n                    replay.execute(context, contextScale, transform, viewRotation, snapToPixel, opt_declutterTree);\n                }\n            }\n        }\n        if (this.maxExtent_) {\n            context.restore();\n        }\n    };\n    return ExecutorGroup;\n}());\n/**\n * This cache is used to store arrays of indexes for calculated pixel circles\n * to increase performance.\n * It is a static property to allow each Replaygroup to access it.\n * @type {Object<number, Array<number>>}\n */\nvar circlePixelIndexArrayCache = {};\n/**\n * This methods creates an array with indexes of all pixels within a circle,\n * ordered by how close they are to the center.\n * A cache is used to increase performance.\n * @param {number} radius Radius.\n * @return {Array<number>} An array with indexes within a circle.\n */\nexport function getPixelIndexArray(radius) {\n    if (circlePixelIndexArrayCache[radius] !== undefined) {\n        return circlePixelIndexArrayCache[radius];\n    }\n    var size = radius * 2 + 1;\n    var maxDistanceSq = radius * radius;\n    var distances = new Array(maxDistanceSq + 1);\n    for (var i = 0; i <= radius; ++i) {\n        for (var j = 0; j <= radius; ++j) {\n            var distanceSq = i * i + j * j;\n            if (distanceSq > maxDistanceSq) {\n                break;\n            }\n            var distance = distances[distanceSq];\n            if (!distance) {\n                distance = [];\n                distances[distanceSq] = distance;\n            }\n            distance.push(((radius + i) * size + (radius + j)) * 4 + 3);\n            if (i > 0) {\n                distance.push(((radius - i) * size + (radius + j)) * 4 + 3);\n            }\n            if (j > 0) {\n                distance.push(((radius + i) * size + (radius - j)) * 4 + 3);\n                if (i > 0) {\n                    distance.push(((radius - i) * size + (radius - j)) * 4 + 3);\n                }\n            }\n        }\n    }\n    var pixelIndex = [];\n    for (var i = 0, ii = distances.length; i < ii; ++i) {\n        if (distances[i]) {\n            pixelIndex.push.apply(pixelIndex, distances[i]);\n        }\n    }\n    circlePixelIndexArrayCache[radius] = pixelIndex;\n    return pixelIndex;\n}\nexport default ExecutorGroup;\n//# sourceMappingURL=ExecutorGroup.js.map","/**\n * @module ol/render/canvas/Immediate\n */\n// FIXME test, especially polygons with holes and multipolygons\n// FIXME need to handle large thick features (where pixel size matters)\n// FIXME add offset and end to ol/geom/flat/transform~transform2D?\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport GeometryType from '../../geom/GeometryType.js';\nimport VectorContext from '../VectorContext.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { defaultFillStyle, defaultFont, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, defaultTextAlign, defaultTextBaseline, } from '../canvas.js';\nimport { equals } from '../../array.js';\nimport { intersects } from '../../extent.js';\nimport { transform2D } from '../../geom/flat/transform.js';\nimport { transformGeom2D } from '../../geom/SimpleGeometry.js';\n/**\n * @classdesc\n * A concrete subclass of {@link module:ol/render/VectorContext VectorContext} that implements\n * direct rendering of features and geometries to an HTML5 Canvas context.\n * Instances of this class are created internally by the library and\n * provided to application code as vectorContext member of the\n * {@link module:ol/render/Event~RenderEvent RenderEvent} object associated with postcompose, precompose and\n * render events emitted by layers and maps.\n */\nvar CanvasImmediateRenderer = /** @class */ (function (_super) {\n    __extends(CanvasImmediateRenderer, _super);\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../extent.js\").Extent} extent Extent.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {number} [opt_squaredTolerance] Optional squared tolerance for simplification.\n     * @param {import(\"../../proj.js\").TransformFunction} [opt_userTransform] Transform from user to view projection.\n     */\n    function CanvasImmediateRenderer(context, pixelRatio, extent, transform, viewRotation, opt_squaredTolerance, opt_userTransform) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        _this.context_ = context;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.extent_ = extent;\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.transform_ = transform;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.viewRotation_ = viewRotation;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.squaredTolerance_ = opt_squaredTolerance;\n        /**\n         * @private\n         * @type {import(\"../../proj.js\").TransformFunction}\n         */\n        _this.userTransform_ = opt_userTransform;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.contextFillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.contextStrokeState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").TextState}\n         */\n        _this.contextTextState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.fillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.strokeState_ = null;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.image_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageAnchorX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageAnchorY_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageHeight_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOpacity_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOriginX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOriginY_ = 0;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.imageRotateWithView_ = false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageRotation_ = 0;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size}\n         */\n        _this.imageScale_ = [0, 0];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageWidth_ = 0;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.text_ = '';\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetY_ = 0;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.textRotateWithView_ = false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textRotation_ = 0;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size}\n         */\n        _this.textScale_ = [0, 0];\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.textFillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.textStrokeState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").TextState}\n         */\n        _this.textState_ = null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.pixelCoordinates_ = [];\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.tmpLocalTransform_ = createTransform();\n        return _this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawImages_ = function (flatCoordinates, offset, end, stride) {\n        if (!this.image_) {\n            return;\n        }\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n        var context = this.context_;\n        var localTransform = this.tmpLocalTransform_;\n        var alpha = context.globalAlpha;\n        if (this.imageOpacity_ != 1) {\n            context.globalAlpha = alpha * this.imageOpacity_;\n        }\n        var rotation = this.imageRotation_;\n        if (this.imageRotateWithView_) {\n            rotation += this.viewRotation_;\n        }\n        for (var i = 0, ii = pixelCoordinates.length; i < ii; i += 2) {\n            var x = pixelCoordinates[i] - this.imageAnchorX_;\n            var y = pixelCoordinates[i + 1] - this.imageAnchorY_;\n            if (rotation !== 0 ||\n                this.imageScale_[0] != 1 ||\n                this.imageScale_[1] != 1) {\n                var centerX = x + this.imageAnchorX_;\n                var centerY = y + this.imageAnchorY_;\n                composeTransform(localTransform, centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n                context.setTransform.apply(context, localTransform);\n                context.translate(centerX, centerY);\n                context.scale(this.imageScale_[0], this.imageScale_[1]);\n                context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, -this.imageAnchorX_, -this.imageAnchorY_, this.imageWidth_, this.imageHeight_);\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n            else {\n                context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, x, y, this.imageWidth_, this.imageHeight_);\n            }\n        }\n        if (this.imageOpacity_ != 1) {\n            context.globalAlpha = alpha;\n        }\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawText_ = function (flatCoordinates, offset, end, stride) {\n        if (!this.textState_ || this.text_ === '') {\n            return;\n        }\n        if (this.textFillState_) {\n            this.setContextFillState_(this.textFillState_);\n        }\n        if (this.textStrokeState_) {\n            this.setContextStrokeState_(this.textStrokeState_);\n        }\n        this.setContextTextState_(this.textState_);\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n        var context = this.context_;\n        var rotation = this.textRotation_;\n        if (this.textRotateWithView_) {\n            rotation += this.viewRotation_;\n        }\n        for (; offset < end; offset += stride) {\n            var x = pixelCoordinates[offset] + this.textOffsetX_;\n            var y = pixelCoordinates[offset + 1] + this.textOffsetY_;\n            if (rotation !== 0 ||\n                this.textScale_[0] != 1 ||\n                this.textScale_[1] != 1) {\n                var localTransform = composeTransform(this.tmpLocalTransform_, x, y, 1, 1, rotation, -x, -y);\n                context.setTransform.apply(context, localTransform);\n                context.translate(x, y);\n                context.scale(this.textScale_[0], this.textScale_[1]);\n                if (this.textStrokeState_) {\n                    context.strokeText(this.text_, 0, 0);\n                }\n                if (this.textFillState_) {\n                    context.fillText(this.text_, 0, 0);\n                }\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n            else {\n                if (this.textStrokeState_) {\n                    context.strokeText(this.text_, x, y);\n                }\n                if (this.textFillState_) {\n                    context.fillText(this.text_, x, y);\n                }\n            }\n        }\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} close Close.\n     * @private\n     * @return {number} end End.\n     */\n    CanvasImmediateRenderer.prototype.moveToLineTo_ = function (flatCoordinates, offset, end, stride, close) {\n        var context = this.context_;\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n        context.moveTo(pixelCoordinates[0], pixelCoordinates[1]);\n        var length = pixelCoordinates.length;\n        if (close) {\n            length -= 2;\n        }\n        for (var i = 2; i < length; i += 2) {\n            context.lineTo(pixelCoordinates[i], pixelCoordinates[i + 1]);\n        }\n        if (close) {\n            context.closePath();\n        }\n        return end;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasImmediateRenderer.prototype.drawRings_ = function (flatCoordinates, offset, ends, stride) {\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, true);\n        }\n        return offset;\n    };\n    /**\n     * Render a circle geometry into the canvas.  Rendering is immediate and uses\n     * the current fill and stroke styles.\n     *\n     * @param {import(\"../../geom/Circle.js\").default} geometry Circle geometry.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawCircle = function (geometry) {\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.fillState_ || this.strokeState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var pixelCoordinates = transformGeom2D(geometry, this.transform_, this.pixelCoordinates_);\n            var dx = pixelCoordinates[2] - pixelCoordinates[0];\n            var dy = pixelCoordinates[3] - pixelCoordinates[1];\n            var radius = Math.sqrt(dx * dx + dy * dy);\n            var context = this.context_;\n            context.beginPath();\n            context.arc(pixelCoordinates[0], pixelCoordinates[1], radius, 0, 2 * Math.PI);\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            this.drawText_(geometry.getCenter(), 0, 2, 2);\n        }\n    };\n    /**\n     * Set the rendering style.  Note that since this is an immediate rendering API,\n     * any `zIndex` on the provided style will be ignored.\n     *\n     * @param {import(\"../../style/Style.js\").default} style The rendering style.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.setStyle = function (style) {\n        this.setFillStrokeStyle(style.getFill(), style.getStroke());\n        this.setImageStyle(style.getImage());\n        this.setTextStyle(style.getText());\n    };\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n    CanvasImmediateRenderer.prototype.setTransform = function (transform) {\n        this.transform_ = transform;\n    };\n    /**\n     * Render a geometry into the canvas.  Call\n     * {@link module:ol/render/canvas/Immediate~CanvasImmediateRenderer#setStyle renderer.setStyle()} first to set the rendering style.\n     *\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawGeometry = function (geometry) {\n        var type = geometry.getType();\n        switch (type) {\n            case GeometryType.POINT:\n                this.drawPoint(\n                /** @type {import(\"../../geom/Point.js\").default} */ (geometry));\n                break;\n            case GeometryType.LINE_STRING:\n                this.drawLineString(\n                /** @type {import(\"../../geom/LineString.js\").default} */ (geometry));\n                break;\n            case GeometryType.POLYGON:\n                this.drawPolygon(\n                /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry));\n                break;\n            case GeometryType.MULTI_POINT:\n                this.drawMultiPoint(\n                /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry));\n                break;\n            case GeometryType.MULTI_LINE_STRING:\n                this.drawMultiLineString(\n                /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry));\n                break;\n            case GeometryType.MULTI_POLYGON:\n                this.drawMultiPolygon(\n                /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry));\n                break;\n            case GeometryType.GEOMETRY_COLLECTION:\n                this.drawGeometryCollection(\n                /** @type {import(\"../../geom/GeometryCollection.js\").default} */ (geometry));\n                break;\n            case GeometryType.CIRCLE:\n                this.drawCircle(\n                /** @type {import(\"../../geom/Circle.js\").default} */ (geometry));\n                break;\n            default:\n        }\n    };\n    /**\n     * Render a feature into the canvas.  Note that any `zIndex` on the provided\n     * style will be ignored - features are rendered immediately in the order that\n     * this method is called.  If you need `zIndex` support, you should be using an\n     * {@link module:ol/layer/Vector~VectorLayer VectorLayer} instead.\n     *\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {import(\"../../style/Style.js\").default} style Style.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawFeature = function (feature, style) {\n        var geometry = style.getGeometryFunction()(feature);\n        if (!geometry || !intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        this.setStyle(style);\n        this.drawGeometry(geometry);\n    };\n    /**\n     * Render a GeometryCollection to the canvas.  Rendering is immediate and\n     * uses the current styles appropriate for each geometry in the collection.\n     *\n     * @param {import(\"../../geom/GeometryCollection.js\").default} geometry Geometry collection.\n     */\n    CanvasImmediateRenderer.prototype.drawGeometryCollection = function (geometry) {\n        var geometries = geometry.getGeometriesArray();\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            this.drawGeometry(geometries[i]);\n        }\n    };\n    /**\n     * Render a Point geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} geometry Point geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawPoint = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/Point.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var stride = geometry.getStride();\n        if (this.image_) {\n            this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n        if (this.text_ !== '') {\n            this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n    };\n    /**\n     * Render a MultiPoint geometry  into the canvas.  Rendering is immediate and\n     * uses the current style.\n     *\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} geometry MultiPoint geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPoint = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var stride = geometry.getStride();\n        if (this.image_) {\n            this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n        if (this.text_ !== '') {\n            this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n    };\n    /**\n     * Render a LineString into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} geometry LineString geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawLineString = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/LineString.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_) {\n            this.setContextStrokeState_(this.strokeState_);\n            var context = this.context_;\n            var flatCoordinates = geometry.getFlatCoordinates();\n            context.beginPath();\n            this.moveToLineTo_(flatCoordinates, 0, flatCoordinates.length, geometry.getStride(), false);\n            context.stroke();\n        }\n        if (this.text_ !== '') {\n            var flatMidpoint = geometry.getFlatMidpoint();\n            this.drawText_(flatMidpoint, 0, 2, 2);\n        }\n    };\n    /**\n     * Render a MultiLineString geometry into the canvas.  Rendering is immediate\n     * and uses the current style.\n     *\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} geometry MultiLineString geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiLineString = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry =\n                /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var geometryExtent = geometry.getExtent();\n        if (!intersects(this.extent_, geometryExtent)) {\n            return;\n        }\n        if (this.strokeState_) {\n            this.setContextStrokeState_(this.strokeState_);\n            var context = this.context_;\n            var flatCoordinates = geometry.getFlatCoordinates();\n            var offset = 0;\n            var ends = /** @type {Array<number>} */ (geometry.getEnds());\n            var stride = geometry.getStride();\n            context.beginPath();\n            for (var i = 0, ii = ends.length; i < ii; ++i) {\n                offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, false);\n            }\n            context.stroke();\n        }\n        if (this.text_ !== '') {\n            var flatMidpoints = geometry.getFlatMidpoints();\n            this.drawText_(flatMidpoints, 0, flatMidpoints.length, 2);\n        }\n    };\n    /**\n     * Render a Polygon geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} geometry Polygon geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawPolygon = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_ || this.fillState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var context = this.context_;\n            context.beginPath();\n            this.drawRings_(geometry.getOrientedFlatCoordinates(), 0, \n            /** @type {Array<number>} */ (geometry.getEnds()), geometry.getStride());\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            var flatInteriorPoint = geometry.getFlatInteriorPoint();\n            this.drawText_(flatInteriorPoint, 0, 2, 2);\n        }\n    };\n    /**\n     * Render MultiPolygon geometry into the canvas.  Rendering is immediate and\n     * uses the current style.\n     * @param {import(\"../../geom/MultiPolygon.js\").default} geometry MultiPolygon geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPolygon = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_ || this.fillState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var context = this.context_;\n            var flatCoordinates = geometry.getOrientedFlatCoordinates();\n            var offset = 0;\n            var endss = geometry.getEndss();\n            var stride = geometry.getStride();\n            context.beginPath();\n            for (var i = 0, ii = endss.length; i < ii; ++i) {\n                var ends = endss[i];\n                offset = this.drawRings_(flatCoordinates, offset, ends, stride);\n            }\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            var flatInteriorPoints = geometry.getFlatInteriorPoints();\n            this.drawText_(flatInteriorPoints, 0, flatInteriorPoints.length, 2);\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillState} fillState Fill state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextFillState_ = function (fillState) {\n        var context = this.context_;\n        var contextFillState = this.contextFillState_;\n        if (!contextFillState) {\n            context.fillStyle = fillState.fillStyle;\n            this.contextFillState_ = {\n                fillStyle: fillState.fillStyle,\n            };\n        }\n        else {\n            if (contextFillState.fillStyle != fillState.fillStyle) {\n                contextFillState.fillStyle = fillState.fillStyle;\n                context.fillStyle = fillState.fillStyle;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").StrokeState} strokeState Stroke state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextStrokeState_ = function (strokeState) {\n        var context = this.context_;\n        var contextStrokeState = this.contextStrokeState_;\n        if (!contextStrokeState) {\n            context.lineCap = strokeState.lineCap;\n            if (context.setLineDash) {\n                context.setLineDash(strokeState.lineDash);\n                context.lineDashOffset = strokeState.lineDashOffset;\n            }\n            context.lineJoin = strokeState.lineJoin;\n            context.lineWidth = strokeState.lineWidth;\n            context.miterLimit = strokeState.miterLimit;\n            context.strokeStyle = strokeState.strokeStyle;\n            this.contextStrokeState_ = {\n                lineCap: strokeState.lineCap,\n                lineDash: strokeState.lineDash,\n                lineDashOffset: strokeState.lineDashOffset,\n                lineJoin: strokeState.lineJoin,\n                lineWidth: strokeState.lineWidth,\n                miterLimit: strokeState.miterLimit,\n                strokeStyle: strokeState.strokeStyle,\n            };\n        }\n        else {\n            if (contextStrokeState.lineCap != strokeState.lineCap) {\n                contextStrokeState.lineCap = strokeState.lineCap;\n                context.lineCap = strokeState.lineCap;\n            }\n            if (context.setLineDash) {\n                if (!equals(contextStrokeState.lineDash, strokeState.lineDash)) {\n                    context.setLineDash((contextStrokeState.lineDash = strokeState.lineDash));\n                }\n                if (contextStrokeState.lineDashOffset != strokeState.lineDashOffset) {\n                    contextStrokeState.lineDashOffset = strokeState.lineDashOffset;\n                    context.lineDashOffset = strokeState.lineDashOffset;\n                }\n            }\n            if (contextStrokeState.lineJoin != strokeState.lineJoin) {\n                contextStrokeState.lineJoin = strokeState.lineJoin;\n                context.lineJoin = strokeState.lineJoin;\n            }\n            if (contextStrokeState.lineWidth != strokeState.lineWidth) {\n                contextStrokeState.lineWidth = strokeState.lineWidth;\n                context.lineWidth = strokeState.lineWidth;\n            }\n            if (contextStrokeState.miterLimit != strokeState.miterLimit) {\n                contextStrokeState.miterLimit = strokeState.miterLimit;\n                context.miterLimit = strokeState.miterLimit;\n            }\n            if (contextStrokeState.strokeStyle != strokeState.strokeStyle) {\n                contextStrokeState.strokeStyle = strokeState.strokeStyle;\n                context.strokeStyle = strokeState.strokeStyle;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").TextState} textState Text state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextTextState_ = function (textState) {\n        var context = this.context_;\n        var contextTextState = this.contextTextState_;\n        var textAlign = textState.textAlign\n            ? textState.textAlign\n            : defaultTextAlign;\n        if (!contextTextState) {\n            context.font = textState.font;\n            context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n            context.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n            this.contextTextState_ = {\n                font: textState.font,\n                textAlign: textAlign,\n                textBaseline: textState.textBaseline,\n            };\n        }\n        else {\n            if (contextTextState.font != textState.font) {\n                contextTextState.font = textState.font;\n                context.font = textState.font;\n            }\n            if (contextTextState.textAlign != textAlign) {\n                contextTextState.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n                context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n            }\n            if (contextTextState.textBaseline != textState.textBaseline) {\n                contextTextState.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n                context.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n            }\n        }\n    };\n    /**\n     * Set the fill and stroke style for subsequent draw operations.  To clear\n     * either fill or stroke styles, pass null for the appropriate parameter.\n     *\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    CanvasImmediateRenderer.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) {\n        var _this = this;\n        if (!fillStyle) {\n            this.fillState_ = null;\n        }\n        else {\n            var fillStyleColor = fillStyle.getColor();\n            this.fillState_ = {\n                fillStyle: asColorLike(fillStyleColor ? fillStyleColor : defaultFillStyle),\n            };\n        }\n        if (!strokeStyle) {\n            this.strokeState_ = null;\n        }\n        else {\n            var strokeStyleColor = strokeStyle.getColor();\n            var strokeStyleLineCap = strokeStyle.getLineCap();\n            var strokeStyleLineDash = strokeStyle.getLineDash();\n            var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n            var strokeStyleLineJoin = strokeStyle.getLineJoin();\n            var strokeStyleWidth = strokeStyle.getWidth();\n            var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n            var lineDash = strokeStyleLineDash\n                ? strokeStyleLineDash\n                : defaultLineDash;\n            this.strokeState_ = {\n                lineCap: strokeStyleLineCap !== undefined\n                    ? strokeStyleLineCap\n                    : defaultLineCap,\n                lineDash: this.pixelRatio_ === 1\n                    ? lineDash\n                    : lineDash.map(function (n) { return n * _this.pixelRatio_; }),\n                lineDashOffset: (strokeStyleLineDashOffset\n                    ? strokeStyleLineDashOffset\n                    : defaultLineDashOffset) * this.pixelRatio_,\n                lineJoin: strokeStyleLineJoin !== undefined\n                    ? strokeStyleLineJoin\n                    : defaultLineJoin,\n                lineWidth: (strokeStyleWidth !== undefined\n                    ? strokeStyleWidth\n                    : defaultLineWidth) * this.pixelRatio_,\n                miterLimit: strokeStyleMiterLimit !== undefined\n                    ? strokeStyleMiterLimit\n                    : defaultMiterLimit,\n                strokeStyle: asColorLike(strokeStyleColor ? strokeStyleColor : defaultStrokeStyle),\n            };\n        }\n    };\n    /**\n     * Set the image style for subsequent draw operations.  Pass null to remove\n     * the image style.\n     *\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     */\n    CanvasImmediateRenderer.prototype.setImageStyle = function (imageStyle) {\n        var imageSize;\n        if (!imageStyle || !(imageSize = imageStyle.getSize())) {\n            this.image_ = null;\n            return;\n        }\n        var imageAnchor = imageStyle.getAnchor();\n        var imageOrigin = imageStyle.getOrigin();\n        this.image_ = imageStyle.getImage(this.pixelRatio_);\n        this.imageAnchorX_ = imageAnchor[0] * this.pixelRatio_;\n        this.imageAnchorY_ = imageAnchor[1] * this.pixelRatio_;\n        this.imageHeight_ = imageSize[1] * this.pixelRatio_;\n        this.imageOpacity_ = imageStyle.getOpacity();\n        this.imageOriginX_ = imageOrigin[0];\n        this.imageOriginY_ = imageOrigin[1];\n        this.imageRotateWithView_ = imageStyle.getRotateWithView();\n        this.imageRotation_ = imageStyle.getRotation();\n        this.imageScale_ = imageStyle.getScaleArray();\n        this.imageWidth_ = imageSize[0] * this.pixelRatio_;\n    };\n    /**\n     * Set the text style for subsequent draw operations.  Pass null to\n     * remove the text style.\n     *\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     */\n    CanvasImmediateRenderer.prototype.setTextStyle = function (textStyle) {\n        if (!textStyle) {\n            this.text_ = '';\n        }\n        else {\n            var textFillStyle = textStyle.getFill();\n            if (!textFillStyle) {\n                this.textFillState_ = null;\n            }\n            else {\n                var textFillStyleColor = textFillStyle.getColor();\n                this.textFillState_ = {\n                    fillStyle: asColorLike(textFillStyleColor ? textFillStyleColor : defaultFillStyle),\n                };\n            }\n            var textStrokeStyle = textStyle.getStroke();\n            if (!textStrokeStyle) {\n                this.textStrokeState_ = null;\n            }\n            else {\n                var textStrokeStyleColor = textStrokeStyle.getColor();\n                var textStrokeStyleLineCap = textStrokeStyle.getLineCap();\n                var textStrokeStyleLineDash = textStrokeStyle.getLineDash();\n                var textStrokeStyleLineDashOffset = textStrokeStyle.getLineDashOffset();\n                var textStrokeStyleLineJoin = textStrokeStyle.getLineJoin();\n                var textStrokeStyleWidth = textStrokeStyle.getWidth();\n                var textStrokeStyleMiterLimit = textStrokeStyle.getMiterLimit();\n                this.textStrokeState_ = {\n                    lineCap: textStrokeStyleLineCap !== undefined\n                        ? textStrokeStyleLineCap\n                        : defaultLineCap,\n                    lineDash: textStrokeStyleLineDash\n                        ? textStrokeStyleLineDash\n                        : defaultLineDash,\n                    lineDashOffset: textStrokeStyleLineDashOffset\n                        ? textStrokeStyleLineDashOffset\n                        : defaultLineDashOffset,\n                    lineJoin: textStrokeStyleLineJoin !== undefined\n                        ? textStrokeStyleLineJoin\n                        : defaultLineJoin,\n                    lineWidth: textStrokeStyleWidth !== undefined\n                        ? textStrokeStyleWidth\n                        : defaultLineWidth,\n                    miterLimit: textStrokeStyleMiterLimit !== undefined\n                        ? textStrokeStyleMiterLimit\n                        : defaultMiterLimit,\n                    strokeStyle: asColorLike(textStrokeStyleColor ? textStrokeStyleColor : defaultStrokeStyle),\n                };\n            }\n            var textFont = textStyle.getFont();\n            var textOffsetX = textStyle.getOffsetX();\n            var textOffsetY = textStyle.getOffsetY();\n            var textRotateWithView = textStyle.getRotateWithView();\n            var textRotation = textStyle.getRotation();\n            var textScale = textStyle.getScaleArray();\n            var textText = textStyle.getText();\n            var textTextAlign = textStyle.getTextAlign();\n            var textTextBaseline = textStyle.getTextBaseline();\n            this.textState_ = {\n                font: textFont !== undefined ? textFont : defaultFont,\n                textAlign: textTextAlign !== undefined ? textTextAlign : defaultTextAlign,\n                textBaseline: textTextBaseline !== undefined\n                    ? textTextBaseline\n                    : defaultTextBaseline,\n            };\n            this.text_ = textText !== undefined ? textText : '';\n            this.textOffsetX_ =\n                textOffsetX !== undefined ? this.pixelRatio_ * textOffsetX : 0;\n            this.textOffsetY_ =\n                textOffsetY !== undefined ? this.pixelRatio_ * textOffsetY : 0;\n            this.textRotateWithView_ =\n                textRotateWithView !== undefined ? textRotateWithView : false;\n            this.textRotation_ = textRotation !== undefined ? textRotation : 0;\n            this.textScale_ = [\n                this.pixelRatio_ * textScale[0],\n                this.pixelRatio_ * textScale[1],\n            ];\n        }\n    };\n    return CanvasImmediateRenderer;\n}(VectorContext));\nexport default CanvasImmediateRenderer;\n//# sourceMappingURL=Immediate.js.map","/**\n * @module ol/style/IconAnchorUnits\n */\n/**\n * Icon anchor units. One of 'fraction', 'pixels'.\n * @enum {string}\n */\nexport default {\n    /**\n     * Anchor is a fraction\n     * @api\n     */\n    FRACTION: 'fraction',\n    /**\n     * Anchor is in pixels\n     * @api\n     */\n    PIXELS: 'pixels',\n};\n//# sourceMappingURL=IconAnchorUnits.js.map","/**\n * @module ol/style/IconOrigin\n */\n/**\n * Icon origin. One of 'bottom-left', 'bottom-right', 'top-left', 'top-right'.\n * @enum {string}\n */\nexport default {\n    /**\n     * Origin is at bottom left\n     * @api\n     */\n    BOTTOM_LEFT: 'bottom-left',\n    /**\n     * Origin is at bottom right\n     * @api\n     */\n    BOTTOM_RIGHT: 'bottom-right',\n    /**\n     * Origin is at top left\n     * @api\n     */\n    TOP_LEFT: 'top-left',\n    /**\n     * Origin is at top right\n     * @api\n     */\n    TOP_RIGHT: 'top-right',\n};\n//# sourceMappingURL=IconOrigin.js.map","/**\n * @module ol/style/IconImage\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventTarget from '../events/Target.js';\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport { asString } from '../color.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { shared as iconImageCache } from './IconImageCache.js';\nimport { listenImage } from '../Image.js';\n/**\n * @type {CanvasRenderingContext2D}\n */\nvar taintedTestContext = null;\nvar IconImage = /** @class */ (function (_super) {\n    __extends(IconImage, _super);\n    /**\n     * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n     * @param {string|undefined} src Src.\n     * @param {import(\"../size.js\").Size} size Size.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../ImageState.js\").default} imageState Image state.\n     * @param {import(\"../color.js\").Color} color Color.\n     */\n    function IconImage(image, src, size, crossOrigin, imageState, color) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.hitDetectionImage_ = null;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.image_ = !image ? new Image() : image;\n        if (crossOrigin !== null) {\n            /** @type {HTMLImageElement} */ (_this.image_).crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {Object<number, HTMLCanvasElement>}\n         */\n        _this.canvas_ = {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color}\n         */\n        _this.color_ = color;\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @private\n         * @type {import(\"../ImageState.js\").default}\n         */\n        _this.imageState_ = imageState;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = size;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        _this.src_ = src;\n        /**\n         * @private\n         */\n        _this.tainted_;\n        return _this;\n    }\n    /**\n     * @private\n     * @return {boolean} The image canvas is tainted.\n     */\n    IconImage.prototype.isTainted_ = function () {\n        if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n            if (!taintedTestContext) {\n                taintedTestContext = createCanvasContext2D(1, 1);\n            }\n            taintedTestContext.drawImage(this.image_, 0, 0);\n            try {\n                taintedTestContext.getImageData(0, 0, 1, 1);\n                this.tainted_ = false;\n            }\n            catch (e) {\n                taintedTestContext = null;\n                this.tainted_ = true;\n            }\n        }\n        return this.tainted_ === true;\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.dispatchChangeEvent_ = function () {\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.handleImageError_ = function () {\n        this.imageState_ = ImageState.ERROR;\n        this.unlistenImage_();\n        this.dispatchChangeEvent_();\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.handleImageLoad_ = function () {\n        this.imageState_ = ImageState.LOADED;\n        if (this.size_) {\n            this.image_.width = this.size_[0];\n            this.image_.height = this.size_[1];\n        }\n        else {\n            this.size_ = [this.image_.width, this.image_.height];\n        }\n        this.unlistenImage_();\n        this.dispatchChangeEvent_();\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n     */\n    IconImage.prototype.getImage = function (pixelRatio) {\n        this.replaceColor_(pixelRatio);\n        return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Image or Canvas element.\n     */\n    IconImage.prototype.getPixelRatio = function (pixelRatio) {\n        this.replaceColor_(pixelRatio);\n        return this.canvas_[pixelRatio] ? pixelRatio : 1;\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    IconImage.prototype.getImageState = function () {\n        return this.imageState_;\n    };\n    /**\n     * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n     */\n    IconImage.prototype.getHitDetectionImage = function () {\n        if (!this.hitDetectionImage_) {\n            if (this.isTainted_()) {\n                var width = this.size_[0];\n                var height = this.size_[1];\n                var context = createCanvasContext2D(width, height);\n                context.fillRect(0, 0, width, height);\n                this.hitDetectionImage_ = context.canvas;\n            }\n            else {\n                this.hitDetectionImage_ = this.image_;\n            }\n        }\n        return this.hitDetectionImage_;\n    };\n    /**\n     * Get the size of the icon (in pixels).\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    IconImage.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * @return {string|undefined} Image src.\n     */\n    IconImage.prototype.getSrc = function () {\n        return this.src_;\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    IconImage.prototype.load = function () {\n        if (this.imageState_ == ImageState.IDLE) {\n            this.imageState_ = ImageState.LOADING;\n            try {\n                /** @type {HTMLImageElement} */ (this.image_).src = this.src_;\n            }\n            catch (e) {\n                this.handleImageError_();\n            }\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @private\n     */\n    IconImage.prototype.replaceColor_ = function (pixelRatio) {\n        if (!this.color_ ||\n            this.canvas_[pixelRatio] ||\n            this.imageState_ !== ImageState.LOADED) {\n            return;\n        }\n        var canvas = document.createElement('canvas');\n        this.canvas_[pixelRatio] = canvas;\n        canvas.width = Math.ceil(this.image_.width * pixelRatio);\n        canvas.height = Math.ceil(this.image_.height * pixelRatio);\n        var ctx = canvas.getContext('2d');\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.drawImage(this.image_, 0, 0);\n        ctx.globalCompositeOperation = 'multiply';\n        // Internet Explorer 11 does not support the multiply operation.\n        // If the canvas is tainted in Internet Explorer this still produces\n        // a solid color image with the shape of the icon.\n        if (ctx.globalCompositeOperation === 'multiply' || this.isTainted_()) {\n            ctx.fillStyle = asString(this.color_);\n            ctx.fillRect(0, 0, canvas.width / pixelRatio, canvas.height / pixelRatio);\n            ctx.globalCompositeOperation = 'destination-in';\n            ctx.drawImage(this.image_, 0, 0);\n        }\n        else {\n            var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            var data = imgData.data;\n            var r = this.color_[0] / 255.0;\n            var g = this.color_[1] / 255.0;\n            var b = this.color_[2] / 255.0;\n            var a = this.color_[3];\n            for (var i = 0, ii = data.length; i < ii; i += 4) {\n                data[i] *= r;\n                data[i + 1] *= g;\n                data[i + 2] *= b;\n                data[i + 3] *= a;\n            }\n            ctx.putImageData(imgData, 0, 0);\n        }\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    IconImage.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return IconImage;\n}(EventTarget));\n/**\n * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n * @param {string} src Src.\n * @param {import(\"../size.js\").Size} size Size.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default} imageState Image state.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {IconImage} Icon image.\n */\nexport function get(image, src, size, crossOrigin, imageState, color) {\n    var iconImage = iconImageCache.get(src, crossOrigin, color);\n    if (!iconImage) {\n        iconImage = new IconImage(image, src, size, crossOrigin, imageState, color);\n        iconImageCache.set(src, crossOrigin, color, iconImage);\n    }\n    return iconImage;\n}\nexport default IconImage;\n//# sourceMappingURL=IconImage.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/style/Icon\n */\nimport EventType from '../events/EventType.js';\nimport IconAnchorUnits from './IconAnchorUnits.js';\nimport IconOrigin from './IconOrigin.js';\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport { asArray } from '../color.js';\nimport { assert } from '../asserts.js';\nimport { get as getIconImage } from './IconImage.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {Array<number>} [anchor=[0.5, 0.5]] Anchor. Default value is the icon center.\n * @property {import(\"./IconOrigin.js\").default} [anchorOrigin='top-left'] Origin of the anchor: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorXUnits='fraction'] Units in which the anchor x value is\n * specified. A value of `'fraction'` indicates the x value is a fraction of the icon. A value of `'pixels'` indicates\n * the x value in pixels.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorYUnits='fraction'] Units in which the anchor y value is\n * specified. A value of `'fraction'` indicates the y value is a fraction of the icon. A value of `'pixels'` indicates\n * the y value in pixels.\n * @property {import(\"../color.js\").Color|string} [color] Color to tint the icon. If not specified,\n * the icon will be left as is.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images. Note that you must provide a\n * `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {HTMLImageElement|HTMLCanvasElement} [img] Image object for the icon. If the `src` option is not provided then the\n * provided image must already be loaded. And in that case, it is required\n * to provide the size of the image, with the `imgSize` option.\n * @property {Array<number>} [offset=[0, 0]] Offset, which, together with the size and the offset origin, define the\n * sub-rectangle to use from the original icon image.\n * @property {Array<number>} [displacement=[0,0]] Displacement the icon\n * @property {import(\"./IconOrigin.js\").default} [offsetOrigin='top-left'] Origin of the offset: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {number} [opacity=1] Opacity of the icon.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the icon with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {import(\"../size.js\").Size} [size] Icon size in pixel. Can be used together with `offset` to define the\n * sub-rectangle to use from the origin (sprite) icon image.\n * @property {import(\"../size.js\").Size} [imgSize] Image size in pixels. Only required if `img` is set and `src` is not, and\n * for SVG images in Internet Explorer 11. The provided `imgSize` needs to match the actual size of the image.\n * @property {string} [src] Image source URI.\n */\n/**\n * @classdesc\n * Set icon style for vector features.\n * @api\n */\nvar Icon = /** @class */ (function (_super) {\n    __extends(Icon, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Icon(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        /**\n         * @type {number}\n         */\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        /**\n         * @type {number}\n         */\n        var rotation = options.rotation !== undefined ? options.rotation : 0;\n        /**\n         * @type {number|import(\"../size.js\").Size}\n         */\n        var scale = options.scale !== undefined ? options.scale : 1;\n        /**\n         * @type {boolean}\n         */\n        var rotateWithView = options.rotateWithView !== undefined ? options.rotateWithView : false;\n        _this = _super.call(this, {\n            opacity: opacity,\n            rotation: rotation,\n            scale: scale,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n            rotateWithView: rotateWithView,\n        }) || this;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.anchor_ = options.anchor !== undefined ? options.anchor : [0.5, 0.5];\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.normalizedAnchor_ = null;\n        /**\n         * @private\n         * @type {import(\"./IconOrigin.js\").default}\n         */\n        _this.anchorOrigin_ =\n            options.anchorOrigin !== undefined\n                ? options.anchorOrigin\n                : IconOrigin.TOP_LEFT;\n        /**\n         * @private\n         * @type {import(\"./IconAnchorUnits.js\").default}\n         */\n        _this.anchorXUnits_ =\n            options.anchorXUnits !== undefined\n                ? options.anchorXUnits\n                : IconAnchorUnits.FRACTION;\n        /**\n         * @private\n         * @type {import(\"./IconAnchorUnits.js\").default}\n         */\n        _this.anchorYUnits_ =\n            options.anchorYUnits !== undefined\n                ? options.anchorYUnits\n                : IconAnchorUnits.FRACTION;\n        /**\n         * @private\n         * @type {?string}\n         */\n        _this.crossOrigin_ =\n            options.crossOrigin !== undefined ? options.crossOrigin : null;\n        /**\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        var image = options.img !== undefined ? options.img : null;\n        /**\n         * @type {import(\"../size.js\").Size}\n         */\n        var imgSize = options.imgSize !== undefined ? options.imgSize : null;\n        /**\n         * @type {string|undefined}\n         */\n        var src = options.src;\n        assert(!(src !== undefined && image), 4); // `image` and `src` cannot be provided at the same time\n        assert(!image || (image && imgSize), 5); // `imgSize` must be set when `image` is provided\n        if ((src === undefined || src.length === 0) && image) {\n            src = /** @type {HTMLImageElement} */ (image).src || getUid(image);\n        }\n        assert(src !== undefined && src.length > 0, 6); // A defined and non-empty `src` or `image` must be provided\n        /**\n         * @type {import(\"../ImageState.js\").default}\n         */\n        var imageState = options.src !== undefined ? ImageState.IDLE : ImageState.LOADED;\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color}\n         */\n        _this.color_ = options.color !== undefined ? asArray(options.color) : null;\n        /**\n         * @private\n         * @type {import(\"./IconImage.js\").default}\n         */\n        _this.iconImage_ = getIconImage(image, \n        /** @type {string} */ (src), imgSize, _this.crossOrigin_, imageState, _this.color_);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.offset_ = options.offset !== undefined ? options.offset : [0, 0];\n        /**\n         * @private\n         * @type {import(\"./IconOrigin.js\").default}\n         */\n        _this.offsetOrigin_ =\n            options.offsetOrigin !== undefined\n                ? options.offsetOrigin\n                : IconOrigin.TOP_LEFT;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.origin_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = options.size !== undefined ? options.size : null;\n        return _this;\n    }\n    /**\n     * Clones the style. The underlying Image/HTMLCanvasElement is not cloned.\n     * @return {Icon} The cloned style.\n     * @api\n     */\n    Icon.prototype.clone = function () {\n        var scale = this.getScale();\n        return new Icon({\n            anchor: this.anchor_.slice(),\n            anchorOrigin: this.anchorOrigin_,\n            anchorXUnits: this.anchorXUnits_,\n            anchorYUnits: this.anchorYUnits_,\n            crossOrigin: this.crossOrigin_,\n            color: this.color_ && this.color_.slice\n                ? this.color_.slice()\n                : this.color_ || undefined,\n            src: this.getSrc(),\n            offset: this.offset_.slice(),\n            offsetOrigin: this.offsetOrigin_,\n            size: this.size_ !== null ? this.size_.slice() : undefined,\n            opacity: this.getOpacity(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n        });\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @return {Array<number>} Anchor.\n     * @api\n     */\n    Icon.prototype.getAnchor = function () {\n        if (this.normalizedAnchor_) {\n            return this.normalizedAnchor_;\n        }\n        var anchor = this.anchor_;\n        var size = this.getSize();\n        if (this.anchorXUnits_ == IconAnchorUnits.FRACTION ||\n            this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n            if (!size) {\n                return null;\n            }\n            anchor = this.anchor_.slice();\n            if (this.anchorXUnits_ == IconAnchorUnits.FRACTION) {\n                anchor[0] *= size[0];\n            }\n            if (this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n                anchor[1] *= size[1];\n            }\n        }\n        if (this.anchorOrigin_ != IconOrigin.TOP_LEFT) {\n            if (!size) {\n                return null;\n            }\n            if (anchor === this.anchor_) {\n                anchor = this.anchor_.slice();\n            }\n            if (this.anchorOrigin_ == IconOrigin.TOP_RIGHT ||\n                this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                anchor[0] = -anchor[0] + size[0];\n            }\n            if (this.anchorOrigin_ == IconOrigin.BOTTOM_LEFT ||\n                this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                anchor[1] = -anchor[1] + size[1];\n            }\n        }\n        var displacement = this.getDisplacement();\n        anchor[0] -= displacement[0];\n        anchor[1] += displacement[1];\n        this.normalizedAnchor_ = anchor;\n        return this.normalizedAnchor_;\n    };\n    /**\n     * Set the anchor point. The anchor determines the center point for the\n     * symbolizer.\n     *\n     * @param {Array<number>} anchor Anchor.\n     * @api\n     */\n    Icon.prototype.setAnchor = function (anchor) {\n        this.anchor_ = anchor;\n        this.normalizedAnchor_ = null;\n    };\n    /**\n     * Get the icon color.\n     * @return {import(\"../color.js\").Color} Color.\n     * @api\n     */\n    Icon.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Get the image icon.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n     * @api\n     */\n    Icon.prototype.getImage = function (pixelRatio) {\n        return this.iconImage_.getImage(pixelRatio);\n    };\n    /**\n     * Get the pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} The pixel ratio of the image.\n     * @api\n     */\n    Icon.prototype.getPixelRatio = function (pixelRatio) {\n        return this.iconImage_.getPixelRatio(pixelRatio);\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    Icon.prototype.getImageSize = function () {\n        return this.iconImage_.getSize();\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    Icon.prototype.getImageState = function () {\n        return this.iconImage_.getImageState();\n    };\n    /**\n     * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n     */\n    Icon.prototype.getHitDetectionImage = function () {\n        return this.iconImage_.getHitDetectionImage();\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @return {Array<number>} Origin.\n     * @api\n     */\n    Icon.prototype.getOrigin = function () {\n        if (this.origin_) {\n            return this.origin_;\n        }\n        var offset = this.offset_;\n        if (this.offsetOrigin_ != IconOrigin.TOP_LEFT) {\n            var size = this.getSize();\n            var iconImageSize = this.iconImage_.getSize();\n            if (!size || !iconImageSize) {\n                return null;\n            }\n            offset = offset.slice();\n            if (this.offsetOrigin_ == IconOrigin.TOP_RIGHT ||\n                this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                offset[0] = iconImageSize[0] - size[0] - offset[0];\n            }\n            if (this.offsetOrigin_ == IconOrigin.BOTTOM_LEFT ||\n                this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                offset[1] = iconImageSize[1] - size[1] - offset[1];\n            }\n        }\n        this.origin_ = offset;\n        return this.origin_;\n    };\n    /**\n     * Get the image URL.\n     * @return {string|undefined} Image src.\n     * @api\n     */\n    Icon.prototype.getSrc = function () {\n        return this.iconImage_.getSrc();\n    };\n    /**\n     * Get the size of the icon (in pixels).\n     * @return {import(\"../size.js\").Size} Image size.\n     * @api\n     */\n    Icon.prototype.getSize = function () {\n        return !this.size_ ? this.iconImage_.getSize() : this.size_;\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    Icon.prototype.listenImageChange = function (listener) {\n        this.iconImage_.addEventListener(EventType.CHANGE, listener);\n    };\n    /**\n     * Load not yet loaded URI.\n     * When rendering a feature with an icon style, the vector renderer will\n     * automatically call this method. However, you might want to call this\n     * method yourself for preloading or other purposes.\n     * @api\n     */\n    Icon.prototype.load = function () {\n        this.iconImage_.load();\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    Icon.prototype.unlistenImageChange = function (listener) {\n        this.iconImage_.removeEventListener(EventType.CHANGE, listener);\n    };\n    return Icon;\n}(ImageStyle));\nexport default Icon;\n//# sourceMappingURL=Icon.js.map","/**\n * @module ol/render/canvas/hitdetect\n */\nimport CanvasImmediateRenderer from './Immediate.js';\nimport GeometryType from '../../geom/GeometryType.js';\nimport IconAnchorUnits from '../../style/IconAnchorUnits.js';\nimport { Icon } from '../../style.js';\nimport { clamp } from '../../math.js';\nimport { createCanvasContext2D } from '../../dom.js';\nimport { intersects } from '../../extent.js';\nimport { numberSafeCompareFunction } from '../../array.js';\nexport var HIT_DETECT_RESOLUTION = 0.5;\n/**\n * @param {import(\"../../size.js\").Size} size Canvas size in css pixels.\n * @param {Array<import(\"../../transform.js\").Transform>} transforms Transforms\n * for rendering features to all worlds of the viewport, from coordinates to css\n * pixels.\n * @param {Array<import(\"../../Feature.js\").FeatureLike>} features\n * Features to consider for hit detection.\n * @param {import(\"../../style/Style.js\").StyleFunction|undefined} styleFunction\n * Layer style function.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @return {ImageData} Hit detection image data.\n */\nexport function createHitDetectionImageData(size, transforms, features, styleFunction, extent, resolution, rotation) {\n    var width = size[0] * HIT_DETECT_RESOLUTION;\n    var height = size[1] * HIT_DETECT_RESOLUTION;\n    var context = createCanvasContext2D(width, height);\n    context.imageSmoothingEnabled = false;\n    var canvas = context.canvas;\n    var renderer = new CanvasImmediateRenderer(context, HIT_DETECT_RESOLUTION, extent, null, rotation);\n    var featureCount = features.length;\n    // Stretch hit detection index to use the whole available color range\n    var indexFactor = Math.floor((256 * 256 * 256 - 1) / featureCount);\n    var featuresByZIndex = {};\n    for (var i = 1; i <= featureCount; ++i) {\n        var feature = features[i - 1];\n        var featureStyleFunction = feature.getStyleFunction() || styleFunction;\n        if (!styleFunction) {\n            continue;\n        }\n        var styles = featureStyleFunction(feature, resolution);\n        if (!styles) {\n            continue;\n        }\n        if (!Array.isArray(styles)) {\n            styles = [styles];\n        }\n        var index = i * indexFactor;\n        var color = '#' + ('000000' + index.toString(16)).slice(-6);\n        for (var j = 0, jj = styles.length; j < jj; ++j) {\n            var originalStyle = styles[j];\n            var geometry = originalStyle.getGeometryFunction()(feature);\n            if (!geometry || !intersects(extent, geometry.getExtent())) {\n                continue;\n            }\n            var style = originalStyle.clone();\n            var fill = style.getFill();\n            if (fill) {\n                fill.setColor(color);\n            }\n            var stroke = style.getStroke();\n            if (stroke) {\n                stroke.setColor(color);\n                stroke.setLineDash(null);\n            }\n            style.setText(undefined);\n            var image = originalStyle.getImage();\n            if (image && image.getOpacity() !== 0) {\n                var imgSize = image.getImageSize();\n                if (!imgSize) {\n                    continue;\n                }\n                var imgContext = createCanvasContext2D(imgSize[0], imgSize[1], undefined, { alpha: false });\n                var img = imgContext.canvas;\n                imgContext.fillStyle = color;\n                imgContext.fillRect(0, 0, img.width, img.height);\n                style.setImage(new Icon({\n                    img: img,\n                    imgSize: imgSize,\n                    anchor: image.getAnchor(),\n                    anchorXUnits: IconAnchorUnits.PIXELS,\n                    anchorYUnits: IconAnchorUnits.PIXELS,\n                    offset: image.getOrigin(),\n                    opacity: 1,\n                    size: image.getSize(),\n                    scale: image.getScale(),\n                    rotation: image.getRotation(),\n                    rotateWithView: image.getRotateWithView(),\n                }));\n            }\n            var zIndex = style.getZIndex() || 0;\n            var byGeometryType = featuresByZIndex[zIndex];\n            if (!byGeometryType) {\n                byGeometryType = {};\n                featuresByZIndex[zIndex] = byGeometryType;\n                byGeometryType[GeometryType.POLYGON] = [];\n                byGeometryType[GeometryType.CIRCLE] = [];\n                byGeometryType[GeometryType.LINE_STRING] = [];\n                byGeometryType[GeometryType.POINT] = [];\n            }\n            byGeometryType[geometry.getType().replace('Multi', '')].push(geometry, style);\n        }\n    }\n    var zIndexKeys = Object.keys(featuresByZIndex)\n        .map(Number)\n        .sort(numberSafeCompareFunction);\n    for (var i = 0, ii = zIndexKeys.length; i < ii; ++i) {\n        var byGeometryType = featuresByZIndex[zIndexKeys[i]];\n        for (var type in byGeometryType) {\n            var geomAndStyle = byGeometryType[type];\n            for (var j = 0, jj = geomAndStyle.length; j < jj; j += 2) {\n                renderer.setStyle(geomAndStyle[j + 1]);\n                for (var k = 0, kk = transforms.length; k < kk; ++k) {\n                    renderer.setTransform(transforms[k]);\n                    renderer.drawGeometry(geomAndStyle[j]);\n                }\n            }\n        }\n    }\n    return context.getImageData(0, 0, canvas.width, canvas.height);\n}\n/**\n * @param {import(\"../../pixel\").Pixel} pixel Pixel coordinate on the hit\n * detection canvas in css pixels.\n * @param {Array<import(\"../../Feature\").FeatureLike>} features Features. Has to\n * match the `features` array that was passed to `createHitDetectionImageData()`.\n * @param {ImageData} imageData Hit detection image data generated by\n * `createHitDetectionImageData()`.\n * @return {Array<import(\"../../Feature\").FeatureLike>} features Features.\n */\nexport function hitDetect(pixel, features, imageData) {\n    var resultFeatures = [];\n    if (imageData) {\n        var x = Math.floor(Math.round(pixel[0]) * HIT_DETECT_RESOLUTION);\n        var y = Math.floor(Math.round(pixel[1]) * HIT_DETECT_RESOLUTION);\n        // The pixel coordinate is clamped down to the hit-detect canvas' size to account\n        // for browsers returning coordinates slightly larger than the actual canvas size\n        // due to a non-integer pixel ratio.\n        var index = (clamp(x, 0, imageData.width - 1) +\n            clamp(y, 0, imageData.height - 1) * imageData.width) *\n            4;\n        var r = imageData.data[index];\n        var g = imageData.data[index + 1];\n        var b = imageData.data[index + 2];\n        var i = b + 256 * (g + 256 * r);\n        var indexFactor = Math.floor((256 * 256 * 256 - 1) / features.length);\n        if (i && i % indexFactor === 0) {\n            resultFeatures.push(features[i / indexFactor - 1]);\n        }\n    }\n    return resultFeatures;\n}\n//# sourceMappingURL=hitdetect.js.map","/**\n * @module ol/renderer/vector\n */\nimport BuilderType from '../render/canvas/BuilderType.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport ImageState from '../ImageState.js';\nimport { getUid } from '../util.js';\n/**\n * Feature callback. The callback will be called with three arguments. The first\n * argument is one {@link module:ol/Feature feature} or {@link module:ol/render/Feature render feature}\n * at the pixel, the second is the {@link module:ol/layer/Layer layer} of the feature and will be null for\n * unmanaged layers. The third is the {@link module:ol/geom/SimpleGeometry} of the feature. For features\n * with a GeometryCollection geometry, it will be the first detected geometry from the collection.\n * @template T\n * @typedef {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>, import(\"../geom/SimpleGeometry.js\").default): T} FeatureCallback\n */\n/**\n * Tolerance for geometry simplification in device pixels.\n * @type {number}\n */\nvar SIMPLIFY_TOLERANCE = 0.5;\n/**\n * @const\n * @type {Object<import(\"../geom/GeometryType.js\").default,\n *                function(import(\"../render/canvas/BuilderGroup.js\").default, import(\"../geom/Geometry.js\").default,\n *                         import(\"../style/Style.js\").default, Object): void>}\n */\nvar GEOMETRY_RENDERERS = {\n    'Point': renderPointGeometry,\n    'LineString': renderLineStringGeometry,\n    'Polygon': renderPolygonGeometry,\n    'MultiPoint': renderMultiPointGeometry,\n    'MultiLineString': renderMultiLineStringGeometry,\n    'MultiPolygon': renderMultiPolygonGeometry,\n    'GeometryCollection': renderGeometryCollectionGeometry,\n    'Circle': renderCircleGeometry,\n};\n/**\n * @param {import(\"../Feature.js\").FeatureLike} feature1 Feature 1.\n * @param {import(\"../Feature.js\").FeatureLike} feature2 Feature 2.\n * @return {number} Order.\n */\nexport function defaultOrder(feature1, feature2) {\n    return parseInt(getUid(feature1), 10) - parseInt(getUid(feature2), 10);\n}\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Squared pixel tolerance.\n */\nexport function getSquaredTolerance(resolution, pixelRatio) {\n    var tolerance = getTolerance(resolution, pixelRatio);\n    return tolerance * tolerance;\n}\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Pixel tolerance.\n */\nexport function getTolerance(resolution, pixelRatio) {\n    return (SIMPLIFY_TOLERANCE * resolution) / pixelRatio;\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Builder group.\n * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderCircleGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n        var circleReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.CIRCLE);\n        circleReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        circleReplay.drawCircle(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Transform from user to view projection.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n * @return {boolean} `true` if style is loading.\n */\nexport function renderFeature(replayGroup, feature, style, squaredTolerance, listener, opt_transform, opt_declutterBuilderGroup) {\n    var loading = false;\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n        var imageState = imageStyle.getImageState();\n        if (imageState == ImageState.LOADED || imageState == ImageState.ERROR) {\n            imageStyle.unlistenImageChange(listener);\n        }\n        else {\n            if (imageState == ImageState.IDLE) {\n                imageStyle.load();\n            }\n            imageState = imageStyle.getImageState();\n            imageStyle.listenImageChange(listener);\n            loading = true;\n        }\n    }\n    renderFeatureInternal(replayGroup, feature, style, squaredTolerance, opt_transform, opt_declutterBuilderGroup);\n    return loading;\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Optional transform function.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderFeatureInternal(replayGroup, feature, style, squaredTolerance, opt_transform, opt_declutterBuilderGroup) {\n    var geometry = style.getGeometryFunction()(feature);\n    if (!geometry) {\n        return;\n    }\n    var simplifiedGeometry = geometry.simplifyTransformed(squaredTolerance, opt_transform);\n    var renderer = style.getRenderer();\n    if (renderer) {\n        renderGeometry(replayGroup, simplifiedGeometry, style, feature);\n    }\n    else {\n        var geometryRenderer = GEOMETRY_RENDERERS[simplifiedGeometry.getType()];\n        geometryRenderer(replayGroup, simplifiedGeometry, style, feature, opt_declutterBuilderGroup);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n */\nfunction renderGeometry(replayGroup, geometry, style, feature) {\n    if (geometry.getType() == GeometryType.GEOMETRY_COLLECTION) {\n        var geometries = \n        /** @type {import(\"../geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            renderGeometry(replayGroup, geometries[i], style, feature);\n        }\n        return;\n    }\n    var replay = replayGroup.getBuilder(style.getZIndex(), BuilderType.DEFAULT);\n    replay.drawCustom(\n    /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (geometry), feature, style.getRenderer(), style.getHitDetectionRenderer());\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderGeometryCollectionGeometry(replayGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var geometries = geometry.getGeometriesArray();\n    var i, ii;\n    for (i = 0, ii = geometries.length; i < ii; ++i) {\n        var geometryRenderer = GEOMETRY_RENDERERS[geometries[i].getType()];\n        geometryRenderer(replayGroup, geometries[i], style, feature, opt_declutterBuilderGroup);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/LineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderLineStringGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n        var lineStringReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.LINE_STRING);\n        lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n        lineStringReplay.drawLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiLineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderMultiLineStringGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n        var lineStringReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.LINE_STRING);\n        lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n        lineStringReplay.drawMultiLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderMultiPolygonGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (strokeStyle || fillStyle) {\n        var polygonReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.POLYGON);\n        polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        polygonReplay.drawMultiPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/Point.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderPointGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var imageStyle = style.getImage();\n    var textStyle = style.getText();\n    /** @type {import(\"../render/canvas.js\").DeclutterImageWithText} */\n    var declutterImageWithText;\n    if (opt_declutterBuilderGroup) {\n        builderGroup = opt_declutterBuilderGroup;\n        declutterImageWithText =\n            imageStyle && textStyle && textStyle.getText() ? {} : undefined;\n    }\n    if (imageStyle) {\n        if (imageStyle.getImageState() != ImageState.LOADED) {\n            return;\n        }\n        var imageReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.IMAGE);\n        imageReplay.setImageStyle(imageStyle, declutterImageWithText);\n        imageReplay.drawPoint(geometry, feature);\n    }\n    if (textStyle && textStyle.getText()) {\n        var textReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle, declutterImageWithText);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiPoint.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderMultiPointGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var imageStyle = style.getImage();\n    var textStyle = style.getText();\n    /** @type {import(\"../render/canvas.js\").DeclutterImageWithText} */\n    var declutterImageWithText;\n    if (opt_declutterBuilderGroup) {\n        builderGroup = opt_declutterBuilderGroup;\n        declutterImageWithText =\n            imageStyle && textStyle && textStyle.getText() ? {} : undefined;\n    }\n    if (imageStyle) {\n        if (imageStyle.getImageState() != ImageState.LOADED) {\n            return;\n        }\n        var imageReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.IMAGE);\n        imageReplay.setImageStyle(imageStyle, declutterImageWithText);\n        imageReplay.drawMultiPoint(geometry, feature);\n    }\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle, declutterImageWithText);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/Polygon.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderPolygonGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n        var polygonReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.POLYGON);\n        polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        polygonReplay.drawPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n//# sourceMappingURL=vector.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/VectorLayer\n */\nimport CanvasBuilderGroup from '../../render/canvas/BuilderGroup.js';\nimport CanvasLayerRenderer from './Layer.js';\nimport ExecutorGroup from '../../render/canvas/ExecutorGroup.js';\nimport ViewHint from '../../ViewHint.js';\nimport { HIT_DETECT_RESOLUTION, createHitDetectionImageData, hitDetect, } from '../../render/canvas/hitdetect.js';\nimport { apply, makeInverse, makeScale, toString as transformToString, } from '../../transform.js';\nimport { buffer, containsExtent, createEmpty, getWidth, intersects as intersectsExtent, wrapX as wrapExtentX, } from '../../extent.js';\nimport { cssOpacity } from '../../css.js';\nimport { defaultOrder as defaultRenderOrder, getTolerance as getRenderTolerance, getSquaredTolerance as getSquaredRenderTolerance, renderFeature, } from '../vector.js';\nimport { equals } from '../../array.js';\nimport { fromUserExtent, getTransformFromProjections, getUserProjection, toUserExtent, toUserResolution, } from '../../proj.js';\nimport { getUid } from '../../util.js';\nimport { wrapX as wrapCoordinateX } from '../../coordinate.js';\n/**\n * @classdesc\n * Canvas renderer for vector layers.\n * @api\n */\nvar CanvasVectorLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasVectorLayerRenderer, _super);\n    /**\n     * @param {import(\"../../layer/Vector.js\").default} vectorLayer Vector layer.\n     */\n    function CanvasVectorLayerRenderer(vectorLayer) {\n        var _this = _super.call(this, vectorLayer) || this;\n        /** @private */\n        _this.boundHandleStyleImageChange_ = _this.handleStyleImageChange_.bind(_this);\n        /**\n         * @type {boolean}\n         */\n        _this.animatingOrInteracting_;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.dirty_ = false;\n        /**\n         * @type {ImageData}\n         */\n        _this.hitDetectionImageData_ = null;\n        /**\n         * @type {Array<import(\"../../Feature.js\").default>}\n         */\n        _this.renderedFeatures_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedResolution_ = NaN;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.renderedExtent_ = createEmpty();\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.wrappedRenderedExtent_ = createEmpty();\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedRotation_;\n        /**\n         * @private\n         * @type {import(\"../../coordinate\").Coordinate}\n         */\n        _this.renderedCenter_ = null;\n        /**\n         * @private\n         * @type {import(\"../../proj/Projection\").default}\n         */\n        _this.renderedProjection_ = null;\n        /**\n         * @private\n         * @type {function(import(\"../../Feature.js\").default, import(\"../../Feature.js\").default): number|null}\n         */\n        _this.renderedRenderOrder_ = null;\n        /**\n         * @private\n         * @type {import(\"../../render/canvas/ExecutorGroup\").default}\n         */\n        _this.replayGroup_ = null;\n        /**\n         * A new replay group had to be created by `prepareFrame()`\n         * @type {boolean}\n         */\n        _this.replayGroupChanged = true;\n        /**\n         * @type {import(\"../../render/canvas/ExecutorGroup\").default}\n         */\n        _this.declutterExecutorGroup = null;\n        /**\n         * Clipping to be performed by `renderFrame()`\n         * @type {boolean}\n         */\n        _this.clipping = true;\n        return _this;\n    }\n    /**\n     * Get a rendering container from an existing target, if compatible.\n     * @param {HTMLElement} target Potential render target.\n     * @param {string} transform CSS Transform.\n     * @param {number} opacity Opacity.\n     */\n    CanvasVectorLayerRenderer.prototype.useContainer = function (target, transform, opacity) {\n        if (opacity < 1) {\n            target = null;\n        }\n        _super.prototype.useContainer.call(this, target, transform, opacity);\n    };\n    /**\n     * @param {ExecutorGroup} executorGroup Executor group.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"rbush\").default} [opt_declutterTree] Declutter tree.\n     */\n    CanvasVectorLayerRenderer.prototype.renderWorlds = function (executorGroup, frameState, opt_declutterTree) {\n        var extent = frameState.extent;\n        var viewState = frameState.viewState;\n        var center = viewState.center;\n        var resolution = viewState.resolution;\n        var projection = viewState.projection;\n        var rotation = viewState.rotation;\n        var projectionExtent = projection.getExtent();\n        var vectorSource = this.getLayer().getSource();\n        var pixelRatio = frameState.pixelRatio;\n        var viewHints = frameState.viewHints;\n        var snapToPixel = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        var context = this.context;\n        var width = Math.round(frameState.size[0] * pixelRatio);\n        var height = Math.round(frameState.size[1] * pixelRatio);\n        var multiWorld = vectorSource.getWrapX() && projection.canWrapX();\n        var worldWidth = multiWorld ? getWidth(projectionExtent) : null;\n        var endWorld = multiWorld\n            ? Math.ceil((extent[2] - projectionExtent[2]) / worldWidth) + 1\n            : 1;\n        var world = multiWorld\n            ? Math.floor((extent[0] - projectionExtent[0]) / worldWidth)\n            : 0;\n        do {\n            var transform = this.getRenderTransform(center, resolution, rotation, pixelRatio, width, height, world * worldWidth);\n            executorGroup.execute(context, 1, transform, rotation, snapToPixel, undefined, opt_declutterTree);\n        } while (++world < endWorld);\n    };\n    /**\n     * Render declutter items for this layer\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CanvasVectorLayerRenderer.prototype.renderDeclutter = function (frameState) {\n        if (this.declutterExecutorGroup) {\n            this.renderWorlds(this.declutterExecutorGroup, frameState, frameState.declutterTree);\n        }\n    };\n    /**\n     * Render the layer.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    CanvasVectorLayerRenderer.prototype.renderFrame = function (frameState, target) {\n        var pixelRatio = frameState.pixelRatio;\n        var layerState = frameState.layerStatesArray[frameState.layerIndex];\n        // set forward and inverse pixel transforms\n        makeScale(this.pixelTransform, 1 / pixelRatio, 1 / pixelRatio);\n        makeInverse(this.inversePixelTransform, this.pixelTransform);\n        var canvasTransform = transformToString(this.pixelTransform);\n        this.useContainer(target, canvasTransform, layerState.opacity);\n        var context = this.context;\n        var canvas = context.canvas;\n        var replayGroup = this.replayGroup_;\n        var declutterExecutorGroup = this.declutterExecutorGroup;\n        if ((!replayGroup || replayGroup.isEmpty()) &&\n            (!declutterExecutorGroup || declutterExecutorGroup.isEmpty())) {\n            return null;\n        }\n        // resize and clear\n        var width = Math.round(frameState.size[0] * pixelRatio);\n        var height = Math.round(frameState.size[1] * pixelRatio);\n        if (canvas.width != width || canvas.height != height) {\n            canvas.width = width;\n            canvas.height = height;\n            if (canvas.style.transform !== canvasTransform) {\n                canvas.style.transform = canvasTransform;\n            }\n        }\n        else if (!this.containerReused) {\n            context.clearRect(0, 0, width, height);\n        }\n        this.preRender(context, frameState);\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        // clipped rendering if layer extent is set\n        var clipped = false;\n        var render = true;\n        if (layerState.extent && this.clipping) {\n            var layerExtent = fromUserExtent(layerState.extent, projection);\n            render = intersectsExtent(layerExtent, frameState.extent);\n            clipped = render && !containsExtent(layerExtent, frameState.extent);\n            if (clipped) {\n                this.clipUnrotated(context, frameState, layerExtent);\n            }\n        }\n        if (render) {\n            this.renderWorlds(replayGroup, frameState);\n        }\n        if (clipped) {\n            context.restore();\n        }\n        this.postRender(context, frameState);\n        var opacity = cssOpacity(layerState.opacity);\n        var container = this.container;\n        if (opacity !== container.style.opacity) {\n            container.style.opacity = opacity;\n        }\n        if (this.renderedRotation_ !== viewState.rotation) {\n            this.renderedRotation_ = viewState.rotation;\n            this.hitDetectionImageData_ = null;\n        }\n        return this.container;\n    };\n    /**\n     * Asynchronous layer level hit detection.\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../../Feature\").default>>} Promise that resolves with an array of features.\n     */\n    CanvasVectorLayerRenderer.prototype.getFeatures = function (pixel) {\n        return new Promise(\n        /**\n         * @param {function(Array<import(\"../../Feature\").default|import(\"../../render/Feature\").default>): void} resolve Resolver function.\n         * @this {CanvasVectorLayerRenderer}\n         */\n        function (resolve) {\n            if (!this.hitDetectionImageData_ && !this.animatingOrInteracting_) {\n                var size = [this.context.canvas.width, this.context.canvas.height];\n                apply(this.pixelTransform, size);\n                var center = this.renderedCenter_;\n                var resolution = this.renderedResolution_;\n                var rotation = this.renderedRotation_;\n                var projection = this.renderedProjection_;\n                var extent = this.wrappedRenderedExtent_;\n                var layer = this.getLayer();\n                var transforms = [];\n                var width = size[0] * HIT_DETECT_RESOLUTION;\n                var height = size[1] * HIT_DETECT_RESOLUTION;\n                transforms.push(this.getRenderTransform(center, resolution, rotation, HIT_DETECT_RESOLUTION, width, height, 0).slice());\n                var source = layer.getSource();\n                var projectionExtent = projection.getExtent();\n                if (source.getWrapX() &&\n                    projection.canWrapX() &&\n                    !containsExtent(projectionExtent, extent)) {\n                    var startX = extent[0];\n                    var worldWidth = getWidth(projectionExtent);\n                    var world = 0;\n                    var offsetX = void 0;\n                    while (startX < projectionExtent[0]) {\n                        --world;\n                        offsetX = worldWidth * world;\n                        transforms.push(this.getRenderTransform(center, resolution, rotation, HIT_DETECT_RESOLUTION, width, height, offsetX).slice());\n                        startX += worldWidth;\n                    }\n                    world = 0;\n                    startX = extent[2];\n                    while (startX > projectionExtent[2]) {\n                        ++world;\n                        offsetX = worldWidth * world;\n                        transforms.push(this.getRenderTransform(center, resolution, rotation, HIT_DETECT_RESOLUTION, width, height, offsetX).slice());\n                        startX -= worldWidth;\n                    }\n                }\n                this.hitDetectionImageData_ = createHitDetectionImageData(size, transforms, this.renderedFeatures_, layer.getStyleFunction(), extent, resolution, rotation);\n            }\n            resolve(hitDetect(pixel, this.renderedFeatures_, this.hitDetectionImageData_));\n        }.bind(this));\n    };\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {import(\"../vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {Array<import(\"../Map.js\").HitMatch<T>>} matches The hit detected matches with tolerance.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasVectorLayerRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, callback, matches) {\n        var _this = this;\n        if (!this.replayGroup_) {\n            return undefined;\n        }\n        var resolution = frameState.viewState.resolution;\n        var rotation = frameState.viewState.rotation;\n        var layer = this.getLayer();\n        /** @type {!Object<string, import(\"../Map.js\").HitMatch<T>|true>} */\n        var features = {};\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n         * @param {number} distanceSq The squared distance to the click position\n         * @return {T|undefined} Callback result.\n         */\n        var featureCallback = function (feature, geometry, distanceSq) {\n            var key = getUid(feature);\n            var match = features[key];\n            if (!match) {\n                if (distanceSq === 0) {\n                    features[key] = true;\n                    return callback(feature, layer, geometry);\n                }\n                matches.push((features[key] = {\n                    feature: feature,\n                    layer: layer,\n                    geometry: geometry,\n                    distanceSq: distanceSq,\n                    callback: callback,\n                }));\n            }\n            else if (match !== true && distanceSq < match.distanceSq) {\n                if (distanceSq === 0) {\n                    features[key] = true;\n                    matches.splice(matches.lastIndexOf(match), 1);\n                    return callback(feature, layer, geometry);\n                }\n                match.geometry = geometry;\n                match.distanceSq = distanceSq;\n            }\n            return undefined;\n        };\n        var result;\n        var executorGroups = [this.replayGroup_];\n        if (this.declutterExecutorGroup) {\n            executorGroups.push(this.declutterExecutorGroup);\n        }\n        executorGroups.some(function (executorGroup) {\n            return (result = executorGroup.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, featureCallback, executorGroup === _this.declutterExecutorGroup\n                ? frameState.declutterTree.all().map(function (item) { return item.value; })\n                : null));\n        });\n        return result;\n    };\n    /**\n     * Perform action necessary to get the layer rendered after new fonts have loaded\n     */\n    CanvasVectorLayerRenderer.prototype.handleFontsChanged = function () {\n        var layer = this.getLayer();\n        if (layer.getVisible() && this.replayGroup_) {\n            layer.changed();\n        }\n    };\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    CanvasVectorLayerRenderer.prototype.handleStyleImageChange_ = function (event) {\n        this.renderIfReadyAndVisible();\n    };\n    /**\n     * Determine whether render should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    CanvasVectorLayerRenderer.prototype.prepareFrame = function (frameState) {\n        var vectorLayer = this.getLayer();\n        var vectorSource = vectorLayer.getSource();\n        if (!vectorSource) {\n            return false;\n        }\n        var animating = frameState.viewHints[ViewHint.ANIMATING];\n        var interacting = frameState.viewHints[ViewHint.INTERACTING];\n        var updateWhileAnimating = vectorLayer.getUpdateWhileAnimating();\n        var updateWhileInteracting = vectorLayer.getUpdateWhileInteracting();\n        if ((!this.dirty_ && !updateWhileAnimating && animating) ||\n            (!updateWhileInteracting && interacting)) {\n            this.animatingOrInteracting_ = true;\n            return true;\n        }\n        this.animatingOrInteracting_ = false;\n        var frameStateExtent = frameState.extent;\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        var resolution = viewState.resolution;\n        var pixelRatio = frameState.pixelRatio;\n        var vectorLayerRevision = vectorLayer.getRevision();\n        var vectorLayerRenderBuffer = vectorLayer.getRenderBuffer();\n        var vectorLayerRenderOrder = vectorLayer.getRenderOrder();\n        if (vectorLayerRenderOrder === undefined) {\n            vectorLayerRenderOrder = defaultRenderOrder;\n        }\n        var center = viewState.center.slice();\n        var extent = buffer(frameStateExtent, vectorLayerRenderBuffer * resolution);\n        var renderedExtent = extent.slice();\n        var loadExtents = [extent.slice()];\n        var projectionExtent = projection.getExtent();\n        if (vectorSource.getWrapX() &&\n            projection.canWrapX() &&\n            !containsExtent(projectionExtent, frameState.extent)) {\n            // For the replay group, we need an extent that intersects the real world\n            // (-180 to +180). To support geometries in a coordinate range from -540\n            // to +540, we add at least 1 world width on each side of the projection\n            // extent. If the viewport is wider than the world, we need to add half of\n            // the viewport width to make sure we cover the whole viewport.\n            var worldWidth = getWidth(projectionExtent);\n            var gutter = Math.max(getWidth(extent) / 2, worldWidth);\n            extent[0] = projectionExtent[0] - gutter;\n            extent[2] = projectionExtent[2] + gutter;\n            wrapCoordinateX(center, projection);\n            var loadExtent = wrapExtentX(loadExtents[0], projection);\n            // If the extent crosses the date line, we load data for both edges of the worlds\n            if (loadExtent[0] < projectionExtent[0] &&\n                loadExtent[2] < projectionExtent[2]) {\n                loadExtents.push([\n                    loadExtent[0] + worldWidth,\n                    loadExtent[1],\n                    loadExtent[2] + worldWidth,\n                    loadExtent[3],\n                ]);\n            }\n            else if (loadExtent[0] > projectionExtent[0] &&\n                loadExtent[2] > projectionExtent[2]) {\n                loadExtents.push([\n                    loadExtent[0] - worldWidth,\n                    loadExtent[1],\n                    loadExtent[2] - worldWidth,\n                    loadExtent[3],\n                ]);\n            }\n        }\n        if (!this.dirty_ &&\n            this.renderedResolution_ == resolution &&\n            this.renderedRevision_ == vectorLayerRevision &&\n            this.renderedRenderOrder_ == vectorLayerRenderOrder &&\n            containsExtent(this.wrappedRenderedExtent_, extent)) {\n            if (!equals(this.renderedExtent_, renderedExtent)) {\n                this.hitDetectionImageData_ = null;\n                this.renderedExtent_ = renderedExtent;\n            }\n            this.renderedCenter_ = center;\n            this.replayGroupChanged = false;\n            return true;\n        }\n        this.replayGroup_ = null;\n        this.dirty_ = false;\n        var replayGroup = new CanvasBuilderGroup(getRenderTolerance(resolution, pixelRatio), extent, resolution, pixelRatio);\n        var declutterBuilderGroup;\n        if (this.getLayer().getDeclutter()) {\n            declutterBuilderGroup = new CanvasBuilderGroup(getRenderTolerance(resolution, pixelRatio), extent, resolution, pixelRatio);\n        }\n        var userProjection = getUserProjection();\n        var userTransform;\n        if (userProjection) {\n            for (var i = 0, ii = loadExtents.length; i < ii; ++i) {\n                var extent_1 = loadExtents[i];\n                var userExtent_1 = toUserExtent(extent_1, projection);\n                vectorSource.loadFeatures(userExtent_1, toUserResolution(resolution, projection), userProjection);\n            }\n            userTransform = getTransformFromProjections(userProjection, projection);\n        }\n        else {\n            for (var i = 0, ii = loadExtents.length; i < ii; ++i) {\n                vectorSource.loadFeatures(loadExtents[i], resolution, projection);\n            }\n        }\n        var squaredTolerance = getSquaredRenderTolerance(resolution, pixelRatio);\n        var render = \n        /**\n         * @param {import(\"../../Feature.js\").default} feature Feature.\n         * @this {CanvasVectorLayerRenderer}\n         */\n        function (feature) {\n            var styles;\n            var styleFunction = feature.getStyleFunction() || vectorLayer.getStyleFunction();\n            if (styleFunction) {\n                styles = styleFunction(feature, resolution);\n            }\n            if (styles) {\n                var dirty = this.renderFeature(feature, squaredTolerance, styles, replayGroup, userTransform, declutterBuilderGroup);\n                this.dirty_ = this.dirty_ || dirty;\n            }\n        }.bind(this);\n        var userExtent = toUserExtent(extent, projection);\n        /** @type {Array<import(\"../../Feature.js\").default>} */\n        var features = vectorSource.getFeaturesInExtent(userExtent);\n        if (vectorLayerRenderOrder) {\n            features.sort(vectorLayerRenderOrder);\n        }\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n            render(features[i]);\n        }\n        this.renderedFeatures_ = features;\n        var replayGroupInstructions = replayGroup.finish();\n        var executorGroup = new ExecutorGroup(extent, resolution, pixelRatio, vectorSource.getOverlaps(), replayGroupInstructions, vectorLayer.getRenderBuffer());\n        if (declutterBuilderGroup) {\n            this.declutterExecutorGroup = new ExecutorGroup(extent, resolution, pixelRatio, vectorSource.getOverlaps(), declutterBuilderGroup.finish(), vectorLayer.getRenderBuffer());\n        }\n        this.renderedResolution_ = resolution;\n        this.renderedRevision_ = vectorLayerRevision;\n        this.renderedRenderOrder_ = vectorLayerRenderOrder;\n        this.renderedExtent_ = renderedExtent;\n        this.wrappedRenderedExtent_ = extent;\n        this.renderedCenter_ = center;\n        this.renderedProjection_ = projection;\n        this.replayGroup_ = executorGroup;\n        this.hitDetectionImageData_ = null;\n        this.replayGroupChanged = true;\n        return true;\n    };\n    /**\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {number} squaredTolerance Squared render tolerance.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of styles.\n     * @param {import(\"../../render/canvas/BuilderGroup.js\").default} builderGroup Builder group.\n     * @param {import(\"../../proj.js\").TransformFunction} [opt_transform] Transform from user to view projection.\n     * @param {import(\"../../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n     * @return {boolean} `true` if an image is loading.\n     */\n    CanvasVectorLayerRenderer.prototype.renderFeature = function (feature, squaredTolerance, styles, builderGroup, opt_transform, opt_declutterBuilderGroup) {\n        if (!styles) {\n            return false;\n        }\n        var loading = false;\n        if (Array.isArray(styles)) {\n            for (var i = 0, ii = styles.length; i < ii; ++i) {\n                loading =\n                    renderFeature(builderGroup, feature, styles[i], squaredTolerance, this.boundHandleStyleImageChange_, opt_transform, opt_declutterBuilderGroup) || loading;\n            }\n        }\n        else {\n            loading = renderFeature(builderGroup, feature, styles, squaredTolerance, this.boundHandleStyleImageChange_, opt_transform, opt_declutterBuilderGroup);\n        }\n        return loading;\n    };\n    return CanvasVectorLayerRenderer;\n}(CanvasLayerRenderer));\nexport default CanvasVectorLayerRenderer;\n//# sourceMappingURL=VectorLayer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Vector\n */\nimport BaseVectorLayer from './BaseVector.js';\nimport CanvasVectorLayerRenderer from '../renderer/canvas/VectorLayer.js';\n/**\n * @classdesc\n * Vector data that is rendered client-side.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Vector.js\").default} VectorSourceType\n * @extends {BaseVectorLayer<VectorSourceType>}\n * @api\n */\nvar VectorLayer = /** @class */ (function (_super) {\n    __extends(VectorLayer, _super);\n    /**\n     * @param {import(\"./BaseVector.js\").Options<VectorSourceType>} [opt_options] Options.\n     */\n    function VectorLayer(opt_options) {\n        return _super.call(this, opt_options) || this;\n    }\n    /**\n     * Create a renderer for this layer.\n     * @return {import(\"../renderer/Layer.js\").default} A layer renderer.\n     */\n    VectorLayer.prototype.createRenderer = function () {\n        return new CanvasVectorLayerRenderer(this);\n    };\n    return VectorLayer;\n}(BaseVectorLayer));\nexport default VectorLayer;\n//# sourceMappingURL=Vector.js.map","/**\n * @module ol/structs/RBush\n */\nimport RBush_ from 'rbush';\nimport { createOrUpdate, equals } from '../extent.js';\nimport { getUid } from '../util.js';\nimport { isEmpty } from '../obj.js';\n/**\n * @typedef {Object} Entry\n * @property {number} minX MinX.\n * @property {number} minY MinY.\n * @property {number} maxX MaxX.\n * @property {number} maxY MaxY.\n * @property {Object} [value] Value.\n */\n/**\n * @classdesc\n * Wrapper around the RBush by Vladimir Agafonkin.\n * See https://github.com/mourner/rbush.\n *\n * @template T\n */\nvar RBush = /** @class */ (function () {\n    /**\n     * @param {number} [opt_maxEntries] Max entries.\n     */\n    function RBush(opt_maxEntries) {\n        /**\n         * @private\n         */\n        this.rbush_ = new RBush_(opt_maxEntries);\n        /**\n         * A mapping between the objects added to this rbush wrapper\n         * and the objects that are actually added to the internal rbush.\n         * @private\n         * @type {Object<string, Entry>}\n         */\n        this.items_ = {};\n    }\n    /**\n     * Insert a value into the RBush.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {T} value Value.\n     */\n    RBush.prototype.insert = function (extent, value) {\n        /** @type {Entry} */\n        var item = {\n            minX: extent[0],\n            minY: extent[1],\n            maxX: extent[2],\n            maxY: extent[3],\n            value: value,\n        };\n        this.rbush_.insert(item);\n        this.items_[getUid(value)] = item;\n    };\n    /**\n     * Bulk-insert values into the RBush.\n     * @param {Array<import(\"../extent.js\").Extent>} extents Extents.\n     * @param {Array<T>} values Values.\n     */\n    RBush.prototype.load = function (extents, values) {\n        var items = new Array(values.length);\n        for (var i = 0, l = values.length; i < l; i++) {\n            var extent = extents[i];\n            var value = values[i];\n            /** @type {Entry} */\n            var item = {\n                minX: extent[0],\n                minY: extent[1],\n                maxX: extent[2],\n                maxY: extent[3],\n                value: value,\n            };\n            items[i] = item;\n            this.items_[getUid(value)] = item;\n        }\n        this.rbush_.load(items);\n    };\n    /**\n     * Remove a value from the RBush.\n     * @param {T} value Value.\n     * @return {boolean} Removed.\n     */\n    RBush.prototype.remove = function (value) {\n        var uid = getUid(value);\n        // get the object in which the value was wrapped when adding to the\n        // internal rbush. then use that object to do the removal.\n        var item = this.items_[uid];\n        delete this.items_[uid];\n        return this.rbush_.remove(item) !== null;\n    };\n    /**\n     * Update the extent of a value in the RBush.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {T} value Value.\n     */\n    RBush.prototype.update = function (extent, value) {\n        var item = this.items_[getUid(value)];\n        var bbox = [item.minX, item.minY, item.maxX, item.maxY];\n        if (!equals(bbox, extent)) {\n            this.remove(value);\n            this.insert(extent, value);\n        }\n    };\n    /**\n     * Return all values in the RBush.\n     * @return {Array<T>} All.\n     */\n    RBush.prototype.getAll = function () {\n        var items = this.rbush_.all();\n        return items.map(function (item) {\n            return item.value;\n        });\n    };\n    /**\n     * Return all values in the given extent.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<T>} All in extent.\n     */\n    RBush.prototype.getInExtent = function (extent) {\n        /** @type {Entry} */\n        var bbox = {\n            minX: extent[0],\n            minY: extent[1],\n            maxX: extent[2],\n            maxY: extent[3],\n        };\n        var items = this.rbush_.search(bbox);\n        return items.map(function (item) {\n            return item.value;\n        });\n    };\n    /**\n     * Calls a callback function with each value in the tree.\n     * If the callback returns a truthy value, this value is returned without\n     * checking the rest of the tree.\n     * @param {function(T): *} callback Callback.\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEach = function (callback) {\n        return this.forEach_(this.getAll(), callback);\n    };\n    /**\n     * Calls a callback function with each value in the provided extent.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(T): *} callback Callback.\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEachInExtent = function (extent, callback) {\n        return this.forEach_(this.getInExtent(extent), callback);\n    };\n    /**\n     * @param {Array<T>} values Values.\n     * @param {function(T): *} callback Callback.\n     * @private\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEach_ = function (values, callback) {\n        var result;\n        for (var i = 0, l = values.length; i < l; i++) {\n            result = callback(values[i]);\n            if (result) {\n                return result;\n            }\n        }\n        return result;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    RBush.prototype.isEmpty = function () {\n        return isEmpty(this.items_);\n    };\n    /**\n     * Remove all values from the RBush.\n     */\n    RBush.prototype.clear = function () {\n        this.rbush_.clear();\n        this.items_ = {};\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Extent.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     */\n    RBush.prototype.getExtent = function (opt_extent) {\n        var data = this.rbush_.toJSON();\n        return createOrUpdate(data.minX, data.minY, data.maxX, data.maxY, opt_extent);\n    };\n    /**\n     * @param {RBush} rbush R-Tree.\n     */\n    RBush.prototype.concat = function (rbush) {\n        this.rbush_.load(rbush.rbush_.all());\n        for (var i in rbush.items_) {\n            this.items_[i] = rbush.items_[i];\n        }\n    };\n    return RBush;\n}());\nexport default RBush;\n//# sourceMappingURL=RBush.js.map","/**\n * @module ol/source/VectorEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a feature is added to the source.\n     * @event module:ol/source/Vector.VectorSourceEvent#addfeature\n     * @api\n     */\n    ADDFEATURE: 'addfeature',\n    /**\n     * Triggered when a feature is updated.\n     * @event module:ol/source/Vector.VectorSourceEvent#changefeature\n     * @api\n     */\n    CHANGEFEATURE: 'changefeature',\n    /**\n     * Triggered when the clear method is called on the source.\n     * @event module:ol/source/Vector.VectorSourceEvent#clear\n     * @api\n     */\n    CLEAR: 'clear',\n    /**\n     * Triggered when a feature is removed from the source.\n     * See {@link module:ol/source/Vector~VectorSource#clear source.clear()} for exceptions.\n     * @event module:ol/source/Vector.VectorSourceEvent#removefeature\n     * @api\n     */\n    REMOVEFEATURE: 'removefeature',\n    /**\n     * Triggered when features starts loading.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloadstart\n     * @api\n     */\n    FEATURESLOADSTART: 'featuresloadstart',\n    /**\n     * Triggered when features finishes loading.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloadend\n     * @api\n     */\n    FEATURESLOADEND: 'featuresloadend',\n    /**\n     * Triggered if feature loading results in an error.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloaderror\n     * @api\n     */\n    FEATURESLOADERROR: 'featuresloaderror',\n};\n/**\n * @typedef {'addfeature'|'changefeature'|'clear'|'removefeature'|'featuresloadstart'|'featuresloadend'|'featuresloaderror'} VectorSourceEventTypes\n */\n//# sourceMappingURL=VectorEventType.js.map","/**\n * @module ol/loadingstrategy\n */\nimport { fromUserExtent, fromUserResolution, toUserExtent } from './proj.js';\n/**\n * Strategy function for loading all features with a single request.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @return {Array<import(\"./extent.js\").Extent>} Extents.\n * @api\n */\nexport function all(extent, resolution) {\n    return [[-Infinity, -Infinity, Infinity, Infinity]];\n}\n/**\n * Strategy function for loading features based on the view's extent and\n * resolution.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @return {Array<import(\"./extent.js\").Extent>} Extents.\n * @api\n */\nexport function bbox(extent, resolution) {\n    return [extent];\n}\n/**\n * Creates a strategy function for loading features based on a tile grid.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {function(import(\"./extent.js\").Extent, number, import(\"./proj.js\").Projection): Array<import(\"./extent.js\").Extent>} Loading strategy.\n * @api\n */\nexport function tile(tileGrid) {\n    return (\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"./proj.js\").Projection} projection Projection.\n     * @return {Array<import(\"./extent.js\").Extent>} Extents.\n     */\n    function (extent, resolution, projection) {\n        var z = tileGrid.getZForResolution(fromUserResolution(resolution, projection));\n        var tileRange = tileGrid.getTileRangeForExtentAndZ(fromUserExtent(extent, projection), z);\n        /** @type {Array<import(\"./extent.js\").Extent>} */\n        var extents = [];\n        /** @type {import(\"./tilecoord.js\").TileCoord} */\n        var tileCoord = [z, 0, 0];\n        for (tileCoord[1] = tileRange.minX; tileCoord[1] <= tileRange.maxX; ++tileCoord[1]) {\n            for (tileCoord[2] = tileRange.minY; tileCoord[2] <= tileRange.maxY; ++tileCoord[2]) {\n                extents.push(toUserExtent(tileGrid.getTileCoordExtent(tileCoord), projection));\n            }\n        }\n        return extents;\n    });\n}\n//# sourceMappingURL=loadingstrategy.js.map","/**\n * @module ol/format/FormatType\n */\n/**\n * @enum {string}\n */\nexport default {\n    ARRAY_BUFFER: 'arraybuffer',\n    JSON: 'json',\n    TEXT: 'text',\n    XML: 'xml',\n};\n//# sourceMappingURL=FormatType.js.map","/**\n * @module ol/featureloader\n */\nimport FormatType from './format/FormatType.js';\nimport { VOID } from './functions.js';\n/**\n *\n * @type {boolean}\n * @private\n */\nvar withCredentials = false;\n/**\n * {@link module:ol/source/Vector} sources use a function of this type to\n * load features.\n *\n * This function takes up to 5 arguments. These are an {@link module:ol/extent~Extent} representing\n * the area to be loaded, a `{number}` representing the resolution (map units per pixel), an\n * {@link module:ol/proj/Projection} for the projection, an optional success callback that should get\n * the loaded features passed as an argument and an optional failure callback with no arguments. If\n * the callbacks are not used, the corresponding vector source will not fire `'featuresloadend'` and\n * `'featuresloaderror'` events. `this` within the function is bound to the\n * {@link module:ol/source/Vector} it's called from.\n *\n * The function is responsible for loading the features and adding them to the\n * source.\n * @typedef {function(this:(import(\"./source/Vector\").default|import(\"./VectorTile.js\").default),\n *           import(\"./extent.js\").Extent,\n *           number,\n *           import(\"./proj/Projection.js\").default,\n *           function(Array<import(\"./Feature.js\").default>): void=,\n *           function(): void=): void} FeatureLoader\n * @api\n */\n/**\n * {@link module:ol/source/Vector} sources use a function of this type to\n * get the url to load features from.\n *\n * This function takes an {@link module:ol/extent~Extent} representing the area\n * to be loaded, a `{number}` representing the resolution (map units per pixel)\n * and an {@link module:ol/proj/Projection} for the projection  as\n * arguments and returns a `{string}` representing the URL.\n * @typedef {function(import(\"./extent.js\").Extent, number, import(\"./proj/Projection.js\").default): string} FeatureUrlFunction\n * @api\n */\n/**\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @param {function(Array<import(\"./Feature.js\").default>, import(\"./proj/Projection.js\").default): void} success Success\n *      Function called with the loaded features and optionally with the data projection.\n * @param {function(): void} failure Failure\n *      Function called when loading failed.\n */\nexport function loadFeaturesXhr(url, format, extent, resolution, projection, success, failure) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', typeof url === 'function' ? url(extent, resolution, projection) : url, true);\n    if (format.getType() == FormatType.ARRAY_BUFFER) {\n        xhr.responseType = 'arraybuffer';\n    }\n    xhr.withCredentials = withCredentials;\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    xhr.onload = function (event) {\n        // status will be 0 for file:// urls\n        if (!xhr.status || (xhr.status >= 200 && xhr.status < 300)) {\n            var type = format.getType();\n            /** @type {Document|Node|Object|string|undefined} */\n            var source = void 0;\n            if (type == FormatType.JSON || type == FormatType.TEXT) {\n                source = xhr.responseText;\n            }\n            else if (type == FormatType.XML) {\n                source = xhr.responseXML;\n                if (!source) {\n                    source = new DOMParser().parseFromString(xhr.responseText, 'application/xml');\n                }\n            }\n            else if (type == FormatType.ARRAY_BUFFER) {\n                source = /** @type {ArrayBuffer} */ (xhr.response);\n            }\n            if (source) {\n                success(\n                /** @type {Array<import(\"./Feature.js\").default>} */\n                (format.readFeatures(source, {\n                    extent: extent,\n                    featureProjection: projection,\n                })), format.readProjection(source));\n            }\n            else {\n                failure();\n            }\n        }\n        else {\n            failure();\n        }\n    };\n    /**\n     * @private\n     */\n    xhr.onerror = failure;\n    xhr.send();\n}\n/**\n * Create an XHR feature loader for a `url` and `format`. The feature loader\n * loads features (with XHR), parses the features, and adds them to the\n * vector source.\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @return {FeatureLoader} The feature loader.\n * @api\n */\nexport function xhr(url, format) {\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @param {function(Array<import(\"./Feature.js\").default>): void} [success] Success\n     *      Function called when loading succeeded.\n     * @param {function(): void} [failure] Failure\n     *      Function called when loading failed.\n     * @this {import(\"./source/Vector\").default}\n     */\n    return function (extent, resolution, projection, success, failure) {\n        var source = /** @type {import(\"./source/Vector\").default} */ (this);\n        loadFeaturesXhr(url, format, extent, resolution, projection, \n        /**\n         * @param {Array<import(\"./Feature.js\").default>} features The loaded features.\n         * @param {import(\"./proj/Projection.js\").default} dataProjection Data\n         * projection.\n         */\n        function (features, dataProjection) {\n            source.addFeatures(features);\n            if (success !== undefined) {\n                success(features);\n            }\n        }, \n        /* FIXME handle error */ failure ? failure : VOID);\n    };\n}\n/**\n * Setter for the withCredentials configuration for the XHR.\n *\n * @param {boolean} xhrWithCredentials The value of withCredentials to set.\n * Compare https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/\n * @api\n */\nexport function setWithCredentials(xhrWithCredentials) {\n    withCredentials = xhrWithCredentials;\n}\n//# sourceMappingURL=featureloader.js.map","/**\n * @module ol/source/Vector\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport EventType from '../events/EventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport RBush from '../structs/RBush.js';\nimport Source from './Source.js';\nimport SourceState from './State.js';\nimport VectorEventType from './VectorEventType.js';\nimport { TRUE, VOID } from '../functions.js';\nimport { all as allStrategy } from '../loadingstrategy.js';\nimport { assert } from '../asserts.js';\nimport { containsExtent, equals } from '../extent.js';\nimport { extend } from '../array.js';\nimport { getUid } from '../util.js';\nimport { getValues, isEmpty } from '../obj.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { xhr } from '../featureloader.js';\n/**\n * A function that takes an {@link module:ol/extent~Extent} and a resolution as arguments, and\n * returns an array of {@link module:ol/extent~Extent} with the extents to load. Usually this\n * is one of the standard {@link module:ol/loadingstrategy} strategies.\n *\n * @typedef {function(import(\"../extent.js\").Extent, number, import(\"../proj/Projection.js\").default): Array<import(\"../extent.js\").Extent>} LoadingStrategy\n * @api\n */\n/**\n * @classdesc\n * Events emitted by {@link module:ol/source/Vector} instances are instances of this\n * type.\n * @template {import(\"../geom/Geometry.js\").default} Geometry\n */\nvar VectorSourceEvent = /** @class */ (function (_super) {\n    __extends(VectorSourceEvent, _super);\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../Feature.js\").default<Geometry>} [opt_feature] Feature.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} [opt_features] Features.\n     */\n    function VectorSourceEvent(type, opt_feature, opt_features) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The added or removed feature for the `ADDFEATURE` and `REMOVEFEATURE` events, `undefined` otherwise.\n         * @type {import(\"../Feature.js\").default<Geometry>|undefined}\n         * @api\n         */\n        _this.feature = opt_feature;\n        /**\n         * The loaded features for the `FEATURESLOADED` event, `undefined` otherwise.\n         * @type {Array<import(\"../Feature.js\").default<Geometry>>|undefined}\n         * @api\n         */\n        _this.features = opt_features;\n        return _this;\n    }\n    return VectorSourceEvent;\n}(Event));\nexport { VectorSourceEvent };\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./VectorEventType\").VectorSourceEventTypes, VectorSourceEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     import(\"./VectorEventType\").VectorSourceEventTypes, Return>} VectorSourceOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {Array<import(\"../Feature.js\").default>|Collection<import(\"../Feature.js\").default>} [features]\n * Features. If provided as {@link module:ol/Collection}, the features in the source\n * and the collection will stay in sync.\n * @property {import(\"../format/Feature.js\").default} [format] The feature format used by the XHR\n * feature loader when `url` is set. Required if `url` is set, otherwise ignored.\n * @property {import(\"../featureloader.js\").FeatureLoader} [loader]\n * The loader function used to load features, from a remote source for example.\n * If this is not set and `url` is set, the source will create and use an XHR\n * feature loader. The `'featuresloadend'` and `'featuresloaderror'` events\n * will only fire if the `success` and `failure` callbacks are used.\n *\n * Example:\n *\n * ```js\n * import {Vector} from 'ol/source';\n * import {GeoJSON} from 'ol/format';\n * import {bbox} from 'ol/loadingstrategy';\n *\n * var vectorSource = new Vector({\n *   format: new GeoJSON(),\n *   loader: function(extent, resolution, projection, success, failure) {\n *      var proj = projection.getCode();\n *      var url = 'https://ahocevar.com/geoserver/wfs?service=WFS&' +\n *          'version=1.1.0&request=GetFeature&typename=osm:water_areas&' +\n *          'outputFormat=application/json&srsname=' + proj + '&' +\n *          'bbox=' + extent.join(',') + ',' + proj;\n *      var xhr = new XMLHttpRequest();\n *      xhr.open('GET', url);\n *      var onError = function() {\n *        vectorSource.removeLoadedExtent(extent);\n *        failure();\n *      }\n *      xhr.onerror = onError;\n *      xhr.onload = function() {\n *        if (xhr.status == 200) {\n *          var features = vectorSource.getFormat().readFeatures(xhr.responseText);\n *          vectorSource.addFeatures(features);\n *          success(features);\n *        } else {\n *          onError();\n *        }\n *      }\n *      xhr.send();\n *    },\n *    strategy: bbox\n *  });\n * ```\n * @property {boolean} [overlaps=true] This source may have overlapping geometries.\n * Setting this to `false` (e.g. for sources with polygons that represent administrative\n * boundaries or TopoJSON sources) allows the renderer to optimise fill and\n * stroke operations.\n * @property {LoadingStrategy} [strategy] The loading strategy to use.\n * By default an {@link module:ol/loadingstrategy.all}\n * strategy is used, a one-off strategy which loads all features at once.\n * @property {string|import(\"../featureloader.js\").FeatureUrlFunction} [url]\n * Setting this option instructs the source to load features using an XHR loader\n * (see {@link module:ol/featureloader.xhr}). Use a `string` and an\n * {@link module:ol/loadingstrategy.all} for a one-off download of all features from\n * the given URL. Use a {@link module:ol/featureloader~FeatureUrlFunction} to generate the url with\n * other loading strategies.\n * Requires `format` to be set as well.\n * When default XHR feature loader is provided, the features will\n * be transformed from the data projection to the view projection\n * during parsing. If your remote data source does not advertise its projection\n * properly, this transformation will be incorrect. For some formats, the\n * default projection (usually EPSG:4326) can be overridden by setting the\n * dataProjection constructor option on the format.\n * Note that if a source contains non-feature data, such as a GeoJSON geometry\n * or a KML NetworkLink, these will be ignored. Use a custom loader to load these.\n * @property {boolean} [useSpatialIndex=true]\n * By default, an RTree is used as spatial index. When features are removed and\n * added frequently, and the total number of features is low, setting this to\n * `false` may improve performance.\n *\n * Note that\n * {@link module:ol/source/Vector~VectorSource#getFeaturesInExtent},\n * {@link module:ol/source/Vector~VectorSource#getClosestFeatureToCoordinate} and\n * {@link module:ol/source/Vector~VectorSource#getExtent} cannot be used when `useSpatialIndex` is\n * set to `false`, and {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent} will loop\n * through all features.\n *\n * When set to `false`, the features will be maintained in an\n * {@link module:ol/Collection}, which can be retrieved through\n * {@link module:ol/source/Vector~VectorSource#getFeaturesCollection}.\n * @property {boolean} [wrapX=true] Wrap the world horizontally. For vector editing across the\n * -180 and 180 meridians to work properly, this should be set to `false`. The\n * resulting geometry coordinates will then exceed the world bounds.\n */\n/**\n * @classdesc\n * Provides a source of features for vector layers. Vector features provided\n * by this source are suitable for editing. See {@link module:ol/source/VectorTile~VectorTile} for\n * vector data that is optimized for rendering.\n *\n * @fires VectorSourceEvent\n * @api\n * @template {import(\"../geom/Geometry.js\").default} Geometry\n */\nvar VectorSource = /** @class */ (function (_super) {\n    __extends(VectorSource, _super);\n    /**\n     * @param {Options} [opt_options] Vector source options.\n     */\n    function VectorSource(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            projection: undefined,\n            state: SourceState.READY,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n        }) || this;\n        /***\n         * @type {VectorSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {VectorSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {VectorSourceOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {import(\"../featureloader.js\").FeatureLoader}\n         */\n        _this.loader_ = VOID;\n        /**\n         * @private\n         * @type {import(\"../format/Feature.js\").default|undefined}\n         */\n        _this.format_ = options.format;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.overlaps_ = options.overlaps === undefined ? true : options.overlaps;\n        /**\n         * @private\n         * @type {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined}\n         */\n        _this.url_ = options.url;\n        if (options.loader !== undefined) {\n            _this.loader_ = options.loader;\n        }\n        else if (_this.url_ !== undefined) {\n            assert(_this.format_, 7); // `format` must be set when `url` is set\n            // create a XHR feature loader for \"url\" and \"format\"\n            _this.loader_ = xhr(_this.url_, \n            /** @type {import(\"../format/Feature.js\").default} */ (_this.format_));\n        }\n        /**\n         * @private\n         * @type {LoadingStrategy}\n         */\n        _this.strategy_ =\n            options.strategy !== undefined ? options.strategy : allStrategy;\n        var useSpatialIndex = options.useSpatialIndex !== undefined ? options.useSpatialIndex : true;\n        /**\n         * @private\n         * @type {RBush<import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.featuresRtree_ = useSpatialIndex ? new RBush() : null;\n        /**\n         * @private\n         * @type {RBush<{extent: import(\"../extent.js\").Extent}>}\n         */\n        _this.loadedExtentsRtree_ = new RBush();\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.loadingExtentsCount_ = 0;\n        /**\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.nullGeometryFeatures_ = {};\n        /**\n         * A lookup of features by id (the return from feature.getId()).\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.idIndex_ = {};\n        /**\n         * A lookup of features by uid (using getUid(feature)).\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.uidIndex_ = {};\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n         */\n        _this.featureChangeKeys_ = {};\n        /**\n         * @private\n         * @type {Collection<import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.featuresCollection_ = null;\n        var collection, features;\n        if (Array.isArray(options.features)) {\n            features = options.features;\n        }\n        else if (options.features) {\n            collection = options.features;\n            features = collection.getArray();\n        }\n        if (!useSpatialIndex && collection === undefined) {\n            collection = new Collection(features);\n        }\n        if (features !== undefined) {\n            _this.addFeaturesInternal(features);\n        }\n        if (collection !== undefined) {\n            _this.bindFeaturesCollection_(collection);\n        }\n        return _this;\n    }\n    /**\n     * Add a single feature to the source.  If you want to add a batch of features\n     * at once, call {@link module:ol/source/Vector~VectorSource#addFeatures #addFeatures()}\n     * instead. A feature will not be added to the source if feature with\n     * the same id is already there. The reason for this behavior is to avoid\n     * feature duplication when using bbox or tile loading strategies.\n     * Note: this also applies if an {@link module:ol/Collection} is used for features,\n     * meaning that if a feature with a duplicate id is added in the collection, it will\n     * be removed from it right away.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature to add.\n     * @api\n     */\n    VectorSource.prototype.addFeature = function (feature) {\n        this.addFeatureInternal(feature);\n        this.changed();\n    };\n    /**\n     * Add a feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.addFeatureInternal = function (feature) {\n        var featureKey = getUid(feature);\n        if (!this.addToIndex_(featureKey, feature)) {\n            if (this.featuresCollection_) {\n                this.featuresCollection_.remove(feature);\n            }\n            return;\n        }\n        this.setupChangeEvents_(featureKey, feature);\n        var geometry = feature.getGeometry();\n        if (geometry) {\n            var extent = geometry.getExtent();\n            if (this.featuresRtree_) {\n                this.featuresRtree_.insert(extent, feature);\n            }\n        }\n        else {\n            this.nullGeometryFeatures_[featureKey] = feature;\n        }\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, feature));\n    };\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @private\n     */\n    VectorSource.prototype.setupChangeEvents_ = function (featureKey, feature) {\n        this.featureChangeKeys_[featureKey] = [\n            listen(feature, EventType.CHANGE, this.handleFeatureChange_, this),\n            listen(feature, ObjectEventType.PROPERTYCHANGE, this.handleFeatureChange_, this),\n        ];\n    };\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @return {boolean} The feature is \"valid\", in the sense that it is also a\n     *     candidate for insertion into the Rtree.\n     * @private\n     */\n    VectorSource.prototype.addToIndex_ = function (featureKey, feature) {\n        var valid = true;\n        var id = feature.getId();\n        if (id !== undefined) {\n            if (!(id.toString() in this.idIndex_)) {\n                this.idIndex_[id.toString()] = feature;\n            }\n            else {\n                valid = false;\n            }\n        }\n        if (valid) {\n            assert(!(featureKey in this.uidIndex_), 30); // The passed `feature` was already added to the source\n            this.uidIndex_[featureKey] = feature;\n        }\n        return valid;\n    };\n    /**\n     * Add a batch of features to the source.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} features Features to add.\n     * @api\n     */\n    VectorSource.prototype.addFeatures = function (features) {\n        this.addFeaturesInternal(features);\n        this.changed();\n    };\n    /**\n     * Add features without firing a `change` event.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} features Features.\n     * @protected\n     */\n    VectorSource.prototype.addFeaturesInternal = function (features) {\n        var extents = [];\n        var newFeatures = [];\n        var geometryFeatures = [];\n        for (var i = 0, length_1 = features.length; i < length_1; i++) {\n            var feature = features[i];\n            var featureKey = getUid(feature);\n            if (this.addToIndex_(featureKey, feature)) {\n                newFeatures.push(feature);\n            }\n        }\n        for (var i = 0, length_2 = newFeatures.length; i < length_2; i++) {\n            var feature = newFeatures[i];\n            var featureKey = getUid(feature);\n            this.setupChangeEvents_(featureKey, feature);\n            var geometry = feature.getGeometry();\n            if (geometry) {\n                var extent = geometry.getExtent();\n                extents.push(extent);\n                geometryFeatures.push(feature);\n            }\n            else {\n                this.nullGeometryFeatures_[featureKey] = feature;\n            }\n        }\n        if (this.featuresRtree_) {\n            this.featuresRtree_.load(extents, geometryFeatures);\n        }\n        for (var i = 0, length_3 = newFeatures.length; i < length_3; i++) {\n            this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, newFeatures[i]));\n        }\n    };\n    /**\n     * @param {!Collection<import(\"../Feature.js\").default<Geometry>>} collection Collection.\n     * @private\n     */\n    VectorSource.prototype.bindFeaturesCollection_ = function (collection) {\n        var modifyingCollection = false;\n        this.addEventListener(VectorEventType.ADDFEATURE, \n        /**\n         * @param {VectorSourceEvent<Geometry>} evt The vector source event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                collection.push(evt.feature);\n                modifyingCollection = false;\n            }\n        });\n        this.addEventListener(VectorEventType.REMOVEFEATURE, \n        /**\n         * @param {VectorSourceEvent<Geometry>} evt The vector source event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                collection.remove(evt.feature);\n                modifyingCollection = false;\n            }\n        });\n        collection.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                this.addFeature(\n                /** @type {import(\"../Feature.js\").default<Geometry>} */ (evt.element));\n                modifyingCollection = false;\n            }\n        }.bind(this));\n        collection.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                this.removeFeature(\n                /** @type {import(\"../Feature.js\").default<Geometry>} */ (evt.element));\n                modifyingCollection = false;\n            }\n        }.bind(this));\n        this.featuresCollection_ = collection;\n    };\n    /**\n     * Remove all features from the source.\n     * @param {boolean} [opt_fast] Skip dispatching of {@link module:ol/source/Vector.VectorSourceEvent#event:removefeature removefeature} events.\n     * @api\n     */\n    VectorSource.prototype.clear = function (opt_fast) {\n        if (opt_fast) {\n            for (var featureId in this.featureChangeKeys_) {\n                var keys = this.featureChangeKeys_[featureId];\n                keys.forEach(unlistenByKey);\n            }\n            if (!this.featuresCollection_) {\n                this.featureChangeKeys_ = {};\n                this.idIndex_ = {};\n                this.uidIndex_ = {};\n            }\n        }\n        else {\n            if (this.featuresRtree_) {\n                this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));\n                for (var id in this.nullGeometryFeatures_) {\n                    this.removeFeatureInternal(this.nullGeometryFeatures_[id]);\n                }\n            }\n        }\n        if (this.featuresCollection_) {\n            this.featuresCollection_.clear();\n        }\n        if (this.featuresRtree_) {\n            this.featuresRtree_.clear();\n        }\n        this.nullGeometryFeatures_ = {};\n        var clearEvent = new VectorSourceEvent(VectorEventType.CLEAR);\n        this.dispatchEvent(clearEvent);\n        this.changed();\n    };\n    /**\n     * Iterate through all features on the source, calling the provided callback\n     * with each one.  If the callback returns any \"truthy\" value, iteration will\n     * stop and the function will return the same value.\n     * Note: this function only iterate through the feature that have a defined geometry.\n     *\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     on the source.  Return a truthy value to stop iteration.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeature = function (callback) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.forEach(callback);\n        }\n        else if (this.featuresCollection_) {\n            this.featuresCollection_.forEach(callback);\n        }\n    };\n    /**\n     * Iterate through all features whose geometries contain the provided\n     * coordinate, calling the callback with each feature.  If the callback returns\n     * a \"truthy\" value, iteration will stop and the function will return the same\n     * value.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose goemetry contains the provided coordinate.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     */\n    VectorSource.prototype.forEachFeatureAtCoordinateDirect = function (coordinate, callback) {\n        var extent = [coordinate[0], coordinate[1], coordinate[0], coordinate[1]];\n        return this.forEachFeatureInExtent(extent, function (feature) {\n            var geometry = feature.getGeometry();\n            if (geometry.intersectsCoordinate(coordinate)) {\n                return callback(feature);\n            }\n            else {\n                return undefined;\n            }\n        });\n    };\n    /**\n     * Iterate through all features whose bounding box intersects the provided\n     * extent (note that the feature's geometry may not intersect the extent),\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you are interested in features whose geometry intersects an extent, call\n     * the {@link module:ol/source/Vector~VectorSource#forEachFeatureIntersectingExtent #forEachFeatureIntersectingExtent()} method instead.\n     *\n     * When `useSpatialIndex` is set to false, this method will loop through all\n     * features, equivalent to {@link module:ol/source/Vector~VectorSource#forEachFeature #forEachFeature()}.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose bounding box intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureInExtent = function (extent, callback) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.forEachInExtent(extent, callback);\n        }\n        else if (this.featuresCollection_) {\n            this.featuresCollection_.forEach(callback);\n        }\n    };\n    /**\n     * Iterate through all features whose geometry intersects the provided extent,\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you only want to test for bounding box intersection, call the\n     * {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent #forEachFeatureInExtent()} method instead.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose geometry intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureIntersectingExtent = function (extent, callback) {\n        return this.forEachFeatureInExtent(extent, \n        /**\n         * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n         * @return {T|undefined} The return value from the last call to the callback.\n         */\n        function (feature) {\n            var geometry = feature.getGeometry();\n            if (geometry.intersectsExtent(extent)) {\n                var result = callback(feature);\n                if (result) {\n                    return result;\n                }\n            }\n        });\n    };\n    /**\n     * Get the features collection associated with this source. Will be `null`\n     * unless the source was configured with `useSpatialIndex` set to `false`, or\n     * with an {@link module:ol/Collection} as `features`.\n     * @return {Collection<import(\"../Feature.js\").default<Geometry>>} The collection of features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesCollection = function () {\n        return this.featuresCollection_;\n    };\n    /**\n     * Get a snapshot of the features currently on the source in random order. The returned array\n     * is a copy, the features are references to the features in the source.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeatures = function () {\n        var features;\n        if (this.featuresCollection_) {\n            features = this.featuresCollection_.getArray().slice(0);\n        }\n        else if (this.featuresRtree_) {\n            features = this.featuresRtree_.getAll();\n            if (!isEmpty(this.nullGeometryFeatures_)) {\n                extend(features, getValues(this.nullGeometryFeatures_));\n            }\n        }\n        return /** @type {Array<import(\"../Feature.js\").default<Geometry>>} */ (features);\n    };\n    /**\n     * Get all features whose geometry intersects the provided coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesAtCoordinate = function (coordinate) {\n        var features = [];\n        this.forEachFeatureAtCoordinateDirect(coordinate, function (feature) {\n            features.push(feature);\n        });\n        return features;\n    };\n    /**\n     * Get all features whose bounding box intersects the provided extent.  Note that this returns an array of\n     * all features intersecting the given extent in random order (so it may include\n     * features whose geometries do not intersect the extent).\n     *\n     * When `useSpatialIndex` is set to false, this method will return all\n     * features.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesInExtent = function (extent) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.getInExtent(extent);\n        }\n        else if (this.featuresCollection_) {\n            return this.featuresCollection_.getArray().slice(0);\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Get the closest feature to the provided coordinate.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default<Geometry>):boolean} [opt_filter] Feature filter function.\n     *     The filter function will receive one argument, the {@link module:ol/Feature feature}\n     *     and it should return a boolean value. By default, no filtering is made.\n     * @return {import(\"../Feature.js\").default<Geometry>} Closest feature.\n     * @api\n     */\n    VectorSource.prototype.getClosestFeatureToCoordinate = function (coordinate, opt_filter) {\n        // Find the closest feature using branch and bound.  We start searching an\n        // infinite extent, and find the distance from the first feature found.  This\n        // becomes the closest feature.  We then compute a smaller extent which any\n        // closer feature must intersect.  We continue searching with this smaller\n        // extent, trying to find a closer feature.  Every time we find a closer\n        // feature, we update the extent being searched so that any even closer\n        // feature must intersect it.  We continue until we run out of features.\n        var x = coordinate[0];\n        var y = coordinate[1];\n        var closestFeature = null;\n        var closestPoint = [NaN, NaN];\n        var minSquaredDistance = Infinity;\n        var extent = [-Infinity, -Infinity, Infinity, Infinity];\n        var filter = opt_filter ? opt_filter : TRUE;\n        this.featuresRtree_.forEachInExtent(extent, \n        /**\n         * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n         */\n        function (feature) {\n            if (filter(feature)) {\n                var geometry = feature.getGeometry();\n                var previousMinSquaredDistance = minSquaredDistance;\n                minSquaredDistance = geometry.closestPointXY(x, y, closestPoint, minSquaredDistance);\n                if (minSquaredDistance < previousMinSquaredDistance) {\n                    closestFeature = feature;\n                    // This is sneaky.  Reduce the extent that it is currently being\n                    // searched while the R-Tree traversal using this same extent object\n                    // is still in progress.  This is safe because the new extent is\n                    // strictly contained by the old extent.\n                    var minDistance = Math.sqrt(minSquaredDistance);\n                    extent[0] = x - minDistance;\n                    extent[1] = y - minDistance;\n                    extent[2] = x + minDistance;\n                    extent[3] = y + minDistance;\n                }\n            }\n        });\n        return closestFeature;\n    };\n    /**\n     * Get the extent of the features currently in the source.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Destination extent. If provided, no new extent\n     *     will be created. Instead, that extent's coordinates will be overwritten.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    VectorSource.prototype.getExtent = function (opt_extent) {\n        return this.featuresRtree_.getExtent(opt_extent);\n    };\n    /**\n     * Get a feature by its identifier (the value returned by feature.getId()).\n     * Note that the index treats string and numeric identifiers as the same.  So\n     * `source.getFeatureById(2)` will return a feature with id `'2'` or `2`.\n     *\n     * @param {string|number} id Feature identifier.\n     * @return {import(\"../Feature.js\").default<Geometry>} The feature (or `null` if not found).\n     * @api\n     */\n    VectorSource.prototype.getFeatureById = function (id) {\n        var feature = this.idIndex_[id.toString()];\n        return feature !== undefined ? feature : null;\n    };\n    /**\n     * Get a feature by its internal unique identifier (using `getUid`).\n     *\n     * @param {string} uid Feature identifier.\n     * @return {import(\"../Feature.js\").default<Geometry>} The feature (or `null` if not found).\n     */\n    VectorSource.prototype.getFeatureByUid = function (uid) {\n        var feature = this.uidIndex_[uid];\n        return feature !== undefined ? feature : null;\n    };\n    /**\n     * Get the format associated with this source.\n     *\n     * @return {import(\"../format/Feature.js\").default|undefined} The feature format.\n     * @api\n     */\n    VectorSource.prototype.getFormat = function () {\n        return this.format_;\n    };\n    /**\n     * @return {boolean} The source can have overlapping geometries.\n     */\n    VectorSource.prototype.getOverlaps = function () {\n        return this.overlaps_;\n    };\n    /**\n     * Get the url associated with this source.\n     *\n     * @return {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined} The url.\n     * @api\n     */\n    VectorSource.prototype.getUrl = function () {\n        return this.url_;\n    };\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    VectorSource.prototype.handleFeatureChange_ = function (event) {\n        var feature = /** @type {import(\"../Feature.js\").default<Geometry>} */ (event.target);\n        var featureKey = getUid(feature);\n        var geometry = feature.getGeometry();\n        if (!geometry) {\n            if (!(featureKey in this.nullGeometryFeatures_)) {\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.remove(feature);\n                }\n                this.nullGeometryFeatures_[featureKey] = feature;\n            }\n        }\n        else {\n            var extent = geometry.getExtent();\n            if (featureKey in this.nullGeometryFeatures_) {\n                delete this.nullGeometryFeatures_[featureKey];\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.insert(extent, feature);\n                }\n            }\n            else {\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.update(extent, feature);\n                }\n            }\n        }\n        var id = feature.getId();\n        if (id !== undefined) {\n            var sid = id.toString();\n            if (this.idIndex_[sid] !== feature) {\n                this.removeFromIdIndex_(feature);\n                this.idIndex_[sid] = feature;\n            }\n        }\n        else {\n            this.removeFromIdIndex_(feature);\n            this.uidIndex_[featureKey] = feature;\n        }\n        this.changed();\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.CHANGEFEATURE, feature));\n    };\n    /**\n     * Returns true if the feature is contained within the source.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @return {boolean} Has feature.\n     * @api\n     */\n    VectorSource.prototype.hasFeature = function (feature) {\n        var id = feature.getId();\n        if (id !== undefined) {\n            return id in this.idIndex_;\n        }\n        else {\n            return getUid(feature) in this.uidIndex_;\n        }\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    VectorSource.prototype.isEmpty = function () {\n        return this.featuresRtree_.isEmpty() && isEmpty(this.nullGeometryFeatures_);\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    VectorSource.prototype.loadFeatures = function (extent, resolution, projection) {\n        var loadedExtentsRtree = this.loadedExtentsRtree_;\n        var extentsToLoad = this.strategy_(extent, resolution, projection);\n        var _loop_1 = function (i, ii) {\n            var extentToLoad = extentsToLoad[i];\n            var alreadyLoaded = loadedExtentsRtree.forEachInExtent(extentToLoad, \n            /**\n             * @param {{extent: import(\"../extent.js\").Extent}} object Object.\n             * @return {boolean} Contains.\n             */\n            function (object) {\n                return containsExtent(object.extent, extentToLoad);\n            });\n            if (!alreadyLoaded) {\n                ++this_1.loadingExtentsCount_;\n                this_1.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADSTART));\n                this_1.loader_.call(this_1, extentToLoad, resolution, projection, function (features) {\n                    --this.loadingExtentsCount_;\n                    this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADEND, undefined, features));\n                }.bind(this_1), function () {\n                    --this.loadingExtentsCount_;\n                    this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADERROR));\n                }.bind(this_1));\n                loadedExtentsRtree.insert(extentToLoad, { extent: extentToLoad.slice() });\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, ii = extentsToLoad.length; i < ii; ++i) {\n            _loop_1(i, ii);\n        }\n        this.loading =\n            this.loader_.length < 4 ? false : this.loadingExtentsCount_ > 0;\n    };\n    VectorSource.prototype.refresh = function () {\n        this.clear(true);\n        this.loadedExtentsRtree_.clear();\n        _super.prototype.refresh.call(this);\n    };\n    /**\n     * Remove an extent from the list of loaded extents.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    VectorSource.prototype.removeLoadedExtent = function (extent) {\n        var loadedExtentsRtree = this.loadedExtentsRtree_;\n        var obj;\n        loadedExtentsRtree.forEachInExtent(extent, function (object) {\n            if (equals(object.extent, extent)) {\n                obj = object;\n                return true;\n            }\n        });\n        if (obj) {\n            loadedExtentsRtree.remove(obj);\n        }\n    };\n    /**\n     * Remove a single feature from the source.  If you want to remove all features\n     * at once, use the {@link module:ol/source/Vector~VectorSource#clear #clear()} method\n     * instead.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature to remove.\n     * @api\n     */\n    VectorSource.prototype.removeFeature = function (feature) {\n        var featureKey = getUid(feature);\n        if (featureKey in this.nullGeometryFeatures_) {\n            delete this.nullGeometryFeatures_[featureKey];\n        }\n        else {\n            if (this.featuresRtree_) {\n                this.featuresRtree_.remove(feature);\n            }\n        }\n        this.removeFeatureInternal(feature);\n        this.changed();\n    };\n    /**\n     * Remove feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.removeFeatureInternal = function (feature) {\n        var featureKey = getUid(feature);\n        this.featureChangeKeys_[featureKey].forEach(unlistenByKey);\n        delete this.featureChangeKeys_[featureKey];\n        var id = feature.getId();\n        if (id !== undefined) {\n            delete this.idIndex_[id.toString()];\n        }\n        delete this.uidIndex_[featureKey];\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.REMOVEFEATURE, feature));\n    };\n    /**\n     * Remove a feature from the id index.  Called internally when the feature id\n     * may have changed.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @return {boolean} Removed the feature from the index.\n     * @private\n     */\n    VectorSource.prototype.removeFromIdIndex_ = function (feature) {\n        var removed = false;\n        for (var id in this.idIndex_) {\n            if (this.idIndex_[id] === feature) {\n                delete this.idIndex_[id];\n                removed = true;\n                break;\n            }\n        }\n        return removed;\n    };\n    /**\n     * Set the new loader of the source. The next render cycle will use the\n     * new loader.\n     * @param {import(\"../featureloader.js\").FeatureLoader} loader The loader to set.\n     * @api\n     */\n    VectorSource.prototype.setLoader = function (loader) {\n        this.loader_ = loader;\n    };\n    /**\n     * Points the source to a new url. The next render cycle will use the new url.\n     * @param {string|import(\"../featureloader.js\").FeatureUrlFunction} url Url.\n     * @api\n     */\n    VectorSource.prototype.setUrl = function (url) {\n        assert(this.format_, 7); // `format` must be set when `url` is set\n        this.url_ = url;\n        this.setLoader(xhr(url, this.format_));\n    };\n    return VectorSource;\n}(Source));\nexport default VectorSource;\n//# sourceMappingURL=Vector.js.map","/**\n * @module ol/render\n */\nimport CanvasImmediateRenderer from './render/canvas/Immediate.js';\nimport { DEVICE_PIXEL_RATIO } from './has.js';\nimport { apply as applyTransform, create as createTransform, multiply as multiplyTransform, scale as scaleTransform, } from './transform.js';\nimport { getSquaredTolerance } from './renderer/vector.js';\nimport { getTransformFromProjections, getUserProjection } from './proj.js';\n/**\n * @typedef {Object} State\n * @property {CanvasRenderingContext2D} context Canvas context that the layer is being rendered to.\n * @property {import(\"./Feature.js\").FeatureLike} feature Feature.\n * @property {import(\"./geom/SimpleGeometry.js\").default} geometry Geometry.\n * @property {number} pixelRatio Pixel ratio used by the layer renderer.\n * @property {number} resolution Resolution that the render batch was created and optimized for.\n * This is not the view's resolution that is being rendered.\n * @property {number} rotation Rotation of the rendered layer in radians.\n */\n/**\n * A function to be used when sorting features before rendering.\n * It takes two instances of {@link module:ol/Feature} or\n * {@link module:ol/render/Feature} and returns a `{number}`.\n *\n * @typedef {function(import(\"./Feature.js\").FeatureLike, import(\"./Feature.js\").FeatureLike):number} OrderFunction\n */\n/**\n * @typedef {Object} ToContextOptions\n * @property {import(\"./size.js\").Size} [size] Desired size of the canvas in css\n * pixels. When provided, both canvas and css size will be set according to the\n * `pixelRatio`. If not provided, the current canvas and css sizes will not be\n * altered.\n * @property {number} [pixelRatio=window.devicePixelRatio] Pixel ratio (canvas\n * pixel to css pixel ratio) for the canvas.\n */\n/**\n * Binds a Canvas Immediate API to a canvas context, to allow drawing geometries\n * to the context's canvas.\n *\n * The units for geometry coordinates are css pixels relative to the top left\n * corner of the canvas element.\n * ```js\n * import {toContext} from 'ol/render';\n * import Fill from 'ol/style/Fill';\n * import Polygon from 'ol/geom/Polygon';\n *\n * var canvas = document.createElement('canvas');\n * var render = toContext(canvas.getContext('2d'),\n *     { size: [100, 100] });\n * render.setFillStrokeStyle(new Fill({ color: blue }));\n * render.drawPolygon(\n *     new Polygon([[[0, 0], [100, 100], [100, 0], [0, 0]]]));\n * ```\n *\n * @param {CanvasRenderingContext2D} context Canvas context.\n * @param {ToContextOptions} [opt_options] Options.\n * @return {CanvasImmediateRenderer} Canvas Immediate.\n * @api\n */\nexport function toContext(context, opt_options) {\n    var canvas = context.canvas;\n    var options = opt_options ? opt_options : {};\n    var pixelRatio = options.pixelRatio || DEVICE_PIXEL_RATIO;\n    var size = options.size;\n    if (size) {\n        canvas.width = size[0] * pixelRatio;\n        canvas.height = size[1] * pixelRatio;\n        canvas.style.width = size[0] + 'px';\n        canvas.style.height = size[1] + 'px';\n    }\n    var extent = [0, 0, canvas.width, canvas.height];\n    var transform = scaleTransform(createTransform(), pixelRatio, pixelRatio);\n    return new CanvasImmediateRenderer(context, pixelRatio, extent, transform, 0);\n}\n/**\n * Gets a vector context for drawing to the event's canvas.\n * @param {import(\"./render/Event.js\").default} event Render event.\n * @return {CanvasImmediateRenderer} Vector context.\n * @api\n */\nexport function getVectorContext(event) {\n    // canvas may be at a different pixel ratio than frameState.pixelRatio\n    var canvasPixelRatio = event.inversePixelTransform[0];\n    var frameState = event.frameState;\n    var transform = multiplyTransform(event.inversePixelTransform.slice(), frameState.coordinateToPixelTransform);\n    var squaredTolerance = getSquaredTolerance(frameState.viewState.resolution, canvasPixelRatio);\n    var userTransform;\n    var userProjection = getUserProjection();\n    if (userProjection) {\n        userTransform = getTransformFromProjections(userProjection, frameState.viewState.projection);\n    }\n    return new CanvasImmediateRenderer(event.context, canvasPixelRatio, frameState.extent, transform, frameState.viewState.rotation, squaredTolerance, userTransform);\n}\n/**\n * Gets the pixel of the event's canvas context from the map viewport's CSS pixel.\n * @param {import(\"./render/Event.js\").default} event Render event.\n * @param {import(\"./pixel.js\").Pixel} pixel CSS pixel relative to the top-left\n * corner of the map viewport.\n * @return {import(\"./pixel.js\").Pixel} Pixel on the event's canvas context.\n * @api\n */\nexport function getRenderPixel(event, pixel) {\n    var result = pixel.slice(0);\n    applyTransform(event.inversePixelTransform.slice(), result);\n    return result;\n}\n//# sourceMappingURL=render.js.map","/**\n * @module ol/geom/flat/geodesic\n */\nimport { get as getProjection, getTransform } from '../../proj.js';\nimport { squaredSegmentDistance, toDegrees, toRadians } from '../../math.js';\n/**\n * @param {function(number): import(\"../../coordinate.js\").Coordinate} interpolate Interpolate function.\n * @param {import(\"../../proj.js\").TransformFunction} transform Transform from longitude/latitude to\n *     projected coordinates.\n * @param {number} squaredTolerance Squared tolerance.\n * @return {Array<number>} Flat coordinates.\n */\nfunction line(interpolate, transform, squaredTolerance) {\n    // FIXME reduce garbage generation\n    // FIXME optimize stack operations\n    /** @type {Array<number>} */\n    var flatCoordinates = [];\n    var geoA = interpolate(0);\n    var geoB = interpolate(1);\n    var a = transform(geoA);\n    var b = transform(geoB);\n    /** @type {Array<import(\"../../coordinate.js\").Coordinate>} */\n    var geoStack = [geoB, geoA];\n    /** @type {Array<import(\"../../coordinate.js\").Coordinate>} */\n    var stack = [b, a];\n    /** @type {Array<number>} */\n    var fractionStack = [1, 0];\n    /** @type {!Object<string, boolean>} */\n    var fractions = {};\n    var maxIterations = 1e5;\n    var geoM, m, fracA, fracB, fracM, key;\n    while (--maxIterations > 0 && fractionStack.length > 0) {\n        // Pop the a coordinate off the stack\n        fracA = fractionStack.pop();\n        geoA = geoStack.pop();\n        a = stack.pop();\n        // Add the a coordinate if it has not been added yet\n        key = fracA.toString();\n        if (!(key in fractions)) {\n            flatCoordinates.push(a[0], a[1]);\n            fractions[key] = true;\n        }\n        // Pop the b coordinate off the stack\n        fracB = fractionStack.pop();\n        geoB = geoStack.pop();\n        b = stack.pop();\n        // Find the m point between the a and b coordinates\n        fracM = (fracA + fracB) / 2;\n        geoM = interpolate(fracM);\n        m = transform(geoM);\n        if (squaredSegmentDistance(m[0], m[1], a[0], a[1], b[0], b[1]) <\n            squaredTolerance) {\n            // If the m point is sufficiently close to the straight line, then we\n            // discard it.  Just use the b coordinate and move on to the next line\n            // segment.\n            flatCoordinates.push(b[0], b[1]);\n            key = fracB.toString();\n            fractions[key] = true;\n        }\n        else {\n            // Otherwise, we need to subdivide the current line segment.  Split it\n            // into two and push the two line segments onto the stack.\n            fractionStack.push(fracB, fracM, fracM, fracA);\n            stack.push(b, m, m, a);\n            geoStack.push(geoB, geoM, geoM, geoA);\n        }\n    }\n    return flatCoordinates;\n}\n/**\n * Generate a great-circle arcs between two lat/lon points.\n * @param {number} lon1 Longitude 1 in degrees.\n * @param {number} lat1 Latitude 1 in degrees.\n * @param {number} lon2 Longitude 2 in degrees.\n * @param {number} lat2 Latitude 2 in degrees.\n * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n * @param {number} squaredTolerance Squared tolerance.\n * @return {Array<number>} Flat coordinates.\n */\nexport function greatCircleArc(lon1, lat1, lon2, lat2, projection, squaredTolerance) {\n    var geoProjection = getProjection('EPSG:4326');\n    var cosLat1 = Math.cos(toRadians(lat1));\n    var sinLat1 = Math.sin(toRadians(lat1));\n    var cosLat2 = Math.cos(toRadians(lat2));\n    var sinLat2 = Math.sin(toRadians(lat2));\n    var cosDeltaLon = Math.cos(toRadians(lon2 - lon1));\n    var sinDeltaLon = Math.sin(toRadians(lon2 - lon1));\n    var d = sinLat1 * sinLat2 + cosLat1 * cosLat2 * cosDeltaLon;\n    return line(\n    /**\n     * @param {number} frac Fraction.\n     * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n     */\n    function (frac) {\n        if (1 <= d) {\n            return [lon2, lat2];\n        }\n        var D = frac * Math.acos(d);\n        var cosD = Math.cos(D);\n        var sinD = Math.sin(D);\n        var y = sinDeltaLon * cosLat2;\n        var x = cosLat1 * sinLat2 - sinLat1 * cosLat2 * cosDeltaLon;\n        var theta = Math.atan2(y, x);\n        var lat = Math.asin(sinLat1 * cosD + cosLat1 * sinD * Math.cos(theta));\n        var lon = toRadians(lon1) +\n            Math.atan2(Math.sin(theta) * sinD * cosLat1, cosD - sinLat1 * Math.sin(lat));\n        return [toDegrees(lon), toDegrees(lat)];\n    }, getTransform(geoProjection, projection), squaredTolerance);\n}\n/**\n * Generate a meridian (line at constant longitude).\n * @param {number} lon Longitude.\n * @param {number} lat1 Latitude 1.\n * @param {number} lat2 Latitude 2.\n * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n * @param {number} squaredTolerance Squared tolerance.\n * @return {Array<number>} Flat coordinates.\n */\nexport function meridian(lon, lat1, lat2, projection, squaredTolerance) {\n    var epsg4326Projection = getProjection('EPSG:4326');\n    return line(\n    /**\n     * @param {number} frac Fraction.\n     * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n     */\n    function (frac) {\n        return [lon, lat1 + (lat2 - lat1) * frac];\n    }, getTransform(epsg4326Projection, projection), squaredTolerance);\n}\n/**\n * Generate a parallel (line at constant latitude).\n * @param {number} lat Latitude.\n * @param {number} lon1 Longitude 1.\n * @param {number} lon2 Longitude 2.\n * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n * @param {number} squaredTolerance Squared tolerance.\n * @return {Array<number>} Flat coordinates.\n */\nexport function parallel(lat, lon1, lon2, projection, squaredTolerance) {\n    var epsg4326Projection = getProjection('EPSG:4326');\n    return line(\n    /**\n     * @param {number} frac Fraction.\n     * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n     */\n    function (frac) {\n        return [lon1 + (lon2 - lon1) * frac, lat];\n    }, getTransform(epsg4326Projection, projection), squaredTolerance);\n}\n//# sourceMappingURL=geodesic.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Graticule\n */\nimport Collection from '../Collection.js';\nimport EventType from '../render/EventType.js';\nimport Feature from '../Feature.js';\nimport Fill from '../style/Fill.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport LineString from '../geom/LineString.js';\nimport Point from '../geom/Point.js';\nimport Stroke from '../style/Stroke.js';\nimport Style from '../style/Style.js';\nimport Text from '../style/Text.js';\nimport VectorLayer from './Vector.js';\nimport VectorSource from '../source/Vector.js';\nimport { applyTransform, approximatelyEquals, containsCoordinate, containsExtent, equals, getCenter, getHeight, getIntersection, getWidth, intersects, isEmpty, wrapX as wrapExtentX, } from '../extent.js';\nimport { assign } from '../obj.js';\nimport { clamp } from '../math.js';\nimport { degreesToStringHDMS } from '../coordinate.js';\nimport { equivalent as equivalentProjection, get as getProjection, getTransform, } from '../proj.js';\nimport { getVectorContext } from '../render.js';\nimport { meridian, parallel } from '../geom/flat/geodesic.js';\n/**\n * @type {Stroke}\n * @private\n * @const\n */\nvar DEFAULT_STROKE_STYLE = new Stroke({\n    color: 'rgba(0,0,0,0.2)',\n});\n/**\n * @type {Array<number>}\n * @private\n */\nvar INTERVALS = [\n    90, 45, 30, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1, 0.05, 0.01, 0.005, 0.002, 0.001,\n];\n/**\n * @typedef {Object} GraticuleLabelDataType\n * @property {Point} geom Geometry.\n * @property {string} text Text.\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {number} [maxLines=100] The maximum number of meridians and\n * parallels from the center of the map. The default value of 100 means that at\n * most 200 meridians and 200 parallels will be displayed. The default value is\n * appropriate for conformal projections like Spherical Mercator. If you\n * increase the value, more lines will be drawn and the drawing performance will\n * decrease.\n * @property {Stroke} [strokeStyle='rgba(0,0,0,0.2)'] The\n * stroke style to use for drawing the graticule. If not provided, a not fully\n * opaque black will be used.\n * @property {number} [targetSize=100] The target size of the graticule cells,\n * in pixels.\n * @property {boolean} [showLabels=false] Render a label with the respective\n * latitude/longitude for each graticule line.\n * @property {function(number):string} [lonLabelFormatter] Label formatter for\n * longitudes. This function is called with the longitude as argument, and\n * should return a formatted string representing the longitude. By default,\n * labels are formatted as degrees, minutes, seconds and hemisphere.\n * @property {function(number):string} [latLabelFormatter] Label formatter for\n * latitudes. This function is called with the latitude as argument, and\n * should return a formatted string representing the latitude. By default,\n * labels are formatted as degrees, minutes, seconds and hemisphere.\n * @property {number} [lonLabelPosition=0] Longitude label position in fractions\n * (0..1) of view extent. 0 means at the bottom of the viewport, 1 means at the\n * top.\n * @property {number} [latLabelPosition=1] Latitude label position in fractions\n * (0..1) of view extent. 0 means at the left of the viewport, 1 means at the\n * right.\n * @property {Text} [lonLabelStyle] Longitude label text\n * style. If not provided, the following style will be used:\n * ```js\n * new Text({\n *   font: '12px Calibri,sans-serif',\n *   textBaseline: 'bottom',\n *   fill: new Fill({\n *     color: 'rgba(0,0,0,1)'\n *   }),\n *   stroke: new Stroke({\n *     color: 'rgba(255,255,255,1)',\n *     width: 3\n *   })\n * });\n * ```\n * Note that the default's `textBaseline` configuration will not work well for\n * `lonLabelPosition` configurations that position labels close to the top of\n * the viewport.\n * @property {Text} [latLabelStyle] Latitude label text style.\n * If not provided, the following style will be used:\n * ```js\n * new Text({\n *   font: '12px Calibri,sans-serif',\n *   textAlign: 'end',\n *   fill: new Fill({\n *     color: 'rgba(0,0,0,1)'\n *   }),\n *   stroke: Stroke({\n *     color: 'rgba(255,255,255,1)',\n *     width: 3\n *   })\n * });\n * ```\n * Note that the default's `textAlign` configuration will not work well for\n * `latLabelPosition` configurations that position labels close to the left of\n * the viewport.\n * @property {Array<number>} [intervals=[90, 45, 30, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1, 0.05, 0.01, 0.005, 0.002, 0.001]]\n * Intervals (in degrees) for the graticule. Example to limit graticules to 30 and 10 degrees intervals:\n * ```js\n * [30, 10]\n * ```\n * @property {boolean} [wrapX=true] Whether to repeat the graticule horizontally.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @classdesc\n * Layer that renders a grid for a coordinate system (currently only EPSG:4326 is supported).\n * Note that the view projection must define both extent and worldExtent.\n *\n * @fires import(\"../render/Event.js\").RenderEvent\n * @extends {VectorLayer<import(\"../source/Vector.js\").default>}\n * @api\n */\nvar Graticule = /** @class */ (function (_super) {\n    __extends(Graticule, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Graticule(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var baseOptions = assign({\n            updateWhileAnimating: true,\n            updateWhileInteracting: true,\n            renderBuffer: 0,\n        }, options);\n        delete baseOptions.maxLines;\n        delete baseOptions.strokeStyle;\n        delete baseOptions.targetSize;\n        delete baseOptions.showLabels;\n        delete baseOptions.lonLabelFormatter;\n        delete baseOptions.latLabelFormatter;\n        delete baseOptions.lonLabelPosition;\n        delete baseOptions.latLabelPosition;\n        delete baseOptions.lonLabelStyle;\n        delete baseOptions.latLabelStyle;\n        delete baseOptions.intervals;\n        _this = _super.call(this, baseOptions) || this;\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.projection_ = null;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.maxLat_ = Infinity;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.maxLon_ = Infinity;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.minLat_ = -Infinity;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.minLon_ = -Infinity;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.maxX_ = Infinity;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.maxY_ = Infinity;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.minX_ = -Infinity;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.minY_ = -Infinity;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.targetSize_ =\n            options.targetSize !== undefined ? options.targetSize : 100;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.maxLines_ = options.maxLines !== undefined ? options.maxLines : 100;\n        /**\n         * @type {Array<LineString>}\n         * @private\n         */\n        _this.meridians_ = [];\n        /**\n         * @type {Array<LineString>}\n         * @private\n         */\n        _this.parallels_ = [];\n        /**\n         * @type {Stroke}\n         * @private\n         */\n        _this.strokeStyle_ =\n            options.strokeStyle !== undefined\n                ? options.strokeStyle\n                : DEFAULT_STROKE_STYLE;\n        /**\n         * @type {import(\"../proj.js\").TransformFunction|undefined}\n         * @private\n         */\n        _this.fromLonLatTransform_ = undefined;\n        /**\n         * @type {import(\"../proj.js\").TransformFunction|undefined}\n         * @private\n         */\n        _this.toLonLatTransform_ = undefined;\n        /**\n         * @type {import(\"../coordinate.js\").Coordinate}\n         * @private\n         */\n        _this.projectionCenterLonLat_ = null;\n        /**\n         * @type {import(\"../coordinate.js\").Coordinate}\n         * @private\n         */\n        _this.bottomLeft_ = null;\n        /**\n         * @type {import(\"../coordinate.js\").Coordinate}\n         * @private\n         */\n        _this.bottomRight_ = null;\n        /**\n         * @type {import(\"../coordinate.js\").Coordinate}\n         * @private\n         */\n        _this.topLeft_ = null;\n        /**\n         * @type {import(\"../coordinate.js\").Coordinate}\n         * @private\n         */\n        _this.topRight_ = null;\n        /**\n         * @type {Array<GraticuleLabelDataType>}\n         * @private\n         */\n        _this.meridiansLabels_ = null;\n        /**\n         * @type {Array<GraticuleLabelDataType>}\n         * @private\n         */\n        _this.parallelsLabels_ = null;\n        if (options.showLabels) {\n            /**\n             * @type {null|function(number):string}\n             * @private\n             */\n            _this.lonLabelFormatter_ =\n                options.lonLabelFormatter == undefined\n                    ? degreesToStringHDMS.bind(_this, 'EW')\n                    : options.lonLabelFormatter;\n            /**\n             * @type {function(number):string}\n             * @private\n             */\n            _this.latLabelFormatter_ =\n                options.latLabelFormatter == undefined\n                    ? degreesToStringHDMS.bind(_this, 'NS')\n                    : options.latLabelFormatter;\n            /**\n             * Longitude label position in fractions (0..1) of view extent. 0 means\n             * bottom, 1 means top.\n             * @type {number}\n             * @private\n             */\n            _this.lonLabelPosition_ =\n                options.lonLabelPosition == undefined ? 0 : options.lonLabelPosition;\n            /**\n             * Latitude Label position in fractions (0..1) of view extent. 0 means left, 1\n             * means right.\n             * @type {number}\n             * @private\n             */\n            _this.latLabelPosition_ =\n                options.latLabelPosition == undefined ? 1 : options.latLabelPosition;\n            /**\n             * @type {Style}\n             * @private\n             */\n            _this.lonLabelStyleBase_ = new Style({\n                text: options.lonLabelStyle !== undefined\n                    ? options.lonLabelStyle.clone()\n                    : new Text({\n                        font: '12px Calibri,sans-serif',\n                        textBaseline: 'bottom',\n                        fill: new Fill({\n                            color: 'rgba(0,0,0,1)',\n                        }),\n                        stroke: new Stroke({\n                            color: 'rgba(255,255,255,1)',\n                            width: 3,\n                        }),\n                    }),\n            });\n            /**\n             * @private\n             * @param {import(\"../Feature\").default} feature Feature\n             * @return {Style} style\n             */\n            _this.lonLabelStyle_ = function (feature) {\n                var label = feature.get('graticule_label');\n                this.lonLabelStyleBase_.getText().setText(label);\n                return this.lonLabelStyleBase_;\n            }.bind(_this);\n            /**\n             * @type {Style}\n             * @private\n             */\n            _this.latLabelStyleBase_ = new Style({\n                text: options.latLabelStyle !== undefined\n                    ? options.latLabelStyle.clone()\n                    : new Text({\n                        font: '12px Calibri,sans-serif',\n                        textAlign: 'right',\n                        fill: new Fill({\n                            color: 'rgba(0,0,0,1)',\n                        }),\n                        stroke: new Stroke({\n                            color: 'rgba(255,255,255,1)',\n                            width: 3,\n                        }),\n                    }),\n            });\n            /**\n             * @private\n             * @param {import(\"../Feature\").default} feature Feature\n             * @return {Style} style\n             */\n            _this.latLabelStyle_ = function (feature) {\n                var label = feature.get('graticule_label');\n                this.latLabelStyleBase_.getText().setText(label);\n                return this.latLabelStyleBase_;\n            }.bind(_this);\n            _this.meridiansLabels_ = [];\n            _this.parallelsLabels_ = [];\n            _this.addEventListener(EventType.POSTRENDER, _this.drawLabels_.bind(_this));\n        }\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        _this.intervals_ =\n            options.intervals !== undefined ? options.intervals : INTERVALS;\n        // use a source with a custom loader for lines & text\n        _this.setSource(new VectorSource({\n            loader: _this.loaderFunction.bind(_this),\n            strategy: _this.strategyFunction.bind(_this),\n            features: new Collection(),\n            overlaps: false,\n            useSpatialIndex: false,\n            wrapX: options.wrapX,\n        }));\n        /**\n         * feature pool to use when updating graticule\n         * @type {Array<Feature>}\n         * @private\n         */\n        _this.featurePool_ = [];\n        /**\n         * @type {Style}\n         * @private\n         */\n        _this.lineStyle_ = new Style({\n            stroke: _this.strokeStyle_,\n        });\n        /**\n         * @type {?import(\"../extent.js\").Extent}\n         * @private\n         */\n        _this.loadedExtent_ = null;\n        /**\n         * @type {?import(\"../extent.js\").Extent}\n         */\n        _this.renderedExtent_ = null;\n        _this.setRenderOrder(null);\n        return _this;\n    }\n    /**\n     * Strategy function for loading features based on the view's extent and\n     * resolution.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @return {Array<import(\"../extent.js\").Extent>} Extents.\n     */\n    Graticule.prototype.strategyFunction = function (extent, resolution) {\n        // extents may be passed in different worlds, to avoid endless loop we use only one\n        var realWorldExtent = extent.slice();\n        if (this.projection_ && this.getSource().getWrapX()) {\n            wrapExtentX(realWorldExtent, this.projection_);\n        }\n        if (this.loadedExtent_) {\n            if (approximatelyEquals(this.loadedExtent_, realWorldExtent, resolution)) {\n                // make sure result is exactly equal to previous extent\n                realWorldExtent = this.loadedExtent_.slice();\n            }\n            else {\n                // we should not keep track of loaded extents\n                this.getSource().removeLoadedExtent(this.loadedExtent_);\n            }\n        }\n        return [realWorldExtent];\n    };\n    /**\n     * Update geometries in the source based on current view\n     * @param {import(\"../extent\").Extent} extent Extent\n     * @param {number} resolution Resolution\n     * @param {import(\"../proj/Projection.js\").default} projection Projection\n     */\n    Graticule.prototype.loaderFunction = function (extent, resolution, projection) {\n        this.loadedExtent_ = extent;\n        var source = this.getSource();\n        // only consider the intersection between our own extent & the requested one\n        var layerExtent = this.getExtent() || [\n            -Infinity,\n            -Infinity,\n            Infinity,\n            Infinity,\n        ];\n        var renderExtent = getIntersection(layerExtent, extent);\n        if (this.renderedExtent_ && equals(this.renderedExtent_, renderExtent)) {\n            return;\n        }\n        this.renderedExtent_ = renderExtent;\n        // bail out if nothing to render\n        if (isEmpty(renderExtent)) {\n            return;\n        }\n        // update projection info\n        var center = getCenter(renderExtent);\n        var squaredTolerance = (resolution * resolution) / 4;\n        var updateProjectionInfo = !this.projection_ || !equivalentProjection(this.projection_, projection);\n        if (updateProjectionInfo) {\n            this.updateProjectionInfo_(projection);\n        }\n        this.createGraticule_(renderExtent, center, resolution, squaredTolerance);\n        // first make sure we have enough features in the pool\n        var featureCount = this.meridians_.length + this.parallels_.length;\n        if (this.meridiansLabels_) {\n            featureCount += this.meridians_.length;\n        }\n        if (this.parallelsLabels_) {\n            featureCount += this.parallels_.length;\n        }\n        var feature;\n        while (featureCount > this.featurePool_.length) {\n            feature = new Feature();\n            this.featurePool_.push(feature);\n        }\n        var featuresColl = source.getFeaturesCollection();\n        featuresColl.clear();\n        var poolIndex = 0;\n        // add features for the lines & labels\n        var i, l;\n        for (i = 0, l = this.meridians_.length; i < l; ++i) {\n            feature = this.featurePool_[poolIndex++];\n            feature.setGeometry(this.meridians_[i]);\n            feature.setStyle(this.lineStyle_);\n            featuresColl.push(feature);\n        }\n        for (i = 0, l = this.parallels_.length; i < l; ++i) {\n            feature = this.featurePool_[poolIndex++];\n            feature.setGeometry(this.parallels_[i]);\n            feature.setStyle(this.lineStyle_);\n            featuresColl.push(feature);\n        }\n    };\n    /**\n     * @param {number} lon Longitude.\n     * @param {number} minLat Minimal latitude.\n     * @param {number} maxLat Maximal latitude.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} index Index.\n     * @return {number} Index.\n     * @private\n     */\n    Graticule.prototype.addMeridian_ = function (lon, minLat, maxLat, squaredTolerance, extent, index) {\n        var lineString = this.getMeridian_(lon, minLat, maxLat, squaredTolerance, index);\n        if (intersects(lineString.getExtent(), extent)) {\n            if (this.meridiansLabels_) {\n                var text = this.lonLabelFormatter_(lon);\n                if (index in this.meridiansLabels_) {\n                    this.meridiansLabels_[index].text = text;\n                }\n                else {\n                    this.meridiansLabels_[index] = {\n                        geom: new Point([]),\n                        text: text,\n                    };\n                }\n            }\n            this.meridians_[index++] = lineString;\n        }\n        return index;\n    };\n    /**\n     * @param {number} lat Latitude.\n     * @param {number} minLon Minimal longitude.\n     * @param {number} maxLon Maximal longitude.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} index Index.\n     * @return {number} Index.\n     * @private\n     */\n    Graticule.prototype.addParallel_ = function (lat, minLon, maxLon, squaredTolerance, extent, index) {\n        var lineString = this.getParallel_(lat, minLon, maxLon, squaredTolerance, index);\n        if (intersects(lineString.getExtent(), extent)) {\n            if (this.parallelsLabels_) {\n                var text = this.latLabelFormatter_(lat);\n                if (index in this.parallelsLabels_) {\n                    this.parallelsLabels_[index].text = text;\n                }\n                else {\n                    this.parallelsLabels_[index] = {\n                        geom: new Point([]),\n                        text: text,\n                    };\n                }\n            }\n            this.parallels_[index++] = lineString;\n        }\n        return index;\n    };\n    /**\n     * @param {import(\"../render/Event.js\").default} event Render event.\n     * @private\n     */\n    Graticule.prototype.drawLabels_ = function (event) {\n        var rotation = event.frameState.viewState.rotation;\n        var extent = event.frameState.extent;\n        var rotationCenter = getCenter(extent);\n        var rotationExtent = extent;\n        if (rotation) {\n            var width = getWidth(extent);\n            var height = getHeight(extent);\n            var cr = Math.abs(Math.cos(rotation));\n            var sr = Math.abs(Math.sin(rotation));\n            var unrotatedWidth = (sr * height - cr * width) / (sr * sr - cr * cr);\n            var unrotatedHeight = (sr * width - cr * height) / (sr * sr - cr * cr);\n            rotationExtent = [\n                rotationCenter[0] - unrotatedWidth / 2,\n                rotationCenter[1] - unrotatedHeight / 2,\n                rotationCenter[0] + unrotatedWidth / 2,\n                rotationCenter[1] + unrotatedHeight / 2,\n            ];\n        }\n        var startWorld = 0;\n        var endWorld = 0;\n        var labelsAtStart = this.latLabelPosition_ < 0.5;\n        var projectionExtent = this.projection_.getExtent();\n        var worldWidth = getWidth(projectionExtent);\n        if (this.getSource().getWrapX() &&\n            this.projection_.canWrapX() &&\n            !containsExtent(projectionExtent, extent)) {\n            startWorld = Math.floor((extent[0] - projectionExtent[0]) / worldWidth);\n            endWorld = Math.ceil((extent[2] - projectionExtent[2]) / worldWidth);\n            var inverted = Math.abs(rotation) > Math.PI / 2;\n            labelsAtStart = labelsAtStart !== inverted;\n        }\n        var vectorContext = getVectorContext(event);\n        for (var world = startWorld; world <= endWorld; ++world) {\n            var poolIndex = this.meridians_.length + this.parallels_.length;\n            var feature = void 0, index = void 0, l = void 0, textPoint = void 0;\n            if (this.meridiansLabels_) {\n                for (index = 0, l = this.meridiansLabels_.length; index < l; ++index) {\n                    var lineString = this.meridians_[index];\n                    if (!rotation && world === 0) {\n                        textPoint = this.getMeridianPoint_(lineString, extent, index);\n                    }\n                    else {\n                        var clone = lineString.clone();\n                        clone.translate(world * worldWidth, 0);\n                        clone.rotate(-rotation, rotationCenter);\n                        textPoint = this.getMeridianPoint_(clone, rotationExtent, index);\n                        textPoint.rotate(rotation, rotationCenter);\n                    }\n                    feature = this.featurePool_[poolIndex++];\n                    feature.setGeometry(textPoint);\n                    feature.set('graticule_label', this.meridiansLabels_[index].text);\n                    vectorContext.drawFeature(feature, this.lonLabelStyle_(feature));\n                }\n            }\n            if (this.parallelsLabels_) {\n                if ((world === startWorld && labelsAtStart) ||\n                    (world === endWorld && !labelsAtStart)) {\n                    for (index = 0, l = this.parallels_.length; index < l; ++index) {\n                        var lineString = this.parallels_[index];\n                        if (!rotation && world === 0) {\n                            textPoint = this.getParallelPoint_(lineString, extent, index);\n                        }\n                        else {\n                            var clone = lineString.clone();\n                            clone.translate(world * worldWidth, 0);\n                            clone.rotate(-rotation, rotationCenter);\n                            textPoint = this.getParallelPoint_(clone, rotationExtent, index);\n                            textPoint.rotate(rotation, rotationCenter);\n                        }\n                        feature = this.featurePool_[poolIndex++];\n                        feature.setGeometry(textPoint);\n                        feature.set('graticule_label', this.parallelsLabels_[index].text);\n                        vectorContext.drawFeature(feature, this.latLabelStyle_(feature));\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {import(\"../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @private\n     */\n    Graticule.prototype.createGraticule_ = function (extent, center, resolution, squaredTolerance) {\n        var interval = this.getInterval_(resolution);\n        if (interval == -1) {\n            this.meridians_.length = 0;\n            this.parallels_.length = 0;\n            if (this.meridiansLabels_) {\n                this.meridiansLabels_.length = 0;\n            }\n            if (this.parallelsLabels_) {\n                this.parallelsLabels_.length = 0;\n            }\n            return;\n        }\n        var wrapX = false;\n        var projectionExtent = this.projection_.getExtent();\n        var worldWidth = getWidth(projectionExtent);\n        if (this.getSource().getWrapX() &&\n            this.projection_.canWrapX() &&\n            !containsExtent(projectionExtent, extent)) {\n            if (getWidth(extent) >= worldWidth) {\n                extent[0] = projectionExtent[0];\n                extent[2] = projectionExtent[2];\n            }\n            else {\n                wrapX = true;\n            }\n        }\n        // Constrain the center to fit into the extent available to the graticule\n        var validCenterP = [\n            clamp(center[0], this.minX_, this.maxX_),\n            clamp(center[1], this.minY_, this.maxY_),\n        ];\n        // Transform the center to lon lat\n        // Some projections may have a void area at the poles\n        // so replace any NaN latitudes with the min or max value closest to a pole\n        var centerLonLat = this.toLonLatTransform_(validCenterP);\n        if (isNaN(centerLonLat[1])) {\n            centerLonLat[1] =\n                Math.abs(this.maxLat_) >= Math.abs(this.minLat_)\n                    ? this.maxLat_\n                    : this.minLat_;\n        }\n        var centerLon = clamp(centerLonLat[0], this.minLon_, this.maxLon_);\n        var centerLat = clamp(centerLonLat[1], this.minLat_, this.maxLat_);\n        var maxLines = this.maxLines_;\n        var cnt, idx, lat, lon;\n        // Limit the extent to fit into the extent available to the graticule\n        var validExtentP = extent;\n        if (!wrapX) {\n            validExtentP = [\n                clamp(extent[0], this.minX_, this.maxX_),\n                clamp(extent[1], this.minY_, this.maxY_),\n                clamp(extent[2], this.minX_, this.maxX_),\n                clamp(extent[3], this.minY_, this.maxY_),\n            ];\n        }\n        // Transform the extent to get the lon lat ranges for the edges of the extent\n        var validExtent = applyTransform(validExtentP, this.toLonLatTransform_, undefined, 8);\n        var maxLat = validExtent[3];\n        var maxLon = validExtent[2];\n        var minLat = validExtent[1];\n        var minLon = validExtent[0];\n        if (!wrapX) {\n            // Check if extremities of the world extent lie inside the extent\n            // (for example the pole in a polar projection)\n            // and extend the extent as appropriate\n            if (containsCoordinate(validExtentP, this.bottomLeft_)) {\n                minLon = this.minLon_;\n                minLat = this.minLat_;\n            }\n            if (containsCoordinate(validExtentP, this.bottomRight_)) {\n                maxLon = this.maxLon_;\n                minLat = this.minLat_;\n            }\n            if (containsCoordinate(validExtentP, this.topLeft_)) {\n                minLon = this.minLon_;\n                maxLat = this.maxLat_;\n            }\n            if (containsCoordinate(validExtentP, this.topRight_)) {\n                maxLon = this.maxLon_;\n                maxLat = this.maxLat_;\n            }\n            // The transformed center may also extend the lon lat ranges used for rendering\n            maxLat = clamp(maxLat, centerLat, this.maxLat_);\n            maxLon = clamp(maxLon, centerLon, this.maxLon_);\n            minLat = clamp(minLat, this.minLat_, centerLat);\n            minLon = clamp(minLon, this.minLon_, centerLon);\n        }\n        // Create meridians\n        centerLon = Math.floor(centerLon / interval) * interval;\n        lon = clamp(centerLon, this.minLon_, this.maxLon_);\n        idx = this.addMeridian_(lon, minLat, maxLat, squaredTolerance, extent, 0);\n        cnt = 0;\n        if (wrapX) {\n            while ((lon -= interval) >= minLon && cnt++ < maxLines) {\n                idx = this.addMeridian_(lon, minLat, maxLat, squaredTolerance, extent, idx);\n            }\n        }\n        else {\n            while (lon != this.minLon_ && cnt++ < maxLines) {\n                lon = Math.max(lon - interval, this.minLon_);\n                idx = this.addMeridian_(lon, minLat, maxLat, squaredTolerance, extent, idx);\n            }\n        }\n        lon = clamp(centerLon, this.minLon_, this.maxLon_);\n        cnt = 0;\n        if (wrapX) {\n            while ((lon += interval) <= maxLon && cnt++ < maxLines) {\n                idx = this.addMeridian_(lon, minLat, maxLat, squaredTolerance, extent, idx);\n            }\n        }\n        else {\n            while (lon != this.maxLon_ && cnt++ < maxLines) {\n                lon = Math.min(lon + interval, this.maxLon_);\n                idx = this.addMeridian_(lon, minLat, maxLat, squaredTolerance, extent, idx);\n            }\n        }\n        this.meridians_.length = idx;\n        if (this.meridiansLabels_) {\n            this.meridiansLabels_.length = idx;\n        }\n        // Create parallels\n        centerLat = Math.floor(centerLat / interval) * interval;\n        lat = clamp(centerLat, this.minLat_, this.maxLat_);\n        idx = this.addParallel_(lat, minLon, maxLon, squaredTolerance, extent, 0);\n        cnt = 0;\n        while (lat != this.minLat_ && cnt++ < maxLines) {\n            lat = Math.max(lat - interval, this.minLat_);\n            idx = this.addParallel_(lat, minLon, maxLon, squaredTolerance, extent, idx);\n        }\n        lat = clamp(centerLat, this.minLat_, this.maxLat_);\n        cnt = 0;\n        while (lat != this.maxLat_ && cnt++ < maxLines) {\n            lat = Math.min(lat + interval, this.maxLat_);\n            idx = this.addParallel_(lat, minLon, maxLon, squaredTolerance, extent, idx);\n        }\n        this.parallels_.length = idx;\n        if (this.parallelsLabels_) {\n            this.parallelsLabels_.length = idx;\n        }\n    };\n    /**\n     * @param {number} resolution Resolution.\n     * @return {number} The interval in degrees.\n     * @private\n     */\n    Graticule.prototype.getInterval_ = function (resolution) {\n        var centerLon = this.projectionCenterLonLat_[0];\n        var centerLat = this.projectionCenterLonLat_[1];\n        var interval = -1;\n        var target = Math.pow(this.targetSize_ * resolution, 2);\n        /** @type {Array<number>} **/\n        var p1 = [];\n        /** @type {Array<number>} **/\n        var p2 = [];\n        for (var i = 0, ii = this.intervals_.length; i < ii; ++i) {\n            var delta = clamp(this.intervals_[i] / 2, 0, 90);\n            // Don't attempt to transform latitudes beyond the poles!\n            var clampedLat = clamp(centerLat, -90 + delta, 90 - delta);\n            p1[0] = centerLon - delta;\n            p1[1] = clampedLat - delta;\n            p2[0] = centerLon + delta;\n            p2[1] = clampedLat + delta;\n            this.fromLonLatTransform_(p1, p1);\n            this.fromLonLatTransform_(p2, p2);\n            var dist = Math.pow(p2[0] - p1[0], 2) + Math.pow(p2[1] - p1[1], 2);\n            if (dist <= target) {\n                break;\n            }\n            interval = this.intervals_[i];\n        }\n        return interval;\n    };\n    /**\n     * @param {number} lon Longitude.\n     * @param {number} minLat Minimal latitude.\n     * @param {number} maxLat Maximal latitude.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {LineString} The meridian line string.\n     * @param {number} index Index.\n     * @private\n     */\n    Graticule.prototype.getMeridian_ = function (lon, minLat, maxLat, squaredTolerance, index) {\n        var flatCoordinates = meridian(lon, minLat, maxLat, this.projection_, squaredTolerance);\n        var lineString = this.meridians_[index];\n        if (!lineString) {\n            lineString = new LineString(flatCoordinates, GeometryLayout.XY);\n            this.meridians_[index] = lineString;\n        }\n        else {\n            lineString.setFlatCoordinates(GeometryLayout.XY, flatCoordinates);\n            lineString.changed();\n        }\n        return lineString;\n    };\n    /**\n     * @param {LineString} lineString Meridian\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} index Index.\n     * @return {Point} Meridian point.\n     * @private\n     */\n    Graticule.prototype.getMeridianPoint_ = function (lineString, extent, index) {\n        var flatCoordinates = lineString.getFlatCoordinates();\n        var bottom = 1;\n        var top = flatCoordinates.length - 1;\n        if (flatCoordinates[bottom] > flatCoordinates[top]) {\n            bottom = top;\n            top = 1;\n        }\n        var clampedBottom = Math.max(extent[1], flatCoordinates[bottom]);\n        var clampedTop = Math.min(extent[3], flatCoordinates[top]);\n        var lat = clamp(extent[1] + Math.abs(extent[1] - extent[3]) * this.lonLabelPosition_, clampedBottom, clampedTop);\n        var coordinate0 = flatCoordinates[bottom - 1] +\n            ((flatCoordinates[top - 1] - flatCoordinates[bottom - 1]) *\n                (lat - flatCoordinates[bottom])) /\n                (flatCoordinates[top] - flatCoordinates[bottom]);\n        var coordinate = [coordinate0, lat];\n        var point = this.meridiansLabels_[index].geom;\n        point.setCoordinates(coordinate);\n        return point;\n    };\n    /**\n     * Get the list of meridians.  Meridians are lines of equal longitude.\n     * @return {Array<LineString>} The meridians.\n     * @api\n     */\n    Graticule.prototype.getMeridians = function () {\n        return this.meridians_;\n    };\n    /**\n     * @param {number} lat Latitude.\n     * @param {number} minLon Minimal longitude.\n     * @param {number} maxLon Maximal longitude.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {LineString} The parallel line string.\n     * @param {number} index Index.\n     * @private\n     */\n    Graticule.prototype.getParallel_ = function (lat, minLon, maxLon, squaredTolerance, index) {\n        var flatCoordinates = parallel(lat, minLon, maxLon, this.projection_, squaredTolerance);\n        var lineString = this.parallels_[index];\n        if (!lineString) {\n            lineString = new LineString(flatCoordinates, GeometryLayout.XY);\n        }\n        else {\n            lineString.setFlatCoordinates(GeometryLayout.XY, flatCoordinates);\n            lineString.changed();\n        }\n        return lineString;\n    };\n    /**\n     * @param {LineString} lineString Parallels.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} index Index.\n     * @return {Point} Parallel point.\n     * @private\n     */\n    Graticule.prototype.getParallelPoint_ = function (lineString, extent, index) {\n        var flatCoordinates = lineString.getFlatCoordinates();\n        var left = 0;\n        var right = flatCoordinates.length - 2;\n        if (flatCoordinates[left] > flatCoordinates[right]) {\n            left = right;\n            right = 0;\n        }\n        var clampedLeft = Math.max(extent[0], flatCoordinates[left]);\n        var clampedRight = Math.min(extent[2], flatCoordinates[right]);\n        var lon = clamp(extent[0] + Math.abs(extent[0] - extent[2]) * this.latLabelPosition_, clampedLeft, clampedRight);\n        var coordinate1 = flatCoordinates[left + 1] +\n            ((flatCoordinates[right + 1] - flatCoordinates[left + 1]) *\n                (lon - flatCoordinates[left])) /\n                (flatCoordinates[right] - flatCoordinates[left]);\n        var coordinate = [lon, coordinate1];\n        var point = this.parallelsLabels_[index].geom;\n        point.setCoordinates(coordinate);\n        return point;\n    };\n    /**\n     * Get the list of parallels.  Parallels are lines of equal latitude.\n     * @return {Array<LineString>} The parallels.\n     * @api\n     */\n    Graticule.prototype.getParallels = function () {\n        return this.parallels_;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @private\n     */\n    Graticule.prototype.updateProjectionInfo_ = function (projection) {\n        var epsg4326Projection = getProjection('EPSG:4326');\n        var worldExtent = projection.getWorldExtent();\n        this.maxLat_ = worldExtent[3];\n        this.maxLon_ = worldExtent[2];\n        this.minLat_ = worldExtent[1];\n        this.minLon_ = worldExtent[0];\n        // If the world extent crosses the dateline define a custom transform to\n        // return longitudes which wrap the dateline\n        var toLonLatTransform = getTransform(projection, epsg4326Projection);\n        if (this.minLon_ < this.maxLon_) {\n            this.toLonLatTransform_ = toLonLatTransform;\n        }\n        else {\n            var split_1 = this.minLon_ + this.maxLon_ / 2;\n            this.maxLon_ += 360;\n            this.toLonLatTransform_ = function (coordinates, opt_output, opt_dimension) {\n                var dimension = opt_dimension || 2;\n                var lonLatCoordinates = toLonLatTransform(coordinates, opt_output, dimension);\n                for (var i = 0, l = lonLatCoordinates.length; i < l; i += dimension) {\n                    if (lonLatCoordinates[i] < split_1) {\n                        lonLatCoordinates[i] += 360;\n                    }\n                }\n                return lonLatCoordinates;\n            };\n        }\n        // Transform the extent to get the limits of the view projection extent\n        // which should be available to the graticule\n        this.fromLonLatTransform_ = getTransform(epsg4326Projection, projection);\n        var worldExtentP = applyTransform([this.minLon_, this.minLat_, this.maxLon_, this.maxLat_], this.fromLonLatTransform_, undefined, 8);\n        this.minX_ = worldExtentP[0];\n        this.maxX_ = worldExtentP[2];\n        this.minY_ = worldExtentP[1];\n        this.maxY_ = worldExtentP[3];\n        // Determine the view projection coordinates of the extremities of the world extent\n        // as these may lie inside a view extent (for example the pole in a polar projection)\n        this.bottomLeft_ = this.fromLonLatTransform_([this.minLon_, this.minLat_]);\n        this.bottomRight_ = this.fromLonLatTransform_([this.maxLon_, this.minLat_]);\n        this.topLeft_ = this.fromLonLatTransform_([this.minLon_, this.maxLat_]);\n        this.topRight_ = this.fromLonLatTransform_([this.maxLon_, this.maxLat_]);\n        // Transform the projection center to lon lat\n        // Some projections may have a void area at the poles\n        // so replace any NaN latitudes with the min or max value closest to a pole\n        this.projectionCenterLonLat_ = this.toLonLatTransform_(getCenter(projection.getExtent()));\n        if (isNaN(this.projectionCenterLonLat_[1])) {\n            this.projectionCenterLonLat_[1] =\n                Math.abs(this.maxLat_) >= Math.abs(this.minLat_)\n                    ? this.maxLat_\n                    : this.minLat_;\n        }\n        this.projection_ = projection;\n    };\n    return Graticule;\n}(VectorLayer));\nexport default Graticule;\n//# sourceMappingURL=Graticule.js.map","/**\n * @module ol/source/OSM\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport XYZ from './XYZ.js';\n/**\n * The attribution containing a link to the OpenStreetMap Copyright and License\n * page.\n * @const\n * @type {string}\n * @api\n */\nexport var ATTRIBUTION = '&#169; ' +\n    '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a> ' +\n    'contributors.';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin='anonymous'] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {number} [maxZoom=19] Max zoom.\n * @property {boolean} [opaque=true] Whether the layer is opaque.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url='https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png'] URL template.\n * Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Layer source for the OpenStreetMap tile server.\n * @api\n */\nvar OSM = /** @class */ (function (_super) {\n    __extends(OSM, _super);\n    /**\n     * @param {Options} [opt_options] Open Street Map options.\n     */\n    function OSM(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        var attributions;\n        if (options.attributions !== undefined) {\n            attributions = options.attributions;\n        }\n        else {\n            attributions = [ATTRIBUTION];\n        }\n        var crossOrigin = options.crossOrigin !== undefined ? options.crossOrigin : 'anonymous';\n        var url = options.url !== undefined\n            ? options.url\n            : 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n        _this = _super.call(this, {\n            attributions: attributions,\n            attributionsCollapsible: false,\n            cacheSize: options.cacheSize,\n            crossOrigin: crossOrigin,\n            imageSmoothing: options.imageSmoothing,\n            maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n            opaque: options.opaque !== undefined ? options.opaque : true,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileLoadFunction: options.tileLoadFunction,\n            transition: options.transition,\n            url: url,\n            wrapX: options.wrapX,\n            zDirection: options.zDirection,\n        }) || this;\n        return _this;\n    }\n    return OSM;\n}(XYZ));\nexport default OSM;\n//# sourceMappingURL=OSM.js.map","/**\n * @module ol/source/TileDebug\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport XYZ from './XYZ.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { toSize } from '../size.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Optional projection.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Set to `1` when debugging `VectorTile` sources with a default configuration.\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n * @property {string} [template='z:{z} x:{x} y:{y}'] Template for labeling the tiles.\n * Should include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n */\n/**\n * @classdesc\n * A pseudo tile source, which does not fetch tiles from a server, but renders\n * a grid outline for the tile grid/projection along with the coordinates for\n * each tile. See examples/canvas-tiles for an example.\n * @api\n */\nvar TileDebug = /** @class */ (function (_super) {\n    __extends(TileDebug, _super);\n    /**\n     * @param {Options} [opt_options] Debug tile options.\n     */\n    function TileDebug(opt_options) {\n        var _this = this;\n        /**\n         * @type {Options}\n         */\n        var options = opt_options || {};\n        _this = _super.call(this, {\n            opaque: false,\n            projection: options.projection,\n            tileGrid: options.tileGrid,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            zDirection: options.zDirection,\n            url: options.template || 'z:{z} x:{x} y:{y}',\n            tileLoadFunction: function (tile, text) {\n                var z = tile.getTileCoord()[0];\n                var tileSize = toSize(_this.tileGrid.getTileSize(z));\n                var context = createCanvasContext2D(tileSize[0], tileSize[1]);\n                context.strokeStyle = 'grey';\n                context.strokeRect(0.5, 0.5, tileSize[0] + 0.5, tileSize[1] + 0.5);\n                context.fillStyle = 'grey';\n                context.strokeStyle = 'white';\n                context.textAlign = 'center';\n                context.textBaseline = 'middle';\n                context.font = '24px sans-serif';\n                context.lineWidth = 4;\n                context.strokeText(text, tileSize[0] / 2, tileSize[1] / 2, tileSize[0]);\n                context.fillText(text, tileSize[0] / 2, tileSize[1] / 2, tileSize[0]);\n                /** @type {import(\"../ImageTile.js\").default} */ (tile).setImage(context.canvas);\n            },\n        }) || this;\n        return _this;\n    }\n    return TileDebug;\n}(XYZ));\nexport default TileDebug;\n//# sourceMappingURL=TileDebug.js.map","/**\n * @module ol/source/Stamen\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport XYZ from './XYZ.js';\nimport { ATTRIBUTION as OSM_ATTRIBUTION } from './OSM.js';\n/**\n * @const\n * @type {Array<string>}\n */\nvar ATTRIBUTIONS = [\n    'Map tiles by <a href=\"https://stamen.com/\" target=\"_blank\">Stamen Design</a>, ' +\n        'under <a href=\"https://creativecommons.org/licenses/by/3.0/\" target=\"_blank\">CC BY' +\n        ' 3.0</a>.',\n    OSM_ATTRIBUTION,\n];\n/**\n * @type {Object<string, {extension: string, opaque: boolean}>}\n */\nvar LayerConfig = {\n    'terrain': {\n        extension: 'jpg',\n        opaque: true,\n    },\n    'terrain-background': {\n        extension: 'jpg',\n        opaque: true,\n    },\n    'terrain-labels': {\n        extension: 'png',\n        opaque: false,\n    },\n    'terrain-lines': {\n        extension: 'png',\n        opaque: false,\n    },\n    'toner-background': {\n        extension: 'png',\n        opaque: true,\n    },\n    'toner': {\n        extension: 'png',\n        opaque: true,\n    },\n    'toner-hybrid': {\n        extension: 'png',\n        opaque: false,\n    },\n    'toner-labels': {\n        extension: 'png',\n        opaque: false,\n    },\n    'toner-lines': {\n        extension: 'png',\n        opaque: false,\n    },\n    'toner-lite': {\n        extension: 'png',\n        opaque: true,\n    },\n    'watercolor': {\n        extension: 'jpg',\n        opaque: true,\n    },\n};\n/**\n * @type {Object<string, {minZoom: number, maxZoom: number}>}\n */\nvar ProviderConfig = {\n    'terrain': {\n        minZoom: 0,\n        maxZoom: 18,\n    },\n    'toner': {\n        minZoom: 0,\n        maxZoom: 20,\n    },\n    'watercolor': {\n        minZoom: 0,\n        maxZoom: 18,\n    },\n};\n/**\n * @typedef {Object} Options\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {string} layer Layer name.\n * @property {number} [minZoom] Minimum zoom.\n * @property {number} [maxZoom] Maximum zoom.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction]\n * Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Layer source for the Stamen tile server.\n * @api\n */\nvar Stamen = /** @class */ (function (_super) {\n    __extends(Stamen, _super);\n    /**\n     * @param {Options} options Stamen options.\n     */\n    function Stamen(options) {\n        var _this = this;\n        var i = options.layer.indexOf('-');\n        var provider = i == -1 ? options.layer : options.layer.slice(0, i);\n        var providerConfig = ProviderConfig[provider];\n        var layerConfig = LayerConfig[options.layer];\n        var url = options.url !== undefined\n            ? options.url\n            : 'https://stamen-tiles-{a-d}.a.ssl.fastly.net/' +\n                options.layer +\n                '/{z}/{x}/{y}.' +\n                layerConfig.extension;\n        _this = _super.call(this, {\n            attributions: ATTRIBUTIONS,\n            cacheSize: options.cacheSize,\n            crossOrigin: 'anonymous',\n            imageSmoothing: options.imageSmoothing,\n            maxZoom: options.maxZoom != undefined ? options.maxZoom : providerConfig.maxZoom,\n            minZoom: options.minZoom != undefined ? options.minZoom : providerConfig.minZoom,\n            opaque: layerConfig.opaque,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileLoadFunction: options.tileLoadFunction,\n            transition: options.transition,\n            url: url,\n            wrapX: options.wrapX,\n            zDirection: options.zDirection,\n        }) || this;\n        return _this;\n    }\n    return Stamen;\n}(XYZ));\nexport default Stamen;\n//# sourceMappingURL=Stamen.js.map","/**\n * @module ol/proj/proj4\n */\nimport Projection from './Projection.js';\nimport Units from './Units.js';\nimport { addCoordinateTransforms, addEquivalentProjections, addProjection, createSafeCoordinateTransform, get, } from '../proj.js';\nimport { get as getTransform } from './transforms.js';\n/**\n * Make projections defined in proj4 (with `proj4.defs()`) available in\n * OpenLayers.\n *\n * This function should be called whenever changes are made to the proj4\n * registry, e.g. after calling `proj4.defs()`. Existing transforms will not be\n * modified by this function.\n *\n * @param {?} proj4 Proj4.\n * @api\n */\nexport function register(proj4) {\n    var projCodes = Object.keys(proj4.defs);\n    var len = projCodes.length;\n    var i, j;\n    for (i = 0; i < len; ++i) {\n        var code = projCodes[i];\n        if (!get(code)) {\n            var def = proj4.defs(code);\n            var units = def.units;\n            if (!units && def.projName === 'longlat') {\n                units = Units.DEGREES;\n            }\n            addProjection(new Projection({\n                code: code,\n                axisOrientation: def.axis,\n                metersPerUnit: def.to_meter,\n                units: units,\n            }));\n        }\n    }\n    for (i = 0; i < len; ++i) {\n        var code1 = projCodes[i];\n        var proj1 = get(code1);\n        for (j = 0; j < len; ++j) {\n            var code2 = projCodes[j];\n            var proj2 = get(code2);\n            if (!getTransform(code1, code2)) {\n                if (proj4.defs[code1] === proj4.defs[code2]) {\n                    addEquivalentProjections([proj1, proj2]);\n                }\n                else {\n                    var transform = proj4(code1, code2);\n                    addCoordinateTransforms(proj1, proj2, createSafeCoordinateTransform(proj1, proj2, transform.forward), createSafeCoordinateTransform(proj2, proj1, transform.inverse));\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=proj4.js.map","export default function(defs) {\n  defs('EPSG:4326', \"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees\");\n  defs('EPSG:4269', \"+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees\");\n  defs('EPSG:3857', \"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs\");\n\n  defs.WGS84 = defs['EPSG:4326'];\n  defs['EPSG:3785'] = defs['EPSG:3857']; // maintain backward compat, official code is 3857\n  defs.GOOGLE = defs['EPSG:3857'];\n  defs['EPSG:900913'] = defs['EPSG:3857'];\n  defs['EPSG:102113'] = defs['EPSG:3857'];\n}\n","export var PJD_3PARAM = 1;\nexport var PJD_7PARAM = 2;\nexport var PJD_GRIDSHIFT = 3;\nexport var PJD_WGS84 = 4; // WGS84 or equivalent\nexport var PJD_NODATUM = 5; // WGS84 or equivalent\nexport var SRS_WGS84_SEMIMAJOR = 6378137.0;  // only used in grid shift transforms\nexport var SRS_WGS84_SEMIMINOR = 6356752.314;  // only used in grid shift transforms\nexport var SRS_WGS84_ESQUARED = 0.0066943799901413165; // only used in grid shift transforms\nexport var SEC_TO_RAD = 4.84813681109535993589914102357e-6;\nexport var HALF_PI = Math.PI/2;\n// ellipoid pj_set_ell.c\nexport var SIXTH = 0.1666666666666666667;\n/* 1/6 */\nexport var RA4 = 0.04722222222222222222;\n/* 17/360 */\nexport var RA6 = 0.02215608465608465608;\nexport var EPSLN = 1.0e-10;\n// you'd think you could use Number.EPSILON above but that makes\n// Mollweide get into an infinate loop.\n\nexport var D2R = 0.01745329251994329577;\nexport var R2D = 57.29577951308232088;\nexport var FORTPI = Math.PI/4;\nexport var TWO_PI = Math.PI * 2;\n// SPI is slightly greater than Math.PI, so values that exceed the -180..180\n// degree range by a tiny amount don't get wrapped. This prevents points that\n// have drifted from their original location along the 180th meridian (due to\n// floating point error) from changing their sign.\nexport var SPI = 3.14159265359;\n","var exports = {};\nexport {exports as default};\n\nexports.greenwich = 0.0; //\"0dE\",\nexports.lisbon = -9.131906111111; //\"9d07'54.862\\\"W\",\nexports.paris = 2.337229166667; //\"2d20'14.025\\\"E\",\nexports.bogota = -74.080916666667; //\"74d04'51.3\\\"W\",\nexports.madrid = -3.687938888889; //\"3d41'16.58\\\"W\",\nexports.rome = 12.452333333333; //\"12d27'8.4\\\"E\",\nexports.bern = 7.439583333333; //\"7d26'22.5\\\"E\",\nexports.jakarta = 106.807719444444; //\"106d48'27.79\\\"E\",\nexports.ferro = -17.666666666667; //\"17d40'W\",\nexports.brussels = 4.367975; //\"4d22'4.71\\\"E\",\nexports.stockholm = 18.058277777778; //\"18d3'29.8\\\"E\",\nexports.athens = 23.7163375; //\"23d42'58.815\\\"E\",\nexports.oslo = 10.722916666667; //\"10d43'22.5\\\"E\"\n","export default {\n  ft: {to_meter: 0.3048},\n  'us-ft': {to_meter: 1200 / 3937}\n};\n","var ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nexport default function match(obj, key) {\n  if (obj[key]) {\n    return obj[key];\n  }\n  var keys = Object.keys(obj);\n  var lkey = key.toLowerCase().replace(ignoredChar, '');\n  var i = -1;\n  var testkey, processedKey;\n  while (++i < keys.length) {\n    testkey = keys[i];\n    processedKey = testkey.toLowerCase().replace(ignoredChar, '');\n    if (processedKey === lkey) {\n      return obj[testkey];\n    }\n  }\n}\n","import {D2R} from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport units from './constants/units';\nimport match from './match';\n\nexport default function(defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function(v) {\n    return v.trim();\n  }).filter(function(a) {\n    return a;\n  }).reduce(function(p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function(v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function(v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function(v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function(v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function(v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function(v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function(v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function(v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function(v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    gamma: function(v) {\n      self.rectified_grid_angle = parseFloat(v);\n    },\n    lonc: function(v) {\n      self.longc = v * D2R;\n    },\n    x_0: function(v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function(v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function(v) {\n      self.a = parseFloat(v);\n    },\n    b: function(v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function() {\n      self.R_A = true;\n    },\n    zone: function(v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function() {\n      self.utmSouth = true;\n    },\n    towgs84: function(v) {\n      self.datum_params = v.split(\",\").map(function(a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function(v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function(v) {\n      self.units = v;\n      var unit = match(units, v);\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function(v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function(v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function(v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      }\n      else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function(v) {\n      var legalAxis = \"ewnsud\";\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    },\n    approx: function() {\n      self.approx = true;\n    }\n  };\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n    if (paramName in params) {\n      paramOutname = params[paramName];\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      }\n      else {\n        self[paramOutname] = paramVal;\n      }\n    }\n    else {\n      self[paramName] = paramVal;\n    }\n  }\n  if(typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\"){\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n  return self;\n}\n","export default parseString;\n\nvar NEUTRAL = 1;\nvar KEYWORD = 2;\nvar NUMBER = 3;\nvar QUOTED = 4;\nvar AFTERQUOTE = 5;\nvar ENDED = -1;\nvar whitespace = /\\s/;\nvar latin = /[A-Za-z]/;\nvar keyword = /[A-Za-z84]/;\nvar endThings = /[,\\]]/;\nvar digets = /[\\d\\.E\\-\\+]/;\n// const ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nfunction Parser(text) {\n  if (typeof text !== 'string') {\n    throw new Error('not a string');\n  }\n  this.text = text.trim();\n  this.level = 0;\n  this.place = 0;\n  this.root = null;\n  this.stack = [];\n  this.currentObject = null;\n  this.state = NEUTRAL;\n}\nParser.prototype.readCharicter = function() {\n  var char = this.text[this.place++];\n  if (this.state !== QUOTED) {\n    while (whitespace.test(char)) {\n      if (this.place >= this.text.length) {\n        return;\n      }\n      char = this.text[this.place++];\n    }\n  }\n  switch (this.state) {\n    case NEUTRAL:\n      return this.neutral(char);\n    case KEYWORD:\n      return this.keyword(char)\n    case QUOTED:\n      return this.quoted(char);\n    case AFTERQUOTE:\n      return this.afterquote(char);\n    case NUMBER:\n      return this.number(char);\n    case ENDED:\n      return;\n  }\n};\nParser.prototype.afterquote = function(char) {\n  if (char === '\"') {\n    this.word += '\"';\n    this.state = QUOTED;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = this.word.trim();\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in afterquote yet, index ' + this.place);\n};\nParser.prototype.afterItem = function(char) {\n  if (char === ',') {\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n    }\n    this.word = null;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (char === ']') {\n    this.level--;\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n      this.word = null;\n    }\n    this.state = NEUTRAL;\n    this.currentObject = this.stack.pop();\n    if (!this.currentObject) {\n      this.state = ENDED;\n    }\n\n    return;\n  }\n};\nParser.prototype.number = function(char) {\n  if (digets.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = parseFloat(this.word);\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in number yet, index ' + this.place);\n};\nParser.prototype.quoted = function(char) {\n  if (char === '\"') {\n    this.state = AFTERQUOTE;\n    return;\n  }\n  this.word += char;\n  return;\n};\nParser.prototype.keyword = function(char) {\n  if (keyword.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (char === '[') {\n    var newObjects = [];\n    newObjects.push(this.word);\n    this.level++;\n    if (this.root === null) {\n      this.root = newObjects;\n    } else {\n      this.currentObject.push(newObjects);\n    }\n    this.stack.push(this.currentObject);\n    this.currentObject = newObjects;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in keyword yet, index ' + this.place);\n};\nParser.prototype.neutral = function(char) {\n  if (latin.test(char)) {\n    this.word = char;\n    this.state = KEYWORD;\n    return;\n  }\n  if (char === '\"') {\n    this.word = '';\n    this.state = QUOTED;\n    return;\n  }\n  if (digets.test(char)) {\n    this.word = char;\n    this.state = NUMBER;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in neutral yet, index ' + this.place);\n};\nParser.prototype.output = function() {\n  while (this.place < this.text.length) {\n    this.readCharicter();\n  }\n  if (this.state === ENDED) {\n    return this.root;\n  }\n  throw new Error('unable to parse string \"' +this.text + '\". State is ' + this.state);\n};\n\nfunction parseString(txt) {\n  var parser = new Parser(txt);\n  return parser.output();\n}\n","\n\nfunction mapit(obj, key, value) {\n  if (Array.isArray(key)) {\n    value.unshift(key);\n    key = null;\n  }\n  var thing = key ? {} : obj;\n\n  var out = value.reduce(function(newObj, item) {\n    sExpr(item, newObj);\n    return newObj\n  }, thing);\n  if (key) {\n    obj[key] = out;\n  }\n}\n\nexport function sExpr(v, obj) {\n  if (!Array.isArray(v)) {\n    obj[v] = true;\n    return;\n  }\n  var key = v.shift();\n  if (key === 'PARAMETER') {\n    key = v.shift();\n  }\n  if (v.length === 1) {\n    if (Array.isArray(v[0])) {\n      obj[key] = {};\n      sExpr(v[0], obj[key]);\n      return;\n    }\n    obj[key] = v[0];\n    return;\n  }\n  if (!v.length) {\n    obj[key] = true;\n    return;\n  }\n  if (key === 'TOWGS84') {\n    obj[key] = v;\n    return;\n  }\n  if (key === 'AXIS') {\n    if (!(key in obj)) {\n      obj[key] = [];\n    }\n    obj[key].push(v);\n    return;\n  }\n  if (!Array.isArray(key)) {\n    obj[key] = {};\n  }\n\n  var i;\n  switch (key) {\n    case 'UNIT':\n    case 'PRIMEM':\n    case 'VERT_DATUM':\n      obj[key] = {\n        name: v[0].toLowerCase(),\n        convert: v[1]\n      };\n      if (v.length === 3) {\n        sExpr(v[2], obj[key]);\n      }\n      return;\n    case 'SPHEROID':\n    case 'ELLIPSOID':\n      obj[key] = {\n        name: v[0],\n        a: v[1],\n        rf: v[2]\n      };\n      if (v.length === 4) {\n        sExpr(v[3], obj[key]);\n      }\n      return;\n    case 'PROJECTEDCRS':\n    case 'PROJCRS':\n    case 'GEOGCS':\n    case 'GEOCCS':\n    case 'PROJCS':\n    case 'LOCAL_CS':\n    case 'GEODCRS':\n    case 'GEODETICCRS':\n    case 'GEODETICDATUM':\n    case 'EDATUM':\n    case 'ENGINEERINGDATUM':\n    case 'VERT_CS':\n    case 'VERTCRS':\n    case 'VERTICALCRS':\n    case 'COMPD_CS':\n    case 'COMPOUNDCRS':\n    case 'ENGINEERINGCRS':\n    case 'ENGCRS':\n    case 'FITTED_CS':\n    case 'LOCAL_DATUM':\n    case 'DATUM':\n      v[0] = ['name', v[0]];\n      mapit(obj, key, v);\n      return;\n    default:\n      i = -1;\n      while (++i < v.length) {\n        if (!Array.isArray(v[i])) {\n          return sExpr(v, obj[key]);\n        }\n      }\n      return mapit(obj, key, v);\n  }\n}\n","var D2R = 0.01745329251994329577;\nimport parser from './parser';\nimport {sExpr} from './process';\n\n\n\nfunction rename(obj, params) {\n  var outName = params[0];\n  var inName = params[1];\n  if (!(outName in obj) && (inName in obj)) {\n    obj[outName] = obj[inName];\n    if (params.length === 3) {\n      obj[outName] = params[2](obj[outName]);\n    }\n  }\n}\n\nfunction d2r(input) {\n  return input * D2R;\n}\n\nfunction cleanWKT(wkt) {\n  if (wkt.type === 'GEOGCS') {\n    wkt.projName = 'longlat';\n  } else if (wkt.type === 'LOCAL_CS') {\n    wkt.projName = 'identity';\n    wkt.local = true;\n  } else {\n    if (typeof wkt.PROJECTION === 'object') {\n      wkt.projName = Object.keys(wkt.PROJECTION)[0];\n    } else {\n      wkt.projName = wkt.PROJECTION;\n    }\n  }\n  if (wkt.AXIS) {\n    var axisOrder = '';\n    for (var i = 0, ii = wkt.AXIS.length; i < ii; ++i) {\n      var axis = [wkt.AXIS[i][0].toLowerCase(), wkt.AXIS[i][1].toLowerCase()];\n      if (axis[0].indexOf('north') !== -1 || ((axis[0] === 'y' || axis[0] === 'lat') && axis[1] === 'north')) {\n        axisOrder += 'n';\n      } else if (axis[0].indexOf('south') !== -1 || ((axis[0] === 'y' || axis[0] === 'lat') && axis[1] === 'south')) {\n        axisOrder += 's';\n      } else if (axis[0].indexOf('east') !== -1 || ((axis[0] === 'x' || axis[0] === 'lon') && axis[1] === 'east')) {\n        axisOrder += 'e';\n      } else if (axis[0].indexOf('west') !== -1 || ((axis[0] === 'x' || axis[0] === 'lon') && axis[1] === 'west')) {\n        axisOrder += 'w';\n      }\n    }\n    if (axisOrder.length === 2) {\n      axisOrder += 'u';\n    }\n    if (axisOrder.length === 3) {\n      wkt.axis = axisOrder;\n    }\n  }\n  if (wkt.UNIT) {\n    wkt.units = wkt.UNIT.name.toLowerCase();\n    if (wkt.units === 'metre') {\n      wkt.units = 'meter';\n    }\n    if (wkt.UNIT.convert) {\n      if (wkt.type === 'GEOGCS') {\n        if (wkt.DATUM && wkt.DATUM.SPHEROID) {\n          wkt.to_meter = wkt.UNIT.convert*wkt.DATUM.SPHEROID.a;\n        }\n      } else {\n        wkt.to_meter = wkt.UNIT.convert;\n      }\n    }\n  }\n  var geogcs = wkt.GEOGCS;\n  if (wkt.type === 'GEOGCS') {\n    geogcs = wkt;\n  }\n  if (geogcs) {\n    //if(wkt.GEOGCS.PRIMEM&&wkt.GEOGCS.PRIMEM.convert){\n    //  wkt.from_greenwich=wkt.GEOGCS.PRIMEM.convert*D2R;\n    //}\n    if (geogcs.DATUM) {\n      wkt.datumCode = geogcs.DATUM.name.toLowerCase();\n    } else {\n      wkt.datumCode = geogcs.name.toLowerCase();\n    }\n    if (wkt.datumCode.slice(0, 2) === 'd_') {\n      wkt.datumCode = wkt.datumCode.slice(2);\n    }\n    if (wkt.datumCode === 'new_zealand_geodetic_datum_1949' || wkt.datumCode === 'new_zealand_1949') {\n      wkt.datumCode = 'nzgd49';\n    }\n    if (wkt.datumCode === 'wgs_1984' || wkt.datumCode === 'world_geodetic_system_1984') {\n      if (wkt.PROJECTION === 'Mercator_Auxiliary_Sphere') {\n        wkt.sphere = true;\n      }\n      wkt.datumCode = 'wgs84';\n    }\n    if (wkt.datumCode.slice(-6) === '_ferro') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 6);\n    }\n    if (wkt.datumCode.slice(-8) === '_jakarta') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 8);\n    }\n    if (~wkt.datumCode.indexOf('belge')) {\n      wkt.datumCode = 'rnb72';\n    }\n    if (geogcs.DATUM && geogcs.DATUM.SPHEROID) {\n      wkt.ellps = geogcs.DATUM.SPHEROID.name.replace('_19', '').replace(/[Cc]larke\\_18/, 'clrk');\n      if (wkt.ellps.toLowerCase().slice(0, 13) === 'international') {\n        wkt.ellps = 'intl';\n      }\n\n      wkt.a = geogcs.DATUM.SPHEROID.a;\n      wkt.rf = parseFloat(geogcs.DATUM.SPHEROID.rf, 10);\n    }\n\n    if (geogcs.DATUM && geogcs.DATUM.TOWGS84) {\n      wkt.datum_params = geogcs.DATUM.TOWGS84;\n    }\n    if (~wkt.datumCode.indexOf('osgb_1936')) {\n      wkt.datumCode = 'osgb36';\n    }\n    if (~wkt.datumCode.indexOf('osni_1952')) {\n      wkt.datumCode = 'osni52';\n    }\n    if (~wkt.datumCode.indexOf('tm65')\n      || ~wkt.datumCode.indexOf('geodetic_datum_of_1965')) {\n      wkt.datumCode = 'ire65';\n    }\n    if (wkt.datumCode === 'ch1903+') {\n      wkt.datumCode = 'ch1903';\n    }\n    if (~wkt.datumCode.indexOf('israel')) {\n      wkt.datumCode = 'isr93';\n    }\n  }\n  if (wkt.b && !isFinite(wkt.b)) {\n    wkt.b = wkt.a;\n  }\n\n  function toMeter(input) {\n    var ratio = wkt.to_meter || 1;\n    return input * ratio;\n  }\n  var renamer = function(a) {\n    return rename(wkt, a);\n  };\n  var list = [\n    ['standard_parallel_1', 'Standard_Parallel_1'],\n    ['standard_parallel_1', 'Latitude of 1st standard parallel'],\n    ['standard_parallel_2', 'Standard_Parallel_2'],\n    ['standard_parallel_2', 'Latitude of 2nd standard parallel'],\n    ['false_easting', 'False_Easting'],\n    ['false_easting', 'False easting'],\n    ['false-easting', 'Easting at false origin'],\n    ['false_northing', 'False_Northing'],\n    ['false_northing', 'False northing'],\n    ['false_northing', 'Northing at false origin'],\n    ['central_meridian', 'Central_Meridian'],\n    ['central_meridian', 'Longitude of natural origin'],\n    ['central_meridian', 'Longitude of false origin'],\n    ['latitude_of_origin', 'Latitude_Of_Origin'],\n    ['latitude_of_origin', 'Central_Parallel'],\n    ['latitude_of_origin', 'Latitude of natural origin'],\n    ['latitude_of_origin', 'Latitude of false origin'],\n    ['scale_factor', 'Scale_Factor'],\n    ['k0', 'scale_factor'],\n    ['latitude_of_center', 'Latitude_Of_Center'],\n    ['latitude_of_center', 'Latitude_of_center'],\n    ['lat0', 'latitude_of_center', d2r],\n    ['longitude_of_center', 'Longitude_Of_Center'],\n    ['longitude_of_center', 'Longitude_of_center'],\n    ['longc', 'longitude_of_center', d2r],\n    ['x0', 'false_easting', toMeter],\n    ['y0', 'false_northing', toMeter],\n    ['long0', 'central_meridian', d2r],\n    ['lat0', 'latitude_of_origin', d2r],\n    ['lat0', 'standard_parallel_1', d2r],\n    ['lat1', 'standard_parallel_1', d2r],\n    ['lat2', 'standard_parallel_2', d2r],\n    ['azimuth', 'Azimuth'],\n    ['alpha', 'azimuth', d2r],\n    ['srsCode', 'name']\n  ];\n  list.forEach(renamer);\n  if (!wkt.long0 && wkt.longc && (wkt.projName === 'Albers_Conic_Equal_Area' || wkt.projName === 'Lambert_Azimuthal_Equal_Area')) {\n    wkt.long0 = wkt.longc;\n  }\n  if (!wkt.lat_ts && wkt.lat1 && (wkt.projName === 'Stereographic_South_Pole' || wkt.projName === 'Polar Stereographic (variant B)')) {\n    wkt.lat0 = d2r(wkt.lat1 > 0 ? 90 : -90);\n    wkt.lat_ts = wkt.lat1;\n  }\n}\nexport default function(wkt) {\n  var lisp = parser(wkt);\n  var type = lisp.shift();\n  var name = lisp.shift();\n  lisp.unshift(['name', name]);\n  lisp.unshift(['type', type]);\n  var obj = {};\n  sExpr(lisp, obj);\n  cleanWKT(obj);\n  return obj;\n}\n","import globals from './global';\nimport parseProj from './projString';\nimport wkt from 'wkt-parser';\n\nfunction defs(name) {\n  /*global console*/\n  var that = this;\n  if (arguments.length === 2) {\n    var def = arguments[1];\n    if (typeof def === 'string') {\n      if (def.charAt(0) === '+') {\n        defs[name] = parseProj(arguments[1]);\n      }\n      else {\n        defs[name] = wkt(arguments[1]);\n      }\n    } else {\n      defs[name] = def;\n    }\n  }\n  else if (arguments.length === 1) {\n    if (Array.isArray(name)) {\n      return name.map(function(v) {\n        if (Array.isArray(v)) {\n          defs.apply(that, v);\n        }\n        else {\n          defs(v);\n        }\n      });\n    }\n    else if (typeof name === 'string') {\n      if (name in defs) {\n        return defs[name];\n      }\n    }\n    else if ('EPSG' in name) {\n      defs['EPSG:' + name.EPSG] = name;\n    }\n    else if ('ESRI' in name) {\n      defs['ESRI:' + name.ESRI] = name;\n    }\n    else if ('IAU2000' in name) {\n      defs['IAU2000:' + name.IAU2000] = name;\n    }\n    else {\n      console.log(name);\n    }\n    return;\n  }\n\n\n}\nglobals(defs);\nexport default defs;\n","import defs from './defs';\nimport wkt from 'wkt-parser';\nimport projStr from './projString';\nimport match from './match';\nfunction testObj(code){\n  return typeof code === 'string';\n}\nfunction testDef(code){\n  return code in defs;\n}\nvar codeWords = ['PROJECTEDCRS', 'PROJCRS', 'GEOGCS','GEOCCS','PROJCS','LOCAL_CS', 'GEODCRS', 'GEODETICCRS', 'GEODETICDATUM', 'ENGCRS', 'ENGINEERINGCRS'];\nfunction testWKT(code){\n  return codeWords.some(function (word) {\n    return code.indexOf(word) > -1;\n  });\n}\nvar codes = ['3857', '900913', '3785', '102113'];\nfunction checkMercator(item) {\n  var auth = match(item, 'authority');\n  if (!auth) {\n    return;\n  }\n  var code = match(auth, 'epsg');\n  return code && codes.indexOf(code) > -1;\n}\nfunction checkProjStr(item) {\n  var ext = match(item, 'extension');\n  if (!ext) {\n    return;\n  }\n  return match(ext, 'proj4');\n}\nfunction testProj(code){\n  return code[0] === '+';\n}\nfunction parse(code){\n  if (testObj(code)) {\n    //check to see if this is a WKT string\n    if (testDef(code)) {\n      return defs[code];\n    }\n    if (testWKT(code)) {\n      var out = wkt(code);\n      // test of spetial case, due to this being a very common and often malformed\n      if (checkMercator(out)) {\n        return defs['EPSG:3857'];\n      }\n      var maybeProjStr = checkProjStr(out);\n      if (maybeProjStr) {\n        return projStr(maybeProjStr);\n      }\n      return out;\n    }\n    if (testProj(code)) {\n      return projStr(code);\n    }\n  }else{\n    return code;\n  }\n}\n\nexport default parse;\n","export default function(destination, source) {\n  destination = destination || {};\n  var value, property;\n  if (!source) {\n    return destination;\n  }\n  for (property in source) {\n    value = source[property];\n    if (value !== undefined) {\n      destination[property] = value;\n    }\n  }\n  return destination;\n}\n","export default function(eccent, sinphi, cosphi) {\n  var con = eccent * sinphi;\n  return cosphi / (Math.sqrt(1 - con * con));\n}","export default function(x) {\n  return x<0 ? -1 : 1;\n}","\nimport {TWO_PI, SPI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));\n}\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, phi, sinphi) {\n  var con = eccent * sinphi;\n  var com = 0.5 * eccent;\n  con = Math.pow(((1 - con) / (1 + con)), com);\n  return (Math.tan(0.5 * (HALF_PI - phi)) / con);\n}\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, ts) {\n  var eccnth = 0.5 * eccent;\n  var con, dphi;\n  var phi = HALF_PI - 2 * Math.atan(ts);\n  for (var i = 0; i <= 15; i++) {\n    con = eccent * Math.sin(phi);\n    dphi = HALF_PI - 2 * Math.atan(ts * (Math.pow(((1 - con) / (1 + con)), eccnth))) - phi;\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n  //console.log(\"phi2z has NoConvergence\");\n  return -9999;\n}\n","import msfnz from '../common/msfnz';\n\nimport adjust_lon from '../common/adjust_lon';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport {FORTPI, R2D, EPSLN, HALF_PI} from '../constants/values';\nexport function init() {\n  var con = this.b / this.a;\n  this.es = 1 - con * con;\n  if(!('x0' in this)){\n    this.x0 = 0;\n  }\n  if(!('y0' in this)){\n    this.y0 = 0;\n  }\n  this.e = Math.sqrt(this.es);\n  if (this.lat_ts) {\n    if (this.sphere) {\n      this.k0 = Math.cos(this.lat_ts);\n    }\n    else {\n      this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n    }\n  }\n  else {\n    if (!this.k0) {\n      if (this.k) {\n        this.k0 = this.k;\n      }\n      else {\n        this.k0 = 1;\n      }\n    }\n  }\n}\n\n/* Mercator forward equations--mapping lat,long to x,y\n  --------------------------------------------------*/\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  // convert to radians\n  if (lat * R2D > 90 && lat * R2D < -90 && lon * R2D > 180 && lon * R2D < -180) {\n    return null;\n  }\n\n  var x, y;\n  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {\n    return null;\n  }\n  else {\n    if (this.sphere) {\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + 0.5 * lat));\n    }\n    else {\n      var sinphi = Math.sin(lat);\n      var ts = tsfnz(this.e, lat, sinphi);\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 - this.a * this.k0 * Math.log(ts);\n    }\n    p.x = x;\n    p.y = y;\n    return p;\n  }\n}\n\n/* Mercator inverse equations--mapping x,y to lat/long\n  --------------------------------------------------*/\nexport function inverse(p) {\n\n  var x = p.x - this.x0;\n  var y = p.y - this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lat = HALF_PI - 2 * Math.atan(Math.exp(-y / (this.a * this.k0)));\n  }\n  else {\n    var ts = Math.exp(-y / (this.a * this.k0));\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  lon = adjust_lon(this.long0 + x / (this.a * this.k0));\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mercator\", \"Popular Visualisation Pseudo Mercator\", \"Mercator_1SP\", \"Mercator_Auxiliary_Sphere\", \"merc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export function init() {\n  //no-op for longlat\n}\n\nfunction identity(pt) {\n  return pt;\n}\nexport {identity as forward};\nexport {identity as inverse};\nexport var names = [\"longlat\", \"identity\"];\nexport default {\n  init: init,\n  forward: identity,\n  inverse: identity,\n  names: names\n};\n","import merc from \"./projections/merc\";\nimport longlat from \"./projections/longlat\";\nvar projs = [merc, longlat];\nvar names = {};\nvar projStore = [];\n\nfunction add(proj, i) {\n  var len = projStore.length;\n  if (!proj.names) {\n    console.log(i);\n    return true;\n  }\n  projStore[len] = proj;\n  proj.names.forEach(function(n) {\n    names[n.toLowerCase()] = len;\n  });\n  return this;\n}\n\nexport {add};\n\nexport function get(name) {\n  if (!name) {\n    return false;\n  }\n  var n = name.toLowerCase();\n  if (typeof names[n] !== 'undefined' && projStore[names[n]]) {\n    return projStore[names[n]];\n  }\n}\n\nexport function start() {\n  projs.forEach(add);\n}\nexport default {\n  start: start,\n  add: add,\n  get: get\n};\n","var exports = {};\nexport {exports as default};\nexports.MERIT = {\n  a: 6378137.0,\n  rf: 298.257,\n  ellipseName: \"MERIT 1983\"\n};\n\nexports.SGS85 = {\n  a: 6378136.0,\n  rf: 298.257,\n  ellipseName: \"Soviet Geodetic System 85\"\n};\n\nexports.GRS80 = {\n  a: 6378137.0,\n  rf: 298.257222101,\n  ellipseName: \"GRS 1980(IUGG, 1980)\"\n};\n\nexports.IAU76 = {\n  a: 6378140.0,\n  rf: 298.257,\n  ellipseName: \"IAU 1976\"\n};\n\nexports.airy = {\n  a: 6377563.396,\n  b: 6356256.910,\n  ellipseName: \"Airy 1830\"\n};\n\nexports.APL4 = {\n  a: 6378137,\n  rf: 298.25,\n  ellipseName: \"Appl. Physics. 1965\"\n};\n\nexports.NWL9D = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"Naval Weapons Lab., 1965\"\n};\n\nexports.mod_airy = {\n  a: 6377340.189,\n  b: 6356034.446,\n  ellipseName: \"Modified Airy\"\n};\n\nexports.andrae = {\n  a: 6377104.43,\n  rf: 300.0,\n  ellipseName: \"Andrae 1876 (Den., Iclnd.)\"\n};\n\nexports.aust_SA = {\n  a: 6378160.0,\n  rf: 298.25,\n  ellipseName: \"Australian Natl & S. Amer. 1969\"\n};\n\nexports.GRS67 = {\n  a: 6378160.0,\n  rf: 298.2471674270,\n  ellipseName: \"GRS 67(IUGG 1967)\"\n};\n\nexports.bessel = {\n  a: 6377397.155,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841\"\n};\n\nexports.bess_nam = {\n  a: 6377483.865,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841 (Namibia)\"\n};\n\nexports.clrk66 = {\n  a: 6378206.4,\n  b: 6356583.8,\n  ellipseName: \"Clarke 1866\"\n};\n\nexports.clrk80 = {\n  a: 6378249.145,\n  rf: 293.4663,\n  ellipseName: \"Clarke 1880 mod.\"\n};\n\nexports.clrk58 = {\n  a: 6378293.645208759,\n  rf: 294.2606763692654,\n  ellipseName: \"Clarke 1858\"\n};\n\nexports.CPM = {\n  a: 6375738.7,\n  rf: 334.29,\n  ellipseName: \"Comm. des Poids et Mesures 1799\"\n};\n\nexports.delmbr = {\n  a: 6376428.0,\n  rf: 311.5,\n  ellipseName: \"Delambre 1810 (Belgium)\"\n};\n\nexports.engelis = {\n  a: 6378136.05,\n  rf: 298.2566,\n  ellipseName: \"Engelis 1985\"\n};\n\nexports.evrst30 = {\n  a: 6377276.345,\n  rf: 300.8017,\n  ellipseName: \"Everest 1830\"\n};\n\nexports.evrst48 = {\n  a: 6377304.063,\n  rf: 300.8017,\n  ellipseName: \"Everest 1948\"\n};\n\nexports.evrst56 = {\n  a: 6377301.243,\n  rf: 300.8017,\n  ellipseName: \"Everest 1956\"\n};\n\nexports.evrst69 = {\n  a: 6377295.664,\n  rf: 300.8017,\n  ellipseName: \"Everest 1969\"\n};\n\nexports.evrstSS = {\n  a: 6377298.556,\n  rf: 300.8017,\n  ellipseName: \"Everest (Sabah & Sarawak)\"\n};\n\nexports.fschr60 = {\n  a: 6378166.0,\n  rf: 298.3,\n  ellipseName: \"Fischer (Mercury Datum) 1960\"\n};\n\nexports.fschr60m = {\n  a: 6378155.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1960\"\n};\n\nexports.fschr68 = {\n  a: 6378150.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1968\"\n};\n\nexports.helmert = {\n  a: 6378200.0,\n  rf: 298.3,\n  ellipseName: \"Helmert 1906\"\n};\n\nexports.hough = {\n  a: 6378270.0,\n  rf: 297.0,\n  ellipseName: \"Hough\"\n};\n\nexports.intl = {\n  a: 6378388.0,\n  rf: 297.0,\n  ellipseName: \"International 1909 (Hayford)\"\n};\n\nexports.kaula = {\n  a: 6378163.0,\n  rf: 298.24,\n  ellipseName: \"Kaula 1961\"\n};\n\nexports.lerch = {\n  a: 6378139.0,\n  rf: 298.257,\n  ellipseName: \"Lerch 1979\"\n};\n\nexports.mprts = {\n  a: 6397300.0,\n  rf: 191.0,\n  ellipseName: \"Maupertius 1738\"\n};\n\nexports.new_intl = {\n  a: 6378157.5,\n  b: 6356772.2,\n  ellipseName: \"New International 1967\"\n};\n\nexports.plessis = {\n  a: 6376523.0,\n  rf: 6355863.0,\n  ellipseName: \"Plessis 1817 (France)\"\n};\n\nexports.krass = {\n  a: 6378245.0,\n  rf: 298.3,\n  ellipseName: \"Krassovsky, 1942\"\n};\n\nexports.SEasia = {\n  a: 6378155.0,\n  b: 6356773.3205,\n  ellipseName: \"Southeast Asia\"\n};\n\nexports.walbeck = {\n  a: 6376896.0,\n  b: 6355834.8467,\n  ellipseName: \"Walbeck\"\n};\n\nexports.WGS60 = {\n  a: 6378165.0,\n  rf: 298.3,\n  ellipseName: \"WGS 60\"\n};\n\nexports.WGS66 = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"WGS 66\"\n};\n\nexports.WGS7 = {\n  a: 6378135.0,\n  rf: 298.26,\n  ellipseName: \"WGS 72\"\n};\n\nexport var WGS84 = exports.WGS84 = {\n  a: 6378137.0,\n  rf: 298.257223563,\n  ellipseName: \"WGS 84\"\n};\n\nexports.sphere = {\n  a: 6370997.0,\n  b: 6370997.0,\n  ellipseName: \"Normal Sphere (r=6370997)\"\n};\n","import {SIXTH, RA4, RA6, EPSLN} from './constants/values';\nimport {default as Ellipsoid, WGS84} from './constants/Ellipsoid';\nimport match from './match';\n\nexport function eccentricity(a, b, rf, R_A) {\n  var a2 = a * a; // used in geocentric\n  var b2 = b * b; // used in geocentric\n  var es = (a2 - b2) / a2; // e ^ 2\n  var e = 0;\n  if (R_A) {\n    a *= 1 - es * (SIXTH + es * (RA4 + es * RA6));\n    a2 = a * a;\n    es = 0;\n  } else {\n    e = Math.sqrt(es); // eccentricity\n  }\n  var ep2 = (a2 - b2) / b2; // used in geocentric\n  return {\n    es: es,\n    e: e,\n    ep2: ep2\n  };\n}\nexport function sphere(a, b, rf, ellps, sphere) {\n  if (!a) { // do we have an ellipsoid?\n    var ellipse = match(Ellipsoid, ellps);\n    if (!ellipse) {\n      ellipse = WGS84;\n    }\n    a = ellipse.a;\n    b = ellipse.b;\n    rf = ellipse.rf;\n  }\n\n  if (rf && !b) {\n    b = (1.0 - 1.0 / rf) * a;\n  }\n  if (rf === 0 || Math.abs(a - b) < EPSLN) {\n    sphere = true;\n    b = a;\n  }\n  return {\n    a: a,\n    b: b,\n    rf: rf,\n    sphere: sphere\n  };\n}\n","var exports = {};\nexport {exports as default};\nexports.wgs84 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"WGS84\",\n  datumName: \"WGS84\"\n};\n\nexports.ch1903 = {\n  towgs84: \"674.374,15.056,405.346\",\n  ellipse: \"bessel\",\n  datumName: \"swiss\"\n};\n\nexports.ggrs87 = {\n  towgs84: \"-199.87,74.79,246.62\",\n  ellipse: \"GRS80\",\n  datumName: \"Greek_Geodetic_Reference_System_1987\"\n};\n\nexports.nad83 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"GRS80\",\n  datumName: \"North_American_Datum_1983\"\n};\n\nexports.nad27 = {\n  nadgrids: \"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat\",\n  ellipse: \"clrk66\",\n  datumName: \"North_American_Datum_1927\"\n};\n\nexports.potsdam = {\n  towgs84: \"598.1,73.7,418.2,0.202,0.045,-2.455,6.7\",\n  ellipse: \"bessel\",\n  datumName: \"Potsdam Rauenberg 1950 DHDN\"\n};\n\nexports.carthage = {\n  towgs84: \"-263.0,6.0,431.0\",\n  ellipse: \"clark80\",\n  datumName: \"Carthage 1934 Tunisia\"\n};\n\nexports.hermannskogel = {\n  towgs84: \"577.326,90.129,463.919,5.137,1.474,5.297,2.4232\",\n  ellipse: \"bessel\",\n  datumName: \"Hermannskogel\"\n};\n\nexports.osni52 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"airy\",\n  datumName: \"Irish National\"\n};\n\nexports.ire65 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"mod_airy\",\n  datumName: \"Ireland 1965\"\n};\n\nexports.rassadiran = {\n  towgs84: \"-133.63,-157.5,-158.62\",\n  ellipse: \"intl\",\n  datumName: \"Rassadiran\"\n};\n\nexports.nzgd49 = {\n  towgs84: \"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993\",\n  ellipse: \"intl\",\n  datumName: \"New Zealand Geodetic Datum 1949\"\n};\n\nexports.osgb36 = {\n  towgs84: \"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894\",\n  ellipse: \"airy\",\n  datumName: \"Airy 1830\"\n};\n\nexports.s_jtsk = {\n  towgs84: \"589,76,480\",\n  ellipse: 'bessel',\n  datumName: 'S-JTSK (Ferro)'\n};\n\nexports.beduaram = {\n  towgs84: '-106,-87,188',\n  ellipse: 'clrk80',\n  datumName: 'Beduaram'\n};\n\nexports.gunung_segara = {\n  towgs84: '-403,684,41',\n  ellipse: 'bessel',\n  datumName: 'Gunung Segara Jakarta'\n};\n\nexports.rnb72 = {\n  towgs84: \"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1\",\n  ellipse: \"intl\",\n  datumName: \"Reseau National Belge 1972\"\n};\n","import {PJD_3PARAM, PJD_7PARAM, PJD_GRIDSHIFT, PJD_WGS84, PJD_NODATUM, SEC_TO_RAD} from './constants/values';\n\nfunction datum(datumCode, datum_params, a, b, es, ep2, nadgrids) {\n  var out = {};\n\n  if (datumCode === undefined || datumCode === 'none') {\n    out.datum_type = PJD_NODATUM;\n  } else {\n    out.datum_type = PJD_WGS84;\n  }\n\n  if (datum_params) {\n    out.datum_params = datum_params.map(parseFloat);\n    if (out.datum_params[0] !== 0 || out.datum_params[1] !== 0 || out.datum_params[2] !== 0) {\n      out.datum_type = PJD_3PARAM;\n    }\n    if (out.datum_params.length > 3) {\n      if (out.datum_params[3] !== 0 || out.datum_params[4] !== 0 || out.datum_params[5] !== 0 || out.datum_params[6] !== 0) {\n        out.datum_type = PJD_7PARAM;\n        out.datum_params[3] *= SEC_TO_RAD;\n        out.datum_params[4] *= SEC_TO_RAD;\n        out.datum_params[5] *= SEC_TO_RAD;\n        out.datum_params[6] = (out.datum_params[6] / 1000000.0) + 1.0;\n      }\n    }\n  }\n\n  if (nadgrids) {\n    out.datum_type = PJD_GRIDSHIFT;\n    out.grids = nadgrids;\n  }\n  out.a = a; //datum object also uses these values\n  out.b = b;\n  out.es = es;\n  out.ep2 = ep2;\n  return out;\n}\n\nexport default datum;\n","/**\n * Resources for details of NTv2 file formats:\n * - https://web.archive.org/web/20140127204822if_/http://www.mgs.gov.on.ca:80/stdprodconsume/groups/content/@mgs/@iandit/documents/resourcelist/stel02_047447.pdf\n * - http://mimaka.com/help/gs/html/004_NTV2%20Data%20Format.htm\n */\n\nvar loadedNadgrids = {};\n\n/**\n * Load a binary NTv2 file (.gsb) to a key that can be used in a proj string like +nadgrids=<key>. Pass the NTv2 file\n * as an ArrayBuffer.\n */\nexport default function nadgrid(key, data) {\n  var view = new DataView(data);\n  var isLittleEndian = detectLittleEndian(view);\n  var header = readHeader(view, isLittleEndian);\n  if (header.nSubgrids > 1) {\n    console.log('Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored');\n  }\n  var subgrids = readSubgrids(view, header, isLittleEndian);\n  var nadgrid = {header: header, subgrids: subgrids};\n  loadedNadgrids[key] = nadgrid;\n  return nadgrid;\n}\n\n/**\n * Given a proj4 value for nadgrids, return an array of loaded grids\n */\nexport function getNadgrids(nadgrids) {\n  // Format details: http://proj.maptools.org/gen_parms.html\n  if (nadgrids === undefined) { return null; }\n  var grids = nadgrids.split(',');\n  return grids.map(parseNadgridString);\n}\n\nfunction parseNadgridString(value) {\n  if (value.length === 0) {\n    return null;\n  }\n  var optional = value[0] === '@';\n  if (optional) {\n    value = value.slice(1);\n  }\n  if (value === 'null') {\n    return {name: 'null', mandatory: !optional, grid: null, isNull: true};\n  }\n  return {\n    name: value,\n    mandatory: !optional,\n    grid: loadedNadgrids[value] || null,\n    isNull: false\n  };\n}\n\nfunction secondsToRadians(seconds) {\n  return (seconds / 3600) * Math.PI / 180;\n}\n\nfunction detectLittleEndian(view) {\n  var nFields = view.getInt32(8, false);\n  if (nFields === 11) {\n    return false;\n  }\n  nFields = view.getInt32(8, true);\n  if (nFields !== 11) {\n    console.warn('Failed to detect nadgrid endian-ness, defaulting to little-endian');\n  }\n  return true;\n}\n\nfunction readHeader(view, isLittleEndian) {\n  return {\n    nFields: view.getInt32(8, isLittleEndian),\n    nSubgridFields: view.getInt32(24, isLittleEndian),\n    nSubgrids: view.getInt32(40, isLittleEndian),\n    shiftType: decodeString(view, 56, 56 + 8).trim(),\n    fromSemiMajorAxis: view.getFloat64(120, isLittleEndian),\n    fromSemiMinorAxis: view.getFloat64(136, isLittleEndian),\n    toSemiMajorAxis: view.getFloat64(152, isLittleEndian),\n    toSemiMinorAxis: view.getFloat64(168, isLittleEndian),\n  };\n}\n\nfunction decodeString(view, start, end) {\n  return String.fromCharCode.apply(null, new Uint8Array(view.buffer.slice(start, end)));\n}\n\nfunction readSubgrids(view, header, isLittleEndian) {\n  var gridOffset = 176;\n  var grids = [];\n  for (var i = 0; i < header.nSubgrids; i++) {\n    var subHeader = readGridHeader(view, gridOffset, isLittleEndian);\n    var nodes = readGridNodes(view, gridOffset, subHeader, isLittleEndian);\n    var lngColumnCount = Math.round(\n      1 + (subHeader.upperLongitude - subHeader.lowerLongitude) / subHeader.longitudeInterval);\n    var latColumnCount = Math.round(\n      1 + (subHeader.upperLatitude - subHeader.lowerLatitude) / subHeader.latitudeInterval);\n    // Proj4 operates on radians whereas the coordinates are in seconds in the grid\n    grids.push({\n      ll: [secondsToRadians(subHeader.lowerLongitude), secondsToRadians(subHeader.lowerLatitude)],\n      del: [secondsToRadians(subHeader.longitudeInterval), secondsToRadians(subHeader.latitudeInterval)],\n      lim: [lngColumnCount, latColumnCount],\n      count: subHeader.gridNodeCount,\n      cvs: mapNodes(nodes)\n    });\n  }\n  return grids;\n}\n\nfunction mapNodes(nodes) {\n  return nodes.map(function (r) {return [secondsToRadians(r.longitudeShift), secondsToRadians(r.latitudeShift)];});\n}\n\nfunction readGridHeader(view, offset, isLittleEndian) {\n  return {\n    name: decodeString(view, offset + 8, offset + 16).trim(),\n    parent: decodeString(view, offset + 24, offset + 24 + 8).trim(),\n    lowerLatitude: view.getFloat64(offset + 72, isLittleEndian),\n    upperLatitude: view.getFloat64(offset + 88, isLittleEndian),\n    lowerLongitude: view.getFloat64(offset + 104, isLittleEndian),\n    upperLongitude: view.getFloat64(offset + 120, isLittleEndian),\n    latitudeInterval: view.getFloat64(offset + 136, isLittleEndian),\n    longitudeInterval: view.getFloat64(offset + 152, isLittleEndian),\n    gridNodeCount: view.getInt32(offset + 168, isLittleEndian)\n  };\n}\n\nfunction readGridNodes(view, offset, gridHeader, isLittleEndian) {\n  var nodesOffset = offset + 176;\n  var gridRecordLength = 16;\n  var gridShiftRecords = [];\n  for (var i = 0; i < gridHeader.gridNodeCount; i++) {\n    var record = {\n      latitudeShift: view.getFloat32(nodesOffset + i * gridRecordLength, isLittleEndian),\n      longitudeShift: view.getFloat32(nodesOffset + i * gridRecordLength + 4, isLittleEndian),\n      latitudeAccuracy: view.getFloat32(nodesOffset + i * gridRecordLength + 8, isLittleEndian),\n      longitudeAccuracy: view.getFloat32(nodesOffset + i * gridRecordLength + 12, isLittleEndian),\n    };\n    gridShiftRecords.push(record);\n  }\n  return gridShiftRecords;\n}\n","import parseCode from './parseCode';\nimport extend from './extend';\nimport projections from './projections';\nimport {sphere as dc_sphere, eccentricity as dc_eccentricity} from './deriveConstants';\nimport Datum from './constants/Datum';\nimport datum from './datum';\nimport match from './match';\nimport {getNadgrids} from \"./nadgrid\";\n\nfunction Projection(srsCode,callback) {\n  if (!(this instanceof Projection)) {\n    return new Projection(srsCode);\n  }\n  callback = callback || function(error){\n    if(error){\n      throw error;\n    }\n  };\n  var json = parseCode(srsCode);\n  if(typeof json !== 'object'){\n    callback(srsCode);\n    return;\n  }\n  var ourProj = Projection.projections.get(json.projName);\n  if(!ourProj){\n    callback(srsCode);\n    return;\n  }\n  if (json.datumCode && json.datumCode !== 'none') {\n    var datumDef = match(Datum, json.datumCode);\n    if (datumDef) {\n      json.datum_params = json.datum_params || (datumDef.towgs84 ? datumDef.towgs84.split(',') : null);\n      json.ellps = datumDef.ellipse;\n      json.datumName = datumDef.datumName ? datumDef.datumName : json.datumCode;\n    }\n  }\n  json.k0 = json.k0 || 1.0;\n  json.axis = json.axis || 'enu';\n  json.ellps = json.ellps || 'wgs84';\n  json.lat1 = json.lat1 || json.lat0; // Lambert_Conformal_Conic_1SP, for example, needs this\n\n  var sphere_ = dc_sphere(json.a, json.b, json.rf, json.ellps, json.sphere);\n  var ecc = dc_eccentricity(sphere_.a, sphere_.b, sphere_.rf, json.R_A);\n  var nadgrids = getNadgrids(json.nadgrids);\n  var datumObj = json.datum || datum(json.datumCode, json.datum_params, sphere_.a, sphere_.b, ecc.es, ecc.ep2,\n    nadgrids);\n\n  extend(this, json); // transfer everything over from the projection because we don't know what we'll need\n  extend(this, ourProj); // transfer all the methods from the projection\n\n  // copy the 4 things over we calulated in deriveConstants.sphere\n  this.a = sphere_.a;\n  this.b = sphere_.b;\n  this.rf = sphere_.rf;\n  this.sphere = sphere_.sphere;\n\n  // copy the 3 things we calculated in deriveConstants.eccentricity\n  this.es = ecc.es;\n  this.e = ecc.e;\n  this.ep2 = ecc.ep2;\n\n  // add in the datum object\n  this.datum = datumObj;\n\n  // init the projection\n  this.init();\n\n  // legecy callback from back in the day when it went to spatialreference.org\n  callback(null, this);\n\n}\nProjection.projections = projections;\nProjection.projections.start();\nexport default Projection;\n","'use strict';\nimport {PJD_3PARAM, PJD_7PARAM, HALF_PI} from './constants/values';\nexport function compareDatums(source, dest) {\n  if (source.datum_type !== dest.datum_type) {\n    return false; // false, datums are not equal\n  } else if (source.a !== dest.a || Math.abs(source.es - dest.es) > 0.000000000050) {\n    // the tolerance for es is to ensure that GRS80 and WGS84\n    // are considered identical\n    return false;\n  } else if (source.datum_type === PJD_3PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2]);\n  } else if (source.datum_type === PJD_7PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2] && source.datum_params[3] === dest.datum_params[3] && source.datum_params[4] === dest.datum_params[4] && source.datum_params[5] === dest.datum_params[5] && source.datum_params[6] === dest.datum_params[6]);\n  } else {\n    return true; // datums are equal\n  }\n} // cs_compare_datums()\n\n/*\n * The function Convert_Geodetic_To_Geocentric converts geodetic coordinates\n * (latitude, longitude, and height) to geocentric coordinates (X, Y, Z),\n * according to the current ellipsoid parameters.\n *\n *    Latitude  : Geodetic latitude in radians                     (input)\n *    Longitude : Geodetic longitude in radians                    (input)\n *    Height    : Geodetic height, in meters                       (input)\n *    X         : Calculated Geocentric X coordinate, in meters    (output)\n *    Y         : Calculated Geocentric Y coordinate, in meters    (output)\n *    Z         : Calculated Geocentric Z coordinate, in meters    (output)\n *\n */\nexport function geodeticToGeocentric(p, es, a) {\n  var Longitude = p.x;\n  var Latitude = p.y;\n  var Height = p.z ? p.z : 0; //Z value not always supplied\n\n  var Rn; /*  Earth radius at location  */\n  var Sin_Lat; /*  Math.sin(Latitude)  */\n  var Sin2_Lat; /*  Square of Math.sin(Latitude)  */\n  var Cos_Lat; /*  Math.cos(Latitude)  */\n\n  /*\n   ** Don't blow up if Latitude is just a little out of the value\n   ** range as it may just be a rounding issue.  Also removed longitude\n   ** test, it should be wrapped by Math.cos() and Math.sin().  NFW for PROJ.4, Sep/2001.\n   */\n  if (Latitude < -HALF_PI && Latitude > -1.001 * HALF_PI) {\n    Latitude = -HALF_PI;\n  } else if (Latitude > HALF_PI && Latitude < 1.001 * HALF_PI) {\n    Latitude = HALF_PI;\n  } else if (Latitude < -HALF_PI) {\n    /* Latitude out of range */\n    //..reportError('geocent:lat out of range:' + Latitude);\n    return { x: -Infinity, y: -Infinity, z: p.z };\n  } else if (Latitude > HALF_PI) {\n    /* Latitude out of range */\n    return { x: Infinity, y: Infinity, z: p.z };\n  }\n\n  if (Longitude > Math.PI) {\n    Longitude -= (2 * Math.PI);\n  }\n  Sin_Lat = Math.sin(Latitude);\n  Cos_Lat = Math.cos(Latitude);\n  Sin2_Lat = Sin_Lat * Sin_Lat;\n  Rn = a / (Math.sqrt(1.0e0 - es * Sin2_Lat));\n  return {\n    x: (Rn + Height) * Cos_Lat * Math.cos(Longitude),\n    y: (Rn + Height) * Cos_Lat * Math.sin(Longitude),\n    z: ((Rn * (1 - es)) + Height) * Sin_Lat\n  };\n} // cs_geodetic_to_geocentric()\n\nexport function geocentricToGeodetic(p, es, a, b) {\n  /* local defintions and variables */\n  /* end-criterium of loop, accuracy of sin(Latitude) */\n  var genau = 1e-12;\n  var genau2 = (genau * genau);\n  var maxiter = 30;\n\n  var P; /* distance between semi-minor axis and location */\n  var RR; /* distance between center and location */\n  var CT; /* sin of geocentric latitude */\n  var ST; /* cos of geocentric latitude */\n  var RX;\n  var RK;\n  var RN; /* Earth radius at location */\n  var CPHI0; /* cos of start or old geodetic latitude in iterations */\n  var SPHI0; /* sin of start or old geodetic latitude in iterations */\n  var CPHI; /* cos of searched geodetic latitude */\n  var SPHI; /* sin of searched geodetic latitude */\n  var SDPHI; /* end-criterium: addition-theorem of sin(Latitude(iter)-Latitude(iter-1)) */\n  var iter; /* # of continous iteration, max. 30 is always enough (s.a.) */\n\n  var X = p.x;\n  var Y = p.y;\n  var Z = p.z ? p.z : 0.0; //Z value not always supplied\n  var Longitude;\n  var Latitude;\n  var Height;\n\n  P = Math.sqrt(X * X + Y * Y);\n  RR = Math.sqrt(X * X + Y * Y + Z * Z);\n\n  /*      special cases for latitude and longitude */\n  if (P / a < genau) {\n\n    /*  special case, if P=0. (X=0., Y=0.) */\n    Longitude = 0.0;\n\n    /*  if (X,Y,Z)=(0.,0.,0.) then Height becomes semi-minor axis\n     *  of ellipsoid (=center of mass), Latitude becomes PI/2 */\n    if (RR / a < genau) {\n      Latitude = HALF_PI;\n      Height = -b;\n      return {\n        x: p.x,\n        y: p.y,\n        z: p.z\n      };\n    }\n  } else {\n    /*  ellipsoidal (geodetic) longitude\n     *  interval: -PI < Longitude <= +PI */\n    Longitude = Math.atan2(Y, X);\n  }\n\n  /* --------------------------------------------------------------\n   * Following iterative algorithm was developped by\n   * \"Institut for Erdmessung\", University of Hannover, July 1988.\n   * Internet: www.ife.uni-hannover.de\n   * Iterative computation of CPHI,SPHI and Height.\n   * Iteration of CPHI and SPHI to 10**-12 radian resp.\n   * 2*10**-7 arcsec.\n   * --------------------------------------------------------------\n   */\n  CT = Z / RR;\n  ST = P / RR;\n  RX = 1.0 / Math.sqrt(1.0 - es * (2.0 - es) * ST * ST);\n  CPHI0 = ST * (1.0 - es) * RX;\n  SPHI0 = CT * RX;\n  iter = 0;\n\n  /* loop to find sin(Latitude) resp. Latitude\n   * until |sin(Latitude(iter)-Latitude(iter-1))| < genau */\n  do {\n    iter++;\n    RN = a / Math.sqrt(1.0 - es * SPHI0 * SPHI0);\n\n    /*  ellipsoidal (geodetic) height */\n    Height = P * CPHI0 + Z * SPHI0 - RN * (1.0 - es * SPHI0 * SPHI0);\n\n    RK = es * RN / (RN + Height);\n    RX = 1.0 / Math.sqrt(1.0 - RK * (2.0 - RK) * ST * ST);\n    CPHI = ST * (1.0 - RK) * RX;\n    SPHI = CT * RX;\n    SDPHI = SPHI * CPHI0 - CPHI * SPHI0;\n    CPHI0 = CPHI;\n    SPHI0 = SPHI;\n  }\n  while (SDPHI * SDPHI > genau2 && iter < maxiter);\n\n  /*      ellipsoidal (geodetic) latitude */\n  Latitude = Math.atan(SPHI / Math.abs(CPHI));\n  return {\n    x: Longitude,\n    y: Latitude,\n    z: Height\n  };\n} // cs_geocentric_to_geodetic()\n\n/****************************************************************/\n// pj_geocentic_to_wgs84( p )\n//  p = point to transform in geocentric coordinates (x,y,z)\n\n\n/** point object, nothing fancy, just allows values to be\n    passed back and forth by reference rather than by value.\n    Other point classes may be used as long as they have\n    x and y properties, which will get modified in the transform method.\n*/\nexport function geocentricToWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x + datum_params[0],\n      y: p.y + datum_params[1],\n      z: p.z + datum_params[2],\n    };\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: M_BF * (p.x - Rz_BF * p.y + Ry_BF * p.z) + Dx_BF,\n      y: M_BF * (Rz_BF * p.x + p.y - Rx_BF * p.z) + Dy_BF,\n      z: M_BF * (-Ry_BF * p.x + Rx_BF * p.y + p.z) + Dz_BF\n    };\n  }\n} // cs_geocentric_to_wgs84\n\n/****************************************************************/\n// pj_geocentic_from_wgs84()\n//  coordinate system definition,\n//  point to transform in geocentric coordinates (x,y,z)\nexport function geocentricFromWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x - datum_params[0],\n      y: p.y - datum_params[1],\n      z: p.z - datum_params[2],\n    };\n\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    var x_tmp = (p.x - Dx_BF) / M_BF;\n    var y_tmp = (p.y - Dy_BF) / M_BF;\n    var z_tmp = (p.z - Dz_BF) / M_BF;\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n\n    return {\n      x: x_tmp + Rz_BF * y_tmp - Ry_BF * z_tmp,\n      y: -Rz_BF * x_tmp + y_tmp + Rx_BF * z_tmp,\n      z: Ry_BF * x_tmp - Rx_BF * y_tmp + z_tmp\n    };\n  } //cs_geocentric_from_wgs84()\n}\n","import {\n  PJD_3PARAM,\n  PJD_7PARAM,\n  PJD_GRIDSHIFT,\n  PJD_NODATUM,\n  R2D,\n  SRS_WGS84_ESQUARED,\n  SRS_WGS84_SEMIMAJOR, SRS_WGS84_SEMIMINOR\n} from './constants/values';\n\nimport {geodeticToGeocentric, geocentricToGeodetic, geocentricToWgs84, geocentricFromWgs84, compareDatums} from './datumUtils';\nimport adjust_lon from \"./common/adjust_lon\";\nfunction checkParams(type) {\n  return (type === PJD_3PARAM || type === PJD_7PARAM);\n}\n\nexport default function(source, dest, point) {\n  // Short cut if the datums are identical.\n  if (compareDatums(source, dest)) {\n    return point; // in this case, zero is sucess,\n    // whereas cs_compare_datums returns 1 to indicate TRUE\n    // confusing, should fix this\n  }\n\n  // Explicitly skip datum transform by setting 'datum=none' as parameter for either source or dest\n  if (source.datum_type === PJD_NODATUM || dest.datum_type === PJD_NODATUM) {\n    return point;\n  }\n\n  // If this datum requires grid shifts, then apply it to geodetic coordinates.\n  var source_a = source.a;\n  var source_es = source.es;\n  if (source.datum_type === PJD_GRIDSHIFT) {\n    var gridShiftCode = applyGridShift(source, false, point);\n    if (gridShiftCode !== 0) {\n      return undefined;\n    }\n    source_a = SRS_WGS84_SEMIMAJOR;\n    source_es = SRS_WGS84_ESQUARED;\n  }\n\n  var dest_a = dest.a;\n  var dest_b = dest.b;\n  var dest_es = dest.es;\n  if (dest.datum_type === PJD_GRIDSHIFT) {\n    dest_a = SRS_WGS84_SEMIMAJOR;\n    dest_b = SRS_WGS84_SEMIMINOR;\n    dest_es = SRS_WGS84_ESQUARED;\n  }\n\n  // Do we need to go through geocentric coordinates?\n  if (source_es === dest_es && source_a === dest_a && !checkParams(source.datum_type) &&  !checkParams(dest.datum_type)) {\n    return point;\n  }\n\n  // Convert to geocentric coordinates.\n  point = geodeticToGeocentric(point, source_es, source_a);\n  // Convert between datums\n  if (checkParams(source.datum_type)) {\n    point = geocentricToWgs84(point, source.datum_type, source.datum_params);\n  }\n  if (checkParams(dest.datum_type)) {\n    point = geocentricFromWgs84(point, dest.datum_type, dest.datum_params);\n  }\n  point = geocentricToGeodetic(point, dest_es, dest_a, dest_b);\n\n  if (dest.datum_type === PJD_GRIDSHIFT) {\n    var destGridShiftResult = applyGridShift(dest, true, point);\n    if (destGridShiftResult !== 0) {\n      return undefined;\n    }\n  }\n\n  return point;\n}\n\nexport function applyGridShift(source, inverse, point) {\n  if (source.grids === null || source.grids.length === 0) {\n    console.log('Grid shift grids not found');\n    return -1;\n  }\n  var input = {x: -point.x, y: point.y};\n  var output = {x: Number.NaN, y: Number.NaN};\n  var onlyMandatoryGrids = false;\n  var attemptedGrids = [];\n  for (var i = 0; i < source.grids.length; i++) {\n    var grid = source.grids[i];\n    attemptedGrids.push(grid.name);\n    if (grid.isNull) {\n      output = input;\n      break;\n    }\n    onlyMandatoryGrids = grid.mandatory;\n    if (grid.grid === null) {\n      if (grid.mandatory) {\n        console.log(\"Unable to find mandatory grid '\" + grid.name + \"'\");\n        return -1;\n      }\n      continue;\n    }\n    var subgrid = grid.grid.subgrids[0];\n    // skip tables that don't match our point at all\n    var epsilon = (Math.abs(subgrid.del[1]) + Math.abs(subgrid.del[0])) / 10000.0;\n    var minX = subgrid.ll[0] - epsilon;\n    var minY = subgrid.ll[1] - epsilon;\n    var maxX = subgrid.ll[0] + (subgrid.lim[0] - 1) * subgrid.del[0] + epsilon;\n    var maxY = subgrid.ll[1] + (subgrid.lim[1] - 1) * subgrid.del[1] + epsilon;\n    if (minY > input.y || minX > input.x || maxY < input.y || maxX < input.x ) {\n      continue;\n    }\n    output = applySubgridShift(input, inverse, subgrid);\n    if (!isNaN(output.x)) {\n      break;\n    }\n  }\n  if (isNaN(output.x)) {\n    console.log(\"Failed to find a grid shift table for location '\"+\n      -input.x * R2D + \" \" + input.y * R2D + \" tried: '\" + attemptedGrids + \"'\");\n    return -1;\n  }\n  point.x = -output.x;\n  point.y = output.y;\n  return 0;\n}\n\nfunction applySubgridShift(pin, inverse, ct) {\n  var val = {x: Number.NaN, y: Number.NaN};\n  if (isNaN(pin.x)) { return val; }\n  var tb = {x: pin.x, y: pin.y};\n  tb.x -= ct.ll[0];\n  tb.y -= ct.ll[1];\n  tb.x = adjust_lon(tb.x - Math.PI) + Math.PI;\n  var t = nadInterpolate(tb, ct);\n  if (inverse) {\n    if (isNaN(t.x)) {\n      return val;\n    }\n    t.x = tb.x - t.x;\n    t.y = tb.y - t.y;\n    var i = 9, tol = 1e-12;\n    var dif, del;\n    do {\n      del = nadInterpolate(t, ct);\n      if (isNaN(del.x)) {\n        console.log(\"Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.\");\n        break;\n      }\n      dif = {x: tb.x - (del.x + t.x), y: tb.y - (del.y + t.y)};\n      t.x += dif.x;\n      t.y += dif.y;\n    } while (i-- && Math.abs(dif.x) > tol && Math.abs(dif.y) > tol);\n    if (i < 0) {\n      console.log(\"Inverse grid shift iterator failed to converge.\");\n      return val;\n    }\n    val.x = adjust_lon(t.x + ct.ll[0]);\n    val.y = t.y + ct.ll[1];\n  } else {\n    if (!isNaN(t.x)) {\n      val.x = pin.x + t.x;\n      val.y = pin.y + t.y;\n    }\n  }\n  return val;\n}\n\nfunction nadInterpolate(pin, ct) {\n  var t = {x: pin.x / ct.del[0], y: pin.y / ct.del[1]};\n  var indx = {x: Math.floor(t.x), y: Math.floor(t.y)};\n  var frct = {x: t.x - 1.0 * indx.x, y: t.y - 1.0 * indx.y};\n  var val= {x: Number.NaN, y: Number.NaN};\n  var inx;\n  if (indx.x < 0 || indx.x >= ct.lim[0]) {\n    return val;\n  }\n  if (indx.y < 0 || indx.y >= ct.lim[1]) {\n    return val;\n  }\n  inx = (indx.y * ct.lim[0]) + indx.x;\n  var f00 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx++;\n  var f10= {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx += ct.lim[0];\n  var f11 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx--;\n  var f01 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  var m11 = frct.x * frct.y, m10 = frct.x * (1.0 - frct.y),\n    m00 = (1.0 - frct.x) * (1.0 - frct.y), m01 = (1.0 - frct.x) * frct.y;\n  val.x = (m00 * f00.x + m10 * f10.x + m01 * f01.x + m11 * f11.x);\n  val.y = (m00 * f00.y + m10 * f10.y + m01 * f01.y + m11 * f11.y);\n  return val;\n}\n","export default function(crs, denorm, point) {\n  var xin = point.x,\n    yin = point.y,\n    zin = point.z || 0.0;\n  var v, t, i;\n  var out = {};\n  for (i = 0; i < 3; i++) {\n    if (denorm && i === 2 && point.z === undefined) {\n      continue;\n    }\n    if (i === 0) {\n      v = xin;\n      if (\"ew\".indexOf(crs.axis[i]) !== -1) {\n        t = 'x';\n      } else {\n        t = 'y';\n      }\n\n    }\n    else if (i === 1) {\n      v = yin;\n      if (\"ns\".indexOf(crs.axis[i]) !== -1) {\n        t = 'y';\n      } else {\n        t = 'x';\n      }\n    }\n    else {\n      v = zin;\n      t = 'z';\n    }\n    switch (crs.axis[i]) {\n    case 'e':\n      out[t] = v;\n      break;\n    case 'w':\n      out[t] = -v;\n      break;\n    case 'n':\n      out[t] = v;\n      break;\n    case 's':\n      out[t] = -v;\n      break;\n    case 'u':\n      if (point[t] !== undefined) {\n        out.z = v;\n      }\n      break;\n    case 'd':\n      if (point[t] !== undefined) {\n        out.z = -v;\n      }\n      break;\n    default:\n      //console.log(\"ERROR: unknow axis (\"+crs.axis[i]+\") - check definition of \"+crs.projName);\n      return null;\n    }\n  }\n  return out;\n}\n","export default function (array){\n  var out = {\n    x: array[0],\n    y: array[1]\n  };\n  if (array.length>2) {\n    out.z = array[2];\n  }\n  if (array.length>3) {\n    out.m = array[3];\n  }\n  return out;\n}","export default function (point) {\n  checkCoord(point.x);\n  checkCoord(point.y);\n}\nfunction checkCoord(num) {\n  if (typeof Number.isFinite === 'function') {\n    if (Number.isFinite(num)) {\n      return;\n    }\n    throw new TypeError('coordinates must be finite numbers');\n  }\n  if (typeof num !== 'number' || num !== num || !isFinite(num)) {\n    throw new TypeError('coordinates must be finite numbers');\n  }\n}\n","import {D2R, R2D, PJD_3PARAM, PJD_7PARAM} from './constants/values';\nimport datum_transform from './datum_transform';\nimport adjust_axis from './adjust_axis';\nimport proj from './Proj';\nimport toPoint from './common/toPoint';\nimport checkSanity from './checkSanity';\n\nfunction checkNotWGS(source, dest) {\n  return ((source.datum.datum_type === PJD_3PARAM || source.datum.datum_type === PJD_7PARAM) && dest.datumCode !== 'WGS84') || ((dest.datum.datum_type === PJD_3PARAM || dest.datum.datum_type === PJD_7PARAM) && source.datumCode !== 'WGS84');\n}\n\nexport default function transform(source, dest, point, enforceAxis) {\n  var wgs84;\n  if (Array.isArray(point)) {\n    point = toPoint(point);\n  }\n  checkSanity(point);\n  // Workaround for datum shifts towgs84, if either source or destination projection is not wgs84\n  if (source.datum && dest.datum && checkNotWGS(source, dest)) {\n    wgs84 = new proj('WGS84');\n    point = transform(source, wgs84, point, enforceAxis);\n    source = wgs84;\n  }\n  // DGR, 2010/11/12\n  if (enforceAxis && source.axis !== 'enu') {\n    point = adjust_axis(source, false, point);\n  }\n  // Transform source points to long/lat, if they aren't already.\n  if (source.projName === 'longlat') {\n    point = {\n      x: point.x * D2R,\n      y: point.y * D2R,\n      z: point.z || 0\n    };\n  } else {\n    if (source.to_meter) {\n      point = {\n        x: point.x * source.to_meter,\n        y: point.y * source.to_meter,\n        z: point.z || 0\n      };\n    }\n    point = source.inverse(point); // Convert Cartesian to longlat\n    if (!point) {\n      return;\n    }\n  }\n  // Adjust for the prime meridian if necessary\n  if (source.from_greenwich) {\n    point.x += source.from_greenwich;\n  }\n\n  // Convert datums if needed, and if possible.\n  point = datum_transform(source.datum, dest.datum, point);\n  if (!point) {\n    return;\n  }\n\n  // Adjust for the prime meridian if necessary\n  if (dest.from_greenwich) {\n    point = {\n      x: point.x - dest.from_greenwich,\n      y: point.y,\n      z: point.z || 0\n    };\n  }\n\n  if (dest.projName === 'longlat') {\n    // convert radians to decimal degrees\n    point = {\n      x: point.x * R2D,\n      y: point.y * R2D,\n      z: point.z || 0\n    };\n  } else { // else project\n    point = dest.forward(point);\n    if (dest.to_meter) {\n      point = {\n        x: point.x / dest.to_meter,\n        y: point.y / dest.to_meter,\n        z: point.z || 0\n      };\n    }\n  }\n\n  // DGR, 2010/11/12\n  if (enforceAxis && dest.axis !== 'enu') {\n    return adjust_axis(dest, true, point);\n  }\n\n  return point;\n}\n","import proj from './Proj';\nimport transform from './transform';\nvar wgs84 = proj('WGS84');\n\nfunction transformer(from, to, coords, enforceAxis) {\n  var transformedArray, out, keys;\n  if (Array.isArray(coords)) {\n    transformedArray = transform(from, to, coords, enforceAxis) || {x: NaN, y: NaN};\n    if (coords.length > 2) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (typeof transformedArray.z === 'number') {\n          return [transformedArray.x, transformedArray.y, transformedArray.z].concat(coords.splice(3));\n        } else {\n          return [transformedArray.x, transformedArray.y, coords[2]].concat(coords.splice(3));\n        }\n      } else {\n        return [transformedArray.x, transformedArray.y].concat(coords.splice(2));\n      }\n    } else {\n      return [transformedArray.x, transformedArray.y];\n    }\n  } else {\n    out = transform(from, to, coords, enforceAxis);\n    keys = Object.keys(coords);\n    if (keys.length === 2) {\n      return out;\n    }\n    keys.forEach(function (key) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (key === 'x' || key === 'y' || key === 'z') {\n          return;\n        }\n      } else {\n        if (key === 'x' || key === 'y') {\n          return;\n        }\n      }\n      out[key] = coords[key];\n    });\n    return out;\n  }\n}\n\nfunction checkProj(item) {\n  if (item instanceof proj) {\n    return item;\n  }\n  if (item.oProj) {\n    return item.oProj;\n  }\n  return proj(item);\n}\n\nfunction proj4(fromProj, toProj, coord) {\n  fromProj = checkProj(fromProj);\n  var single = false;\n  var obj;\n  if (typeof toProj === 'undefined') {\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  } else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {\n    coord = toProj;\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  }\n  toProj = checkProj(toProj);\n  if (coord) {\n    return transformer(fromProj, toProj, coord);\n  } else {\n    obj = {\n      forward: function (coords, enforceAxis) {\n        return transformer(fromProj, toProj, coords, enforceAxis);\n      },\n      inverse: function (coords, enforceAxis) {\n        return transformer(toProj, fromProj, coords, enforceAxis);\n      }\n    };\n    if (single) {\n      obj.oProj = toProj;\n    }\n    return obj;\n  }\n}\nexport default proj4;","\n\n\n/**\n * UTM zones are grouped, and assigned to one of a group of 6\n * sets.\n *\n * {int} @private\n */\nvar NUM_100K_SETS = 6;\n\n/**\n * The column letters (for easting) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_COLUMN_LETTERS = 'AJSAJS';\n\n/**\n * The row letters (for northing) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_ROW_LETTERS = 'AFAFAF';\n\nvar A = 65; // A\nvar I = 73; // I\nvar O = 79; // O\nvar V = 86; // V\nvar Z = 90; // Z\nexport default {\n  forward: forward,\n  inverse: inverse,\n  toPoint: toPoint\n};\n/**\n * Conversion of lat/lon to MGRS.\n *\n * @param {object} ll Object literal with lat and lon properties on a\n *     WGS84 ellipsoid.\n * @param {int} accuracy Accuracy in digits (5 for 1 m, 4 for 10 m, 3 for\n *      100 m, 2 for 1000 m or 1 for 10000 m). Optional, default is 5.\n * @return {string} the MGRS string for the given location and accuracy.\n */\nexport function forward(ll, accuracy) {\n  accuracy = accuracy || 5; // default accuracy 1m\n  return encode(LLtoUTM({\n    lat: ll[1],\n    lon: ll[0]\n  }), accuracy);\n};\n\n/**\n * Conversion of MGRS to lat/lon.\n *\n * @param {string} mgrs MGRS string.\n * @return {array} An array with left (longitude), bottom (latitude), right\n *     (longitude) and top (latitude) values in WGS84, representing the\n *     bounding box for the provided MGRS reference.\n */\nexport function inverse(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat, bbox.lon, bbox.lat];\n  }\n  return [bbox.left, bbox.bottom, bbox.right, bbox.top];\n};\n\nexport function toPoint(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat];\n  }\n  return [(bbox.left + bbox.right) / 2, (bbox.top + bbox.bottom) / 2];\n};\n/**\n * Conversion from degrees to radians.\n *\n * @private\n * @param {number} deg the angle in degrees.\n * @return {number} the angle in radians.\n */\nfunction degToRad(deg) {\n  return (deg * (Math.PI / 180.0));\n}\n\n/**\n * Conversion from radians to degrees.\n *\n * @private\n * @param {number} rad the angle in radians.\n * @return {number} the angle in degrees.\n */\nfunction radToDeg(rad) {\n  return (180.0 * (rad / Math.PI));\n}\n\n/**\n * Converts a set of Longitude and Latitude co-ordinates to UTM\n * using the WGS84 ellipsoid.\n *\n * @private\n * @param {object} ll Object literal with lat and lon properties\n *     representing the WGS84 coordinate to be converted.\n * @return {object} Object literal containing the UTM value with easting,\n *     northing, zoneNumber and zoneLetter properties, and an optional\n *     accuracy property in digits. Returns null if the conversion failed.\n */\nfunction LLtoUTM(ll) {\n  var Lat = ll.lat;\n  var Long = ll.lon;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var k0 = 0.9996;\n  var LongOrigin;\n  var eccPrimeSquared;\n  var N, T, C, A, M;\n  var LatRad = degToRad(Lat);\n  var LongRad = degToRad(Long);\n  var LongOriginRad;\n  var ZoneNumber;\n  // (int)\n  ZoneNumber = Math.floor((Long + 180) / 6) + 1;\n\n  //Make sure the longitude 180.00 is in Zone 60\n  if (Long === 180) {\n    ZoneNumber = 60;\n  }\n\n  // Special zone for Norway\n  if (Lat >= 56.0 && Lat < 64.0 && Long >= 3.0 && Long < 12.0) {\n    ZoneNumber = 32;\n  }\n\n  // Special zones for Svalbard\n  if (Lat >= 72.0 && Lat < 84.0) {\n    if (Long >= 0.0 && Long < 9.0) {\n      ZoneNumber = 31;\n    }\n    else if (Long >= 9.0 && Long < 21.0) {\n      ZoneNumber = 33;\n    }\n    else if (Long >= 21.0 && Long < 33.0) {\n      ZoneNumber = 35;\n    }\n    else if (Long >= 33.0 && Long < 42.0) {\n      ZoneNumber = 37;\n    }\n  }\n\n  LongOrigin = (ZoneNumber - 1) * 6 - 180 + 3; //+3 puts origin\n  // in middle of\n  // zone\n  LongOriginRad = degToRad(LongOrigin);\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  N = a / Math.sqrt(1 - eccSquared * Math.sin(LatRad) * Math.sin(LatRad));\n  T = Math.tan(LatRad) * Math.tan(LatRad);\n  C = eccPrimeSquared * Math.cos(LatRad) * Math.cos(LatRad);\n  A = Math.cos(LatRad) * (LongRad - LongOriginRad);\n\n  M = a * ((1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256) * LatRad - (3 * eccSquared / 8 + 3 * eccSquared * eccSquared / 32 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(2 * LatRad) + (15 * eccSquared * eccSquared / 256 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(4 * LatRad) - (35 * eccSquared * eccSquared * eccSquared / 3072) * Math.sin(6 * LatRad));\n\n  var UTMEasting = (k0 * N * (A + (1 - T + C) * A * A * A / 6.0 + (5 - 18 * T + T * T + 72 * C - 58 * eccPrimeSquared) * A * A * A * A * A / 120.0) + 500000.0);\n\n  var UTMNorthing = (k0 * (M + N * Math.tan(LatRad) * (A * A / 2 + (5 - T + 9 * C + 4 * C * C) * A * A * A * A / 24.0 + (61 - 58 * T + T * T + 600 * C - 330 * eccPrimeSquared) * A * A * A * A * A * A / 720.0)));\n  if (Lat < 0.0) {\n    UTMNorthing += 10000000.0; //10000000 meter offset for\n    // southern hemisphere\n  }\n\n  return {\n    northing: Math.round(UTMNorthing),\n    easting: Math.round(UTMEasting),\n    zoneNumber: ZoneNumber,\n    zoneLetter: getLetterDesignator(Lat)\n  };\n}\n\n/**\n * Converts UTM coords to lat/long, using the WGS84 ellipsoid. This is a convenience\n * class where the Zone can be specified as a single string eg.\"60N\" which\n * is then broken down into the ZoneNumber and ZoneLetter.\n *\n * @private\n * @param {object} utm An object literal with northing, easting, zoneNumber\n *     and zoneLetter properties. If an optional accuracy property is\n *     provided (in meters), a bounding box will be returned instead of\n *     latitude and longitude.\n * @return {object} An object literal containing either lat and lon values\n *     (if no accuracy was provided), or top, right, bottom and left values\n *     for the bounding box calculated according to the provided accuracy.\n *     Returns null if the conversion failed.\n */\nfunction UTMtoLL(utm) {\n\n  var UTMNorthing = utm.northing;\n  var UTMEasting = utm.easting;\n  var zoneLetter = utm.zoneLetter;\n  var zoneNumber = utm.zoneNumber;\n  // check the ZoneNummber is valid\n  if (zoneNumber < 0 || zoneNumber > 60) {\n    return null;\n  }\n\n  var k0 = 0.9996;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var eccPrimeSquared;\n  var e1 = (1 - Math.sqrt(1 - eccSquared)) / (1 + Math.sqrt(1 - eccSquared));\n  var N1, T1, C1, R1, D, M;\n  var LongOrigin;\n  var mu, phi1Rad;\n\n  // remove 500,000 meter offset for longitude\n  var x = UTMEasting - 500000.0;\n  var y = UTMNorthing;\n\n  // We must know somehow if we are in the Northern or Southern\n  // hemisphere, this is the only time we use the letter So even\n  // if the Zone letter isn't exactly correct it should indicate\n  // the hemisphere correctly\n  if (zoneLetter < 'N') {\n    y -= 10000000.0; // remove 10,000,000 meter offset used\n    // for southern hemisphere\n  }\n\n  // There are 60 zones with zone 1 being at West -180 to -174\n  LongOrigin = (zoneNumber - 1) * 6 - 180 + 3; // +3 puts origin\n  // in middle of\n  // zone\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  M = y / k0;\n  mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));\n\n  phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu) + (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu) + (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);\n  // double phi1 = ProjMath.radToDeg(phi1Rad);\n\n  N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));\n  T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);\n  C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);\n  R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);\n  D = x / (N1 * k0);\n\n  var lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24 + (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);\n  lat = radToDeg(lat);\n\n  var lon = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1) * D * D * D * D * D / 120) / Math.cos(phi1Rad);\n  lon = LongOrigin + radToDeg(lon);\n\n  var result;\n  if (utm.accuracy) {\n    var topRight = UTMtoLL({\n      northing: utm.northing + utm.accuracy,\n      easting: utm.easting + utm.accuracy,\n      zoneLetter: utm.zoneLetter,\n      zoneNumber: utm.zoneNumber\n    });\n    result = {\n      top: topRight.lat,\n      right: topRight.lon,\n      bottom: lat,\n      left: lon\n    };\n  }\n  else {\n    result = {\n      lat: lat,\n      lon: lon\n    };\n  }\n  return result;\n}\n\n/**\n * Calculates the MGRS letter designator for the given latitude.\n *\n * @private\n * @param {number} lat The latitude in WGS84 to get the letter designator\n *     for.\n * @return {char} The letter designator.\n */\nfunction getLetterDesignator(lat) {\n  //This is here as an error flag to show that the Latitude is\n  //outside MGRS limits\n  var LetterDesignator = 'Z';\n\n  if ((84 >= lat) && (lat >= 72)) {\n    LetterDesignator = 'X';\n  }\n  else if ((72 > lat) && (lat >= 64)) {\n    LetterDesignator = 'W';\n  }\n  else if ((64 > lat) && (lat >= 56)) {\n    LetterDesignator = 'V';\n  }\n  else if ((56 > lat) && (lat >= 48)) {\n    LetterDesignator = 'U';\n  }\n  else if ((48 > lat) && (lat >= 40)) {\n    LetterDesignator = 'T';\n  }\n  else if ((40 > lat) && (lat >= 32)) {\n    LetterDesignator = 'S';\n  }\n  else if ((32 > lat) && (lat >= 24)) {\n    LetterDesignator = 'R';\n  }\n  else if ((24 > lat) && (lat >= 16)) {\n    LetterDesignator = 'Q';\n  }\n  else if ((16 > lat) && (lat >= 8)) {\n    LetterDesignator = 'P';\n  }\n  else if ((8 > lat) && (lat >= 0)) {\n    LetterDesignator = 'N';\n  }\n  else if ((0 > lat) && (lat >= -8)) {\n    LetterDesignator = 'M';\n  }\n  else if ((-8 > lat) && (lat >= -16)) {\n    LetterDesignator = 'L';\n  }\n  else if ((-16 > lat) && (lat >= -24)) {\n    LetterDesignator = 'K';\n  }\n  else if ((-24 > lat) && (lat >= -32)) {\n    LetterDesignator = 'J';\n  }\n  else if ((-32 > lat) && (lat >= -40)) {\n    LetterDesignator = 'H';\n  }\n  else if ((-40 > lat) && (lat >= -48)) {\n    LetterDesignator = 'G';\n  }\n  else if ((-48 > lat) && (lat >= -56)) {\n    LetterDesignator = 'F';\n  }\n  else if ((-56 > lat) && (lat >= -64)) {\n    LetterDesignator = 'E';\n  }\n  else if ((-64 > lat) && (lat >= -72)) {\n    LetterDesignator = 'D';\n  }\n  else if ((-72 > lat) && (lat >= -80)) {\n    LetterDesignator = 'C';\n  }\n  return LetterDesignator;\n}\n\n/**\n * Encodes a UTM location as MGRS string.\n *\n * @private\n * @param {object} utm An object literal with easting, northing,\n *     zoneLetter, zoneNumber\n * @param {number} accuracy Accuracy in digits (1-5).\n * @return {string} MGRS string for the given UTM location.\n */\nfunction encode(utm, accuracy) {\n  // prepend with leading zeroes\n  var seasting = \"00000\" + utm.easting,\n    snorthing = \"00000\" + utm.northing;\n\n  return utm.zoneNumber + utm.zoneLetter + get100kID(utm.easting, utm.northing, utm.zoneNumber) + seasting.substr(seasting.length - 5, accuracy) + snorthing.substr(snorthing.length - 5, accuracy);\n}\n\n/**\n * Get the two letter 100k designator for a given UTM easting,\n * northing and zone number value.\n *\n * @private\n * @param {number} easting\n * @param {number} northing\n * @param {number} zoneNumber\n * @return the two letter 100k designator for the given UTM location.\n */\nfunction get100kID(easting, northing, zoneNumber) {\n  var setParm = get100kSetForZone(zoneNumber);\n  var setColumn = Math.floor(easting / 100000);\n  var setRow = Math.floor(northing / 100000) % 20;\n  return getLetter100kID(setColumn, setRow, setParm);\n}\n\n/**\n * Given a UTM zone number, figure out the MGRS 100K set it is in.\n *\n * @private\n * @param {number} i An UTM zone number.\n * @return {number} the 100k set the UTM zone is in.\n */\nfunction get100kSetForZone(i) {\n  var setParm = i % NUM_100K_SETS;\n  if (setParm === 0) {\n    setParm = NUM_100K_SETS;\n  }\n\n  return setParm;\n}\n\n/**\n * Get the two-letter MGRS 100k designator given information\n * translated from the UTM northing, easting and zone number.\n *\n * @private\n * @param {number} column the column index as it relates to the MGRS\n *        100k set spreadsheet, created from the UTM easting.\n *        Values are 1-8.\n * @param {number} row the row index as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM northing value. Values\n *        are from 0-19.\n * @param {number} parm the set block, as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM zone. Values are from\n *        1-60.\n * @return two letter MGRS 100k code.\n */\nfunction getLetter100kID(column, row, parm) {\n  // colOrigin and rowOrigin are the letters at the origin of the set\n  var index = parm - 1;\n  var colOrigin = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index);\n  var rowOrigin = SET_ORIGIN_ROW_LETTERS.charCodeAt(index);\n\n  // colInt and rowInt are the letters to build to return\n  var colInt = colOrigin + column - 1;\n  var rowInt = rowOrigin + row;\n  var rollover = false;\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n    rollover = true;\n  }\n\n  if (colInt === I || (colOrigin < I && colInt > I) || ((colInt > I || colOrigin < I) && rollover)) {\n    colInt++;\n  }\n\n  if (colInt === O || (colOrigin < O && colInt > O) || ((colInt > O || colOrigin < O) && rollover)) {\n    colInt++;\n\n    if (colInt === I) {\n      colInt++;\n    }\n  }\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n    rollover = true;\n  }\n  else {\n    rollover = false;\n  }\n\n  if (((rowInt === I) || ((rowOrigin < I) && (rowInt > I))) || (((rowInt > I) || (rowOrigin < I)) && rollover)) {\n    rowInt++;\n  }\n\n  if (((rowInt === O) || ((rowOrigin < O) && (rowInt > O))) || (((rowInt > O) || (rowOrigin < O)) && rollover)) {\n    rowInt++;\n\n    if (rowInt === I) {\n      rowInt++;\n    }\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n  }\n\n  var twoLetter = String.fromCharCode(colInt) + String.fromCharCode(rowInt);\n  return twoLetter;\n}\n\n/**\n * Decode the UTM parameters from a MGRS string.\n *\n * @private\n * @param {string} mgrsString an UPPERCASE coordinate string is expected.\n * @return {object} An object literal with easting, northing, zoneLetter,\n *     zoneNumber and accuracy (in meters) properties.\n */\nfunction decode(mgrsString) {\n\n  if (mgrsString && mgrsString.length === 0) {\n    throw (\"MGRSPoint coverting from nothing\");\n  }\n\n  var length = mgrsString.length;\n\n  var hunK = null;\n  var sb = \"\";\n  var testChar;\n  var i = 0;\n\n  // get Zone number\n  while (!(/[A-Z]/).test(testChar = mgrsString.charAt(i))) {\n    if (i >= 2) {\n      throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n    }\n    sb += testChar;\n    i++;\n  }\n\n  var zoneNumber = parseInt(sb, 10);\n\n  if (i === 0 || i + 3 > length) {\n    // A good MGRS string has to be 4-5 digits long,\n    // ##AAA/#AAA at least.\n    throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n  }\n\n  var zoneLetter = mgrsString.charAt(i++);\n\n  // Should we check the zone letter here? Why not.\n  if (zoneLetter <= 'A' || zoneLetter === 'B' || zoneLetter === 'Y' || zoneLetter >= 'Z' || zoneLetter === 'I' || zoneLetter === 'O') {\n    throw (\"MGRSPoint zone letter \" + zoneLetter + \" not handled: \" + mgrsString);\n  }\n\n  hunK = mgrsString.substring(i, i += 2);\n\n  var set = get100kSetForZone(zoneNumber);\n\n  var east100k = getEastingFromChar(hunK.charAt(0), set);\n  var north100k = getNorthingFromChar(hunK.charAt(1), set);\n\n  // We have a bug where the northing may be 2000000 too low.\n  // How\n  // do we know when to roll over?\n\n  while (north100k < getMinNorthing(zoneLetter)) {\n    north100k += 2000000;\n  }\n\n  // calculate the char index for easting/northing separator\n  var remainder = length - i;\n\n  if (remainder % 2 !== 0) {\n    throw (\"MGRSPoint has to have an even number \\nof digits after the zone letter and two 100km letters - front \\nhalf for easting meters, second half for \\nnorthing meters\" + mgrsString);\n  }\n\n  var sep = remainder / 2;\n\n  var sepEasting = 0.0;\n  var sepNorthing = 0.0;\n  var accuracyBonus, sepEastingString, sepNorthingString, easting, northing;\n  if (sep > 0) {\n    accuracyBonus = 100000.0 / Math.pow(10, sep);\n    sepEastingString = mgrsString.substring(i, i + sep);\n    sepEasting = parseFloat(sepEastingString) * accuracyBonus;\n    sepNorthingString = mgrsString.substring(i + sep);\n    sepNorthing = parseFloat(sepNorthingString) * accuracyBonus;\n  }\n\n  easting = sepEasting + east100k;\n  northing = sepNorthing + north100k;\n\n  return {\n    easting: easting,\n    northing: northing,\n    zoneLetter: zoneLetter,\n    zoneNumber: zoneNumber,\n    accuracy: accuracyBonus\n  };\n}\n\n/**\n * Given the first letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the easting value that\n * should be added to the other, secondary easting value.\n *\n * @private\n * @param {char} e The first letter from a two-letter MGRS 100k zone.\n * @param {number} set The MGRS table set for the zone number.\n * @return {number} The easting value for the given letter and set.\n */\nfunction getEastingFromChar(e, set) {\n  // colOrigin is the letter at the origin of the set for the\n  // column\n  var curCol = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set - 1);\n  var eastingValue = 100000.0;\n  var rewindMarker = false;\n\n  while (curCol !== e.charCodeAt(0)) {\n    curCol++;\n    if (curCol === I) {\n      curCol++;\n    }\n    if (curCol === O) {\n      curCol++;\n    }\n    if (curCol > Z) {\n      if (rewindMarker) {\n        throw (\"Bad character: \" + e);\n      }\n      curCol = A;\n      rewindMarker = true;\n    }\n    eastingValue += 100000.0;\n  }\n\n  return eastingValue;\n}\n\n/**\n * Given the second letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the northing value that\n * should be added to the other, secondary northing value. You have to\n * remember that Northings are determined from the equator, and the vertical\n * cycle of letters mean a 2000000 additional northing meters. This happens\n * approx. every 18 degrees of latitude. This method does *NOT* count any\n * additional northings. You have to figure out how many 2000000 meters need\n * to be added for the zone letter of the MGRS coordinate.\n *\n * @private\n * @param {char} n Second letter of the MGRS 100k zone\n * @param {number} set The MGRS table set number, which is dependent on the\n *     UTM zone number.\n * @return {number} The northing value for the given letter and set.\n */\nfunction getNorthingFromChar(n, set) {\n\n  if (n > 'V') {\n    throw (\"MGRSPoint given invalid Northing \" + n);\n  }\n\n  // rowOrigin is the letter at the origin of the set for the\n  // column\n  var curRow = SET_ORIGIN_ROW_LETTERS.charCodeAt(set - 1);\n  var northingValue = 0.0;\n  var rewindMarker = false;\n\n  while (curRow !== n.charCodeAt(0)) {\n    curRow++;\n    if (curRow === I) {\n      curRow++;\n    }\n    if (curRow === O) {\n      curRow++;\n    }\n    // fixing a bug making whole application hang in this loop\n    // when 'n' is a wrong character\n    if (curRow > V) {\n      if (rewindMarker) { // making sure that this loop ends\n        throw (\"Bad character: \" + n);\n      }\n      curRow = A;\n      rewindMarker = true;\n    }\n    northingValue += 100000.0;\n  }\n\n  return northingValue;\n}\n\n/**\n * The function getMinNorthing returns the minimum northing value of a MGRS\n * zone.\n *\n * Ported from Geotrans' c Lattitude_Band_Value structure table.\n *\n * @private\n * @param {char} zoneLetter The MGRS zone to get the min northing for.\n * @return {number}\n */\nfunction getMinNorthing(zoneLetter) {\n  var northing;\n  switch (zoneLetter) {\n  case 'C':\n    northing = 1100000.0;\n    break;\n  case 'D':\n    northing = 2000000.0;\n    break;\n  case 'E':\n    northing = 2800000.0;\n    break;\n  case 'F':\n    northing = 3700000.0;\n    break;\n  case 'G':\n    northing = 4600000.0;\n    break;\n  case 'H':\n    northing = 5500000.0;\n    break;\n  case 'J':\n    northing = 6400000.0;\n    break;\n  case 'K':\n    northing = 7300000.0;\n    break;\n  case 'L':\n    northing = 8200000.0;\n    break;\n  case 'M':\n    northing = 9100000.0;\n    break;\n  case 'N':\n    northing = 0.0;\n    break;\n  case 'P':\n    northing = 800000.0;\n    break;\n  case 'Q':\n    northing = 1700000.0;\n    break;\n  case 'R':\n    northing = 2600000.0;\n    break;\n  case 'S':\n    northing = 3500000.0;\n    break;\n  case 'T':\n    northing = 4400000.0;\n    break;\n  case 'U':\n    northing = 5300000.0;\n    break;\n  case 'V':\n    northing = 6200000.0;\n    break;\n  case 'W':\n    northing = 7000000.0;\n    break;\n  case 'X':\n    northing = 7900000.0;\n    break;\n  default:\n    northing = -1.0;\n  }\n  if (northing >= 0.0) {\n    return northing;\n  }\n  else {\n    throw (\"Invalid zone letter: \" + zoneLetter);\n  }\n\n}\n","import {toPoint, forward} from 'mgrs';\n\nfunction Point(x, y, z) {\n  if (!(this instanceof Point)) {\n    return new Point(x, y, z);\n  }\n  if (Array.isArray(x)) {\n    this.x = x[0];\n    this.y = x[1];\n    this.z = x[2] || 0.0;\n  } else if(typeof x === 'object') {\n    this.x = x.x;\n    this.y = x.y;\n    this.z = x.z || 0.0;\n  } else if (typeof x === 'string' && typeof y === 'undefined') {\n    var coords = x.split(',');\n    this.x = parseFloat(coords[0], 10);\n    this.y = parseFloat(coords[1], 10);\n    this.z = parseFloat(coords[2], 10) || 0.0;\n  } else {\n    this.x = x;\n    this.y = y;\n    this.z = z || 0.0;\n  }\n  console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');\n}\n\nPoint.fromMGRS = function(mgrsStr) {\n  return new Point(toPoint(mgrsStr));\n};\nPoint.prototype.toMGRS = function(accuracy) {\n  return forward([this.x, this.y], accuracy);\n};\nexport default Point;\n","var C00 = 1;\nvar C02 = 0.25;\nvar C04 = 0.046875;\nvar C06 = 0.01953125;\nvar C08 = 0.01068115234375;\nvar C22 = 0.75;\nvar C44 = 0.46875;\nvar C46 = 0.01302083333333333333;\nvar C48 = 0.00712076822916666666;\nvar C66 = 0.36458333333333333333;\nvar C68 = 0.00569661458333333333;\nvar C88 = 0.3076171875;\n\nexport default function(es) {\n  var en = [];\n  en[0] = C00 - es * (C02 + es * (C04 + es * (C06 + es * C08)));\n  en[1] = es * (C22 - es * (C04 + es * (C06 + es * C08)));\n  var t = es * es;\n  en[2] = t * (C44 - es * (C46 + es * C48));\n  t *= es;\n  en[3] = t * (C66 - es * C68);\n  en[4] = t * es * C88;\n  return en;\n}","export default function(phi, sphi, cphi, en) {\n  cphi *= sphi;\n  sphi *= sphi;\n  return (en[0] * phi - cphi * (en[1] + sphi * (en[2] + sphi * (en[3] + sphi * en[4]))));\n}","import pj_mlfn from \"./pj_mlfn\";\nimport {EPSLN} from '../constants/values';\n\nvar MAX_ITER = 20;\n\nexport default function(arg, es, en) {\n  var k = 1 / (1 - es);\n  var phi = arg;\n  for (var i = MAX_ITER; i; --i) { /* rarely goes over 2 iterations */\n    var s = Math.sin(phi);\n    var t = 1 - es * s * s;\n    //t = this.pj_mlfn(phi, s, Math.cos(phi), en) - arg;\n    //phi -= t * (t * Math.sqrt(t)) * k;\n    t = (pj_mlfn(phi, s, Math.cos(phi), en) - arg) * (t * Math.sqrt(t)) * k;\n    phi -= t;\n    if (Math.abs(t) < EPSLN) {\n      return phi;\n    }\n  }\n  //..reportError(\"cass:pj_inv_mlfn: Convergence error\");\n  return phi;\n}\n","// Heavily based on this tmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/tmerc.js\n\nimport pj_enfn from '../common/pj_enfn';\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport adjust_lon from '../common/adjust_lon';\n\nimport {EPSLN, HALF_PI} from '../constants/values';\nimport sign from '../common/sign';\n\nexport function init() {\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  if (this.es) {\n    this.en = pj_enfn(this.es);\n    this.ml0 = pj_mlfn(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en);\n  }\n}\n\n/**\n    Transverse Mercator Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var con;\n  var x, y;\n  var sin_phi = Math.sin(lat);\n  var cos_phi = Math.cos(lat);\n\n  if (!this.es) {\n    var b = cos_phi * Math.sin(delta_lon);\n\n    if ((Math.abs(Math.abs(b) - 1)) < EPSLN) {\n      return (93);\n    }\n    else {\n      x = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b)) + this.x0;\n      y = cos_phi * Math.cos(delta_lon) / Math.sqrt(1 - Math.pow(b, 2));\n      b = Math.abs(y);\n\n      if (b >= 1) {\n        if ((b - 1) > EPSLN) {\n          return (93);\n        }\n        else {\n          y = 0;\n        }\n      }\n      else {\n        y = Math.acos(y);\n      }\n\n      if (lat < 0) {\n        y = -y;\n      }\n\n      y = this.a * this.k0 * (y - this.lat0) + this.y0;\n    }\n  }\n  else {\n    var al = cos_phi * delta_lon;\n    var als = Math.pow(al, 2);\n    var c = this.ep2 * Math.pow(cos_phi, 2);\n    var cs = Math.pow(c, 2);\n    var tq = Math.abs(cos_phi) > EPSLN ? Math.tan(lat) : 0;\n    var t = Math.pow(tq, 2);\n    var ts = Math.pow(t, 2);\n    con = 1 - this.es * Math.pow(sin_phi, 2);\n    al = al / Math.sqrt(con);\n    var ml = pj_mlfn(lat, sin_phi, cos_phi, this.en);\n\n    x = this.a * (this.k0 * al * (1 +\n      als / 6 * (1 - t + c +\n      als / 20 * (5 - 18 * t + ts + 14 * c - 58 * t * c +\n      als / 42 * (61 + 179 * ts - ts * t - 479 * t))))) +\n      this.x0;\n\n    y = this.a * (this.k0 * (ml - this.ml0 +\n      sin_phi * delta_lon * al / 2 * (1 +\n      als / 12 * (5 - t + 9 * c + 4 * cs +\n      als / 30 * (61 + ts - 58 * t + 270 * c - 330 * t * c +\n      als / 56 * (1385 + 543 * ts - ts * t - 3111 * t)))))) +\n      this.y0;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\n/**\n    Transverse Mercator Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var con, phi;\n  var lat, lon;\n  var x = (p.x - this.x0) * (1 / this.a);\n  var y = (p.y - this.y0) * (1 / this.a);\n\n  if (!this.es) {\n    var f = Math.exp(x / this.k0);\n    var g = 0.5 * (f - 1 / f);\n    var temp = this.lat0 + y / this.k0;\n    var h = Math.cos(temp);\n    con = Math.sqrt((1 - Math.pow(h, 2)) / (1 + Math.pow(g, 2)));\n    lat = Math.asin(con);\n\n    if (y < 0) {\n      lat = -lat;\n    }\n\n    if ((g === 0) && (h === 0)) {\n      lon = 0;\n    }\n    else {\n      lon = adjust_lon(Math.atan2(g, h) + this.long0);\n    }\n  }\n  else { // ellipsoidal form\n    con = this.ml0 + y / this.k0;\n    phi = pj_inv_mlfn(con, this.es, this.en);\n\n    if (Math.abs(phi) < HALF_PI) {\n      var sin_phi = Math.sin(phi);\n      var cos_phi = Math.cos(phi);\n      var tan_phi = Math.abs(cos_phi) > EPSLN ? Math.tan(phi) : 0;\n      var c = this.ep2 * Math.pow(cos_phi, 2);\n      var cs = Math.pow(c, 2);\n      var t = Math.pow(tan_phi, 2);\n      var ts = Math.pow(t, 2);\n      con = 1 - this.es * Math.pow(sin_phi, 2);\n      var d = x * Math.sqrt(con) / this.k0;\n      var ds = Math.pow(d, 2);\n      con = con * tan_phi;\n\n      lat = phi - (con * ds / (1 - this.es)) * 0.5 * (1 -\n        ds / 12 * (5 + 3 * t - 9 * c * t + c - 4 * cs -\n        ds / 30 * (61 + 90 * t - 252 * c * t + 45 * ts + 46 * c -\n        ds / 56 * (1385 + 3633 * t + 4095 * ts + 1574 * ts * t))));\n\n      lon = adjust_lon(this.long0 + (d * (1 -\n        ds / 6 * (1 + 2 * t + c -\n        ds / 20 * (5 + 28 * t + 24 * ts + 8 * c * t + 6 * c -\n        ds / 42 * (61 + 662 * t + 1320 * ts + 720 * ts * t)))) / cos_phi));\n    }\n    else {\n      lat = HALF_PI * sign(y);\n      lon = 0;\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Fast_Transverse_Mercator\", \"Fast Transverse Mercator\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(x) {\n  var r = Math.exp(x);\n  r = (r - 1 / r) / 2;\n  return r;\n}","export default function(x, y) {\n  x = Math.abs(x);\n  y = Math.abs(y);\n  var a = Math.max(x, y);\n  var b = Math.min(x, y) / (a ? a : 1);\n\n  return a * Math.sqrt(1 + Math.pow(b, 2));\n}\n","export default function(x) {\n  var y = 1 + x;\n  var z = y - 1;\n\n  return z === 0 ? x : x * Math.log(y) / z;\n}\n","import hypot from './hypot';\nimport log1py from './log1py';\n\nexport default function(x) {\n  var y = Math.abs(x);\n  y = log1py(y * (1 + y / (hypot(1, y) + 1)));\n\n  return x < 0 ? -y : y;\n}\n","export default function(pp, B) {\n  var cos_2B = 2 * Math.cos(2 * B);\n  var i = pp.length - 1;\n  var h1 = pp[i];\n  var h2 = 0;\n  var h;\n\n  while (--i >= 0) {\n    h = -h2 + cos_2B * h1 + pp[i];\n    h2 = h1;\n    h1 = h;\n  }\n\n  return (B + h * Math.sin(2 * B));\n}\n","export default function(pp, arg_r) {\n  var r = 2 * Math.cos(arg_r);\n  var i = pp.length - 1;\n  var hr1 = pp[i];\n  var hr2 = 0;\n  var hr;\n\n  while (--i >= 0) {\n    hr = -hr2 + r * hr1 + pp[i];\n    hr2 = hr1;\n    hr1 = hr;\n  }\n\n  return Math.sin(arg_r) * hr;\n}\n","export default function(x) {\n  var r = Math.exp(x);\n  r = (r + 1 / r) / 2;\n  return r;\n}","import sinh from './sinh';\nimport cosh from './cosh';\n\nexport default function(pp, arg_r, arg_i) {\n  var sin_arg_r = Math.sin(arg_r);\n  var cos_arg_r = Math.cos(arg_r);\n  var sinh_arg_i = sinh(arg_i);\n  var cosh_arg_i = cosh(arg_i);\n  var r = 2 * cos_arg_r * cosh_arg_i;\n  var i = -2 * sin_arg_r * sinh_arg_i;\n  var j = pp.length - 1;\n  var hr = pp[j];\n  var hi1 = 0;\n  var hr1 = 0;\n  var hi = 0;\n  var hr2;\n  var hi2;\n\n  while (--j >= 0) {\n    hr2 = hr1;\n    hi2 = hi1;\n    hr1 = hr;\n    hi1 = hi;\n    hr = -hr2 + r * hr1 - i * hi1 + pp[j];\n    hi = -hi2 + i * hr1 + r * hi1;\n  }\n\n  r = sin_arg_r * cosh_arg_i;\n  i = cos_arg_r * sinh_arg_i;\n\n  return [r * hr - i * hi, r * hi + i * hr];\n}\n","// Heavily based on this etmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/etmerc.js\n\nimport tmerc from '../projections/tmerc';\nimport sinh from '../common/sinh';\nimport hypot from '../common/hypot';\nimport asinhy from '../common/asinhy';\nimport gatg from '../common/gatg';\nimport clens from '../common/clens';\nimport clens_cmplx from '../common/clens_cmplx';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  if (!this.approx && (isNaN(this.es) || this.es <= 0)) {\n    throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION[\"Fast_Transverse_Mercator\"] in the WKT.');\n  }\n  if (this.approx) {\n    // When '+approx' is set, use tmerc instead\n    tmerc.init.apply(this);\n    this.forward = tmerc.forward;\n    this.inverse = tmerc.inverse;\n  }\n\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  this.cgb = [];\n  this.cbg = [];\n  this.utg = [];\n  this.gtu = [];\n\n  var f = this.es / (1 + Math.sqrt(1 - this.es));\n  var n = f / (2 - f);\n  var np = n;\n\n  this.cgb[0] = n * (2 + n * (-2 / 3 + n * (-2 + n * (116 / 45 + n * (26 / 45 + n * (-2854 / 675 ))))));\n  this.cbg[0] = n * (-2 + n * ( 2 / 3 + n * ( 4 / 3 + n * (-82 / 45 + n * (32 / 45 + n * (4642 / 4725))))));\n\n  np = np * n;\n  this.cgb[1] = np * (7 / 3 + n * (-8 / 5 + n * (-227 / 45 + n * (2704 / 315 + n * (2323 / 945)))));\n  this.cbg[1] = np * (5 / 3 + n * (-16 / 15 + n * ( -13 / 9 + n * (904 / 315 + n * (-1522 / 945)))));\n\n  np = np * n;\n  this.cgb[2] = np * (56 / 15 + n * (-136 / 35 + n * (-1262 / 105 + n * (73814 / 2835))));\n  this.cbg[2] = np * (-26 / 15 + n * (34 / 21 + n * (8 / 5 + n * (-12686 / 2835))));\n\n  np = np * n;\n  this.cgb[3] = np * (4279 / 630 + n * (-332 / 35 + n * (-399572 / 14175)));\n  this.cbg[3] = np * (1237 / 630 + n * (-12 / 5 + n * ( -24832 / 14175)));\n\n  np = np * n;\n  this.cgb[4] = np * (4174 / 315 + n * (-144838 / 6237));\n  this.cbg[4] = np * (-734 / 315 + n * (109598 / 31185));\n\n  np = np * n;\n  this.cgb[5] = np * (601676 / 22275);\n  this.cbg[5] = np * (444337 / 155925);\n\n  np = Math.pow(n, 2);\n  this.Qn = this.k0 / (1 + n) * (1 + np * (1 / 4 + np * (1 / 64 + np / 256)));\n\n  this.utg[0] = n * (-0.5 + n * ( 2 / 3 + n * (-37 / 96 + n * ( 1 / 360 + n * (81 / 512 + n * (-96199 / 604800))))));\n  this.gtu[0] = n * (0.5 + n * (-2 / 3 + n * (5 / 16 + n * (41 / 180 + n * (-127 / 288 + n * (7891 / 37800))))));\n\n  this.utg[1] = np * (-1 / 48 + n * (-1 / 15 + n * (437 / 1440 + n * (-46 / 105 + n * (1118711 / 3870720)))));\n  this.gtu[1] = np * (13 / 48 + n * (-3 / 5 + n * (557 / 1440 + n * (281 / 630 + n * (-1983433 / 1935360)))));\n\n  np = np * n;\n  this.utg[2] = np * (-17 / 480 + n * (37 / 840 + n * (209 / 4480 + n * (-5569 / 90720 ))));\n  this.gtu[2] = np * (61 / 240 + n * (-103 / 140 + n * (15061 / 26880 + n * (167603 / 181440))));\n\n  np = np * n;\n  this.utg[3] = np * (-4397 / 161280 + n * (11 / 504 + n * (830251 / 7257600)));\n  this.gtu[3] = np * (49561 / 161280 + n * (-179 / 168 + n * (6601661 / 7257600)));\n\n  np = np * n;\n  this.utg[4] = np * (-4583 / 161280 + n * (108847 / 3991680));\n  this.gtu[4] = np * (34729 / 80640 + n * (-3418889 / 1995840));\n\n  np = np * n;\n  this.utg[5] = np * (-20648693 / 638668800);\n  this.gtu[5] = np * (212378941 / 319334400);\n\n  var Z = gatg(this.cbg, this.lat0);\n  this.Zb = -this.Qn * (Z + clens(this.gtu, 2 * Z));\n}\n\nexport function forward(p) {\n  var Ce = adjust_lon(p.x - this.long0);\n  var Cn = p.y;\n\n  Cn = gatg(this.cbg, Cn);\n  var sin_Cn = Math.sin(Cn);\n  var cos_Cn = Math.cos(Cn);\n  var sin_Ce = Math.sin(Ce);\n  var cos_Ce = Math.cos(Ce);\n\n  Cn = Math.atan2(sin_Cn, cos_Ce * cos_Cn);\n  Ce = Math.atan2(sin_Ce * cos_Cn, hypot(sin_Cn, cos_Cn * cos_Ce));\n  Ce = asinhy(Math.tan(Ce));\n\n  var tmp = clens_cmplx(this.gtu, 2 * Cn, 2 * Ce);\n\n  Cn = Cn + tmp[0];\n  Ce = Ce + tmp[1];\n\n  var x;\n  var y;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    x = this.a * (this.Qn * Ce) + this.x0;\n    y = this.a * (this.Qn * Cn + this.Zb) + this.y0;\n  }\n  else {\n    x = Infinity;\n    y = Infinity;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\nexport function inverse(p) {\n  var Ce = (p.x - this.x0) * (1 / this.a);\n  var Cn = (p.y - this.y0) * (1 / this.a);\n\n  Cn = (Cn - this.Zb) / this.Qn;\n  Ce = Ce / this.Qn;\n\n  var lon;\n  var lat;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    var tmp = clens_cmplx(this.utg, 2 * Cn, 2 * Ce);\n\n    Cn = Cn + tmp[0];\n    Ce = Ce + tmp[1];\n    Ce = Math.atan(sinh(Ce));\n\n    var sin_Cn = Math.sin(Cn);\n    var cos_Cn = Math.cos(Cn);\n    var sin_Ce = Math.sin(Ce);\n    var cos_Ce = Math.cos(Ce);\n\n    Cn = Math.atan2(sin_Cn * cos_Ce, hypot(sin_Ce, cos_Ce * cos_Cn));\n    Ce = Math.atan2(sin_Ce, cos_Ce * cos_Cn);\n\n    lon = adjust_lon(Ce + this.long0);\n    lat = gatg(this.cgb, Cn);\n  }\n  else {\n    lon = Infinity;\n    lat = Infinity;\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Extended_Transverse_Mercator\", \"Extended Transverse Mercator\", \"etmerc\", \"Transverse_Mercator\", \"Transverse Mercator\", \"tmerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from './adjust_lon';\n\nexport default function(zone, lon) {\n  if (zone === undefined) {\n    zone = Math.floor((adjust_lon(lon) + Math.PI) * 30 / Math.PI) + 1;\n\n    if (zone < 0) {\n      return 0;\n    } else if (zone > 60) {\n      return 60;\n    }\n  }\n  return zone;\n}\n","import adjust_zone from '../common/adjust_zone';\nimport etmerc from './etmerc';\nexport var dependsOn = 'etmerc';\nimport {D2R} from '../constants/values';\n\n\nexport function init() {\n  var zone = adjust_zone(this.zone, this.long0);\n  if (zone === undefined) {\n    throw new Error('unknown utm zone');\n  }\n  this.lat0 = 0;\n  this.long0 =  ((6 * Math.abs(zone)) - 183) * D2R;\n  this.x0 = 500000;\n  this.y0 = this.utmSouth ? 10000000 : 0;\n  this.k0 = 0.9996;\n\n  etmerc.init.apply(this);\n  this.forward = etmerc.forward;\n  this.inverse = etmerc.inverse;\n}\n\nexport var names = [\"Universal Transverse Mercator System\", \"utm\"];\nexport default {\n  init: init,\n  names: names,\n  dependsOn: dependsOn\n};\n","export default function(esinp, exp) {\n  return (Math.pow((1 - esinp) / (1 + esinp), exp));\n}","import srat from '../common/srat';\nvar MAX_ITER = 20;\nimport {HALF_PI, FORTPI} from '../constants/values';\n\nexport function init() {\n  var sphi = Math.sin(this.lat0);\n  var cphi = Math.cos(this.lat0);\n  cphi *= cphi;\n  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);\n  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));\n  this.phic0 = Math.asin(sphi / this.C);\n  this.ratexp = 0.5 * this.C * this.e;\n  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;\n  p.x = this.C * lon;\n  return p;\n}\n\nexport function inverse(p) {\n  var DEL_TOL = 1e-14;\n  var lon = p.x / this.C;\n  var lat = p.y;\n  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);\n  for (var i = MAX_ITER; i > 0; --i) {\n    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;\n    if (Math.abs(lat - p.y) < DEL_TOL) {\n      break;\n    }\n    p.y = lat;\n  }\n  /* convergence failed */\n  if (!i) {\n    return null;\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gauss\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import gauss from './gauss';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  gauss.init.apply(this);\n  if (!this.rc) {\n    return;\n  }\n  this.sinc0 = Math.sin(this.phic0);\n  this.cosc0 = Math.cos(this.phic0);\n  this.R2 = 2 * this.rc;\n  if (!this.title) {\n    this.title = \"Oblique Stereographic Alternative\";\n  }\n}\n\nexport function forward(p) {\n  var sinc, cosc, cosl, k;\n  p.x = adjust_lon(p.x - this.long0);\n  gauss.forward.apply(this, [p]);\n  sinc = Math.sin(p.y);\n  cosc = Math.cos(p.y);\n  cosl = Math.cos(p.x);\n  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);\n  p.x = k * cosc * Math.sin(p.x);\n  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);\n  p.x = this.a * p.x + this.x0;\n  p.y = this.a * p.y + this.y0;\n  return p;\n}\n\nexport function inverse(p) {\n  var sinc, cosc, lon, lat, rho;\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n  if ((rho = Math.sqrt(p.x * p.x + p.y * p.y))) {\n    var c = 2 * Math.atan2(rho, this.R2);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);\n    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  gauss.inverse.apply(this, [p]);\n  p.x = adjust_lon(p.x + this.long0);\n  return p;\n}\n\nexport var names = [\"Stereographic_North_Pole\", \"Oblique_Stereographic\", \"Polar_Stereographic\", \"sterea\",\"Oblique Stereographic Alternative\",\"Double_Stereographic\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {EPSLN, HALF_PI} from '../constants/values';\n\nimport sign from '../common/sign';\nimport msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function ssfn_(phit, sinphi, eccen) {\n  sinphi *= eccen;\n  return (Math.tan(0.5 * (HALF_PI + phit)) * Math.pow((1 - sinphi) / (1 + sinphi), 0.5 * eccen));\n}\n\nexport function init() {\n  this.coslat0 = Math.cos(this.lat0);\n  this.sinlat0 = Math.sin(this.lat0);\n  if (this.sphere) {\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n      this.k0 = 0.5 * (1 + sign(this.lat0) * Math.sin(this.lat_ts));\n    }\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (this.lat0 > 0) {\n        //North pole\n        //trace('stere:north pole');\n        this.con = 1;\n      }\n      else {\n        //South pole\n        //trace('stere:south pole');\n        this.con = -1;\n      }\n    }\n    this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n      this.k0 = 0.5 * this.cons * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));\n    }\n    this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);\n    this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - HALF_PI;\n    this.cosX0 = Math.cos(this.X0);\n    this.sinX0 = Math.sin(this.X0);\n  }\n}\n\n// Stereographic forward equations--mapping lat,long to x,y\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinlat = Math.sin(lat);\n  var coslat = Math.cos(lat);\n  var A, X, sinX, cosX, ts, rh;\n  var dlon = adjust_lon(lon - this.long0);\n\n  if (Math.abs(Math.abs(lon - this.long0) - Math.PI) <= EPSLN && Math.abs(lat + this.lat0) <= EPSLN) {\n    //case of the origine point\n    //trace('stere:this is the origin point');\n    p.x = NaN;\n    p.y = NaN;\n    return p;\n  }\n  if (this.sphere) {\n    //trace('stere:sphere case');\n    A = 2 * this.k0 / (1 + this.sinlat0 * sinlat + this.coslat0 * coslat * Math.cos(dlon));\n    p.x = this.a * A * coslat * Math.sin(dlon) + this.x0;\n    p.y = this.a * A * (this.coslat0 * sinlat - this.sinlat0 * coslat * Math.cos(dlon)) + this.y0;\n    return p;\n  }\n  else {\n    X = 2 * Math.atan(this.ssfn_(lat, sinlat, this.e)) - HALF_PI;\n    cosX = Math.cos(X);\n    sinX = Math.sin(X);\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      ts = tsfnz(this.e, lat * this.con, this.con * sinlat);\n      rh = 2 * this.a * this.k0 * ts / this.cons;\n      p.x = this.x0 + rh * Math.sin(lon - this.long0);\n      p.y = this.y0 - this.con * rh * Math.cos(lon - this.long0);\n      //trace(p.toString());\n      return p;\n    }\n    else if (Math.abs(this.sinlat0) < EPSLN) {\n      //Eq\n      //trace('stere:equateur');\n      A = 2 * this.a * this.k0 / (1 + cosX * Math.cos(dlon));\n      p.y = A * sinX;\n    }\n    else {\n      //other case\n      //trace('stere:normal case');\n      A = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * sinX + this.cosX0 * cosX * Math.cos(dlon)));\n      p.y = A * (this.cosX0 * sinX - this.sinX0 * cosX * Math.cos(dlon)) + this.y0;\n    }\n    p.x = A * cosX * Math.sin(dlon) + this.x0;\n  }\n  //trace(p.toString());\n  return p;\n}\n\n//* Stereographic inverse equations--mapping x,y to lat/long\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat, ts, ce, Chi;\n  var rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  if (this.sphere) {\n    var c = 2 * Math.atan(rh / (2 * this.a * this.k0));\n    lon = this.long0;\n    lat = this.lat0;\n    if (rh <= EPSLN) {\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    lat = Math.asin(Math.cos(c) * this.sinlat0 + p.y * Math.sin(c) * this.coslat0 / rh);\n    if (Math.abs(this.coslat0) < EPSLN) {\n      if (this.lat0 > 0) {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      }\n      else {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      }\n    }\n    else {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(c), rh * this.coslat0 * Math.cos(c) - p.y * this.sinlat0 * Math.sin(c)));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (rh <= EPSLN) {\n        lat = this.lat0;\n        lon = this.long0;\n        p.x = lon;\n        p.y = lat;\n        //trace(p.toString());\n        return p;\n      }\n      p.x *= this.con;\n      p.y *= this.con;\n      ts = rh * this.cons / (2 * this.a * this.k0);\n      lat = this.con * phi2z(this.e, ts);\n      lon = this.con * adjust_lon(this.con * this.long0 + Math.atan2(p.x, - 1 * p.y));\n    }\n    else {\n      ce = 2 * Math.atan(rh * this.cosX0 / (2 * this.a * this.k0 * this.ms1));\n      lon = this.long0;\n      if (rh <= EPSLN) {\n        Chi = this.X0;\n      }\n      else {\n        Chi = Math.asin(Math.cos(ce) * this.sinX0 + p.y * Math.sin(ce) * this.cosX0 / rh);\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(ce), rh * this.cosX0 * Math.cos(ce) - p.y * this.sinX0 * Math.sin(ce)));\n      }\n      lat = -1 * phi2z(this.e, Math.tan(0.5 * (HALF_PI + Chi)));\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n\n  //trace(p.toString());\n  return p;\n\n}\n\nexport var names = [\"stere\", \"Stereographic_South_Pole\", \"Polar Stereographic (variant B)\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  ssfn_: ssfn_\n};\n","/*\n  references:\n    Formules et constantes pour le Calcul pour la\n    projection cylindrique conforme  axe oblique et pour la transformation entre\n    des systmes de rfrence.\n    http://www.swisstopo.admin.ch/internet/swisstopo/fr/home/topics/survey/sys/refsys/switzerland.parsysrelated1.31216.downloadList.77004.DownloadFile.tmp/swissprojectionfr.pdf\n  */\n\nexport function init() {\n  var phy0 = this.lat0;\n  this.lambda0 = this.long0;\n  var sinPhy0 = Math.sin(phy0);\n  var semiMajorAxis = this.a;\n  var invF = this.rf;\n  var flattening = 1 / invF;\n  var e2 = 2 * flattening - Math.pow(flattening, 2);\n  var e = this.e = Math.sqrt(e2);\n  this.R = this.k0 * semiMajorAxis * Math.sqrt(1 - e2) / (1 - e2 * Math.pow(sinPhy0, 2));\n  this.alpha = Math.sqrt(1 + e2 / (1 - e2) * Math.pow(Math.cos(phy0), 4));\n  this.b0 = Math.asin(sinPhy0 / this.alpha);\n  var k1 = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));\n  var k2 = Math.log(Math.tan(Math.PI / 4 + phy0 / 2));\n  var k3 = Math.log((1 + e * sinPhy0) / (1 - e * sinPhy0));\n  this.K = k1 - this.alpha * k2 + this.alpha * e / 2 * k3;\n}\n\nexport function forward(p) {\n  var Sa1 = Math.log(Math.tan(Math.PI / 4 - p.y / 2));\n  var Sa2 = this.e / 2 * Math.log((1 + this.e * Math.sin(p.y)) / (1 - this.e * Math.sin(p.y)));\n  var S = -this.alpha * (Sa1 + Sa2) + this.K;\n\n  // spheric latitude\n  var b = 2 * (Math.atan(Math.exp(S)) - Math.PI / 4);\n\n  // spheric longitude\n  var I = this.alpha * (p.x - this.lambda0);\n\n  // psoeudo equatorial rotation\n  var rotI = Math.atan(Math.sin(I) / (Math.sin(this.b0) * Math.tan(b) + Math.cos(this.b0) * Math.cos(I)));\n\n  var rotB = Math.asin(Math.cos(this.b0) * Math.sin(b) - Math.sin(this.b0) * Math.cos(b) * Math.cos(I));\n\n  p.y = this.R / 2 * Math.log((1 + Math.sin(rotB)) / (1 - Math.sin(rotB))) + this.y0;\n  p.x = this.R * rotI + this.x0;\n  return p;\n}\n\nexport function inverse(p) {\n  var Y = p.x - this.x0;\n  var X = p.y - this.y0;\n\n  var rotI = Y / this.R;\n  var rotB = 2 * (Math.atan(Math.exp(X / this.R)) - Math.PI / 4);\n\n  var b = Math.asin(Math.cos(this.b0) * Math.sin(rotB) + Math.sin(this.b0) * Math.cos(rotB) * Math.cos(rotI));\n  var I = Math.atan(Math.sin(rotI) / (Math.cos(this.b0) * Math.cos(rotI) - Math.sin(this.b0) * Math.tan(rotB)));\n\n  var lambda = this.lambda0 + I / this.alpha;\n\n  var S = 0;\n  var phy = b;\n  var prevPhy = -1000;\n  var iteration = 0;\n  while (Math.abs(phy - prevPhy) > 0.0000001) {\n    if (++iteration > 20) {\n      //...reportError(\"omercFwdInfinity\");\n      return;\n    }\n    //S = Math.log(Math.tan(Math.PI / 4 + phy / 2));\n    S = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + b / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(phy)) / 2));\n    prevPhy = phy;\n    phy = 2 * Math.atan(Math.exp(S)) - Math.PI / 2;\n  }\n\n  p.x = lambda;\n  p.y = phy;\n  return p;\n}\n\nexport var names = [\"somerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import tsfnz from '../common/tsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport { D2R, EPSLN, HALF_PI, TWO_PI, FORTPI } from '../constants/values';\n\nvar TOL = 1e-7;\n\nfunction isTypeA(P) {\n  var typeAProjections = ['Hotine_Oblique_Mercator','Hotine_Oblique_Mercator_Azimuth_Natural_Origin'];\n  var projectionName = typeof P.PROJECTION === \"object\" ? Object.keys(P.PROJECTION)[0] : P.PROJECTION;\n  \n  return 'no_uoff' in P || 'no_off' in P || typeAProjections.indexOf(projectionName) !== -1;\n}\n\n\n/* Initialize the Oblique Mercator  projection\n    ------------------------------------------*/\nexport function init() {  \n  var con, com, cosph0, D, F, H, L, sinph0, p, J, gamma = 0,\n    gamma0, lamc = 0, lam1 = 0, lam2 = 0, phi1 = 0, phi2 = 0, alpha_c = 0, AB;\n  \n  // only Type A uses the no_off or no_uoff property\n  // https://github.com/OSGeo/proj.4/issues/104\n  this.no_off = isTypeA(this);\n  this.no_rot = 'no_rot' in this;\n  \n  var alp = false;\n  if (\"alpha\" in this) {\n    alp = true;\n  }\n\n  var gam = false;\n  if (\"rectified_grid_angle\" in this) {\n    gam = true;\n  }\n\n  if (alp) {\n    alpha_c = this.alpha;\n  }\n  \n  if (gam) {\n    gamma = (this.rectified_grid_angle * D2R);\n  }\n  \n  if (alp || gam) {\n    lamc = this.longc;\n  } else {\n    lam1 = this.long1;\n    phi1 = this.lat1;\n    lam2 = this.long2;\n    phi2 = this.lat2;\n    \n    if (Math.abs(phi1 - phi2) <= TOL || (con = Math.abs(phi1)) <= TOL ||\n        Math.abs(con - HALF_PI) <= TOL || Math.abs(Math.abs(this.lat0) - HALF_PI) <= TOL ||\n        Math.abs(Math.abs(phi2) - HALF_PI) <= TOL) {\n      throw new Error();\n    }\n  }\n  \n  var one_es = 1.0 - this.es;\n  com = Math.sqrt(one_es);\n  \n  if (Math.abs(this.lat0) > EPSLN) {\n    sinph0 = Math.sin(this.lat0);\n    cosph0 = Math.cos(this.lat0);\n    con = 1 - this.es * sinph0 * sinph0;\n    this.B = cosph0 * cosph0;\n    this.B = Math.sqrt(1 + this.es * this.B * this.B / one_es);\n    this.A = this.B * this.k0 * com / con;\n    D = this.B * com / (cosph0 * Math.sqrt(con));\n    F = D * D -1;\n    \n    if (F <= 0) {\n      F = 0;\n    } else {\n      F = Math.sqrt(F);\n      if (this.lat0 < 0) {\n        F = -F;\n      }\n    }\n    \n    this.E = F += D;\n    this.E *= Math.pow(tsfnz(this.e, this.lat0, sinph0), this.B);\n  } else {\n    this.B = 1 / com;\n    this.A = this.k0;\n    this.E = D = F = 1;\n  }\n  \n  if (alp || gam) {\n    if (alp) {\n      gamma0 = Math.asin(Math.sin(alpha_c) / D);\n      if (!gam) {\n        gamma = alpha_c;\n      }\n    } else {\n      gamma0 = gamma;\n      alpha_c = Math.asin(D * Math.sin(gamma0));\n    }\n    this.lam0 = lamc - Math.asin(0.5 * (F - 1 / F) * Math.tan(gamma0)) / this.B;\n  } else {\n    H = Math.pow(tsfnz(this.e, phi1, Math.sin(phi1)), this.B);\n    L = Math.pow(tsfnz(this.e, phi2, Math.sin(phi2)), this.B);\n    F = this.E / H;\n    p = (L - H) / (L + H);\n    J = this.E * this.E;\n    J = (J - L * H) / (J + L * H);\n    con = lam1 - lam2;\n    \n    if (con < -Math.pi) {\n      lam2 -=TWO_PI;\n    } else if (con > Math.pi) {\n      lam2 += TWO_PI;\n    }\n    \n    this.lam0 = adjust_lon(0.5 * (lam1 + lam2) - Math.atan(J * Math.tan(0.5 * this.B * (lam1 - lam2)) / p) / this.B);\n    gamma0 = Math.atan(2 * Math.sin(this.B * adjust_lon(lam1 - this.lam0)) / (F - 1 / F));\n    gamma = alpha_c = Math.asin(D * Math.sin(gamma0));\n  }\n  \n  this.singam = Math.sin(gamma0);\n  this.cosgam = Math.cos(gamma0);\n  this.sinrot = Math.sin(gamma);\n  this.cosrot = Math.cos(gamma);\n  \n  this.rB = 1 / this.B;\n  this.ArB = this.A * this.rB;\n  this.BrA = 1 / this.ArB;\n  AB = this.A * this.B;\n  \n  if (this.no_off) {\n    this.u_0 = 0;\n  } else {\n    this.u_0 = Math.abs(this.ArB * Math.atan(Math.sqrt(D * D - 1) / Math.cos(alpha_c)));\n    \n    if (this.lat0 < 0) {\n      this.u_0 = - this.u_0;\n    }  \n  }\n    \n  F = 0.5 * gamma0;\n  this.v_pole_n = this.ArB * Math.log(Math.tan(FORTPI - F));\n  this.v_pole_s = this.ArB * Math.log(Math.tan(FORTPI + F));\n}\n\n\n/* Oblique Mercator forward equations--mapping lat,long to x,y\n    ----------------------------------------------------------*/\nexport function forward(p) {\n  var coords = {};\n  var S, T, U, V, W, temp, u, v;\n  p.x = p.x - this.lam0;\n  \n  if (Math.abs(Math.abs(p.y) - HALF_PI) > EPSLN) {\n    W = this.E / Math.pow(tsfnz(this.e, p.y, Math.sin(p.y)), this.B);\n    \n    temp = 1 / W;\n    S = 0.5 * (W - temp);\n    T = 0.5 * (W + temp);\n    V = Math.sin(this.B * p.x);\n    U = (S * this.singam - V * this.cosgam) / T;\n        \n    if (Math.abs(Math.abs(U) - 1.0) < EPSLN) {\n      throw new Error();\n    }\n    \n    v = 0.5 * this.ArB * Math.log((1 - U)/(1 + U));\n    temp = Math.cos(this.B * p.x);\n    \n    if (Math.abs(temp) < TOL) {\n      u = this.A * p.x;\n    } else {\n      u = this.ArB * Math.atan2((S * this.cosgam + V * this.singam), temp);\n    }    \n  } else {\n    v = p.y > 0 ? this.v_pole_n : this.v_pole_s;\n    u = this.ArB * p.y;\n  }\n     \n  if (this.no_rot) {\n    coords.x = u;\n    coords.y = v;\n  } else {\n    u -= this.u_0;\n    coords.x = v * this.cosrot + u * this.sinrot;\n    coords.y = u * this.cosrot - v * this.sinrot;\n  }\n  \n  coords.x = (this.a * coords.x + this.x0);\n  coords.y = (this.a * coords.y + this.y0);\n  \n  return coords;\n}\n\nexport function inverse(p) {\n  var u, v, Qp, Sp, Tp, Vp, Up;\n  var coords = {};\n  \n  p.x = (p.x - this.x0) * (1.0 / this.a);\n  p.y = (p.y - this.y0) * (1.0 / this.a);\n\n  if (this.no_rot) {\n    v = p.y;\n    u = p.x;\n  } else {\n    v = p.x * this.cosrot - p.y * this.sinrot;\n    u = p.y * this.cosrot + p.x * this.sinrot + this.u_0;\n  }\n  \n  Qp = Math.exp(-this.BrA * v);\n  Sp = 0.5 * (Qp - 1 / Qp);\n  Tp = 0.5 * (Qp + 1 / Qp);\n  Vp = Math.sin(this.BrA * u);\n  Up = (Vp * this.cosgam + Sp * this.singam) / Tp;\n  \n  if (Math.abs(Math.abs(Up) - 1) < EPSLN) {\n    coords.x = 0;\n    coords.y = Up < 0 ? -HALF_PI : HALF_PI;\n  } else {\n    coords.y = this.E / Math.sqrt((1 + Up) / (1 - Up));\n    coords.y = phi2z(this.e, Math.pow(coords.y, 1 / this.B));\n    \n    if (coords.y === Infinity) {\n      throw new Error();\n    }\n        \n    coords.x = -this.rB * Math.atan2((Sp * this.cosgam - Vp * this.singam), Math.cos(this.BrA * u));\n  }\n  \n  coords.x += this.lam0;\n  \n  return coords;\n}\n\nexport var names = [\"Hotine_Oblique_Mercator\", \"Hotine Oblique Mercator\", \"Hotine_Oblique_Mercator_Azimuth_Natural_Origin\", \"Hotine_Oblique_Mercator_Two_Point_Natural_Origin\", \"Hotine_Oblique_Mercator_Azimuth_Center\", \"Oblique_Mercator\", \"omerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport sign from '../common/sign';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport {HALF_PI, EPSLN} from '../constants/values';\nexport function init() {\n  \n  //double lat0;                    /* the reference latitude               */\n  //double long0;                   /* the reference longitude              */\n  //double lat1;                    /* first standard parallel              */\n  //double lat2;                    /* second standard parallel             */\n  //double r_maj;                   /* major axis                           */\n  //double r_min;                   /* minor axis                           */\n  //double false_east;              /* x offset in meters                   */\n  //double false_north;             /* y offset in meters                   */\n  \n  //the above value can be set with proj4.defs\n  //example: proj4.defs(\"EPSG:2154\",\"+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\");\n\n  if (!this.lat2) {\n    this.lat2 = this.lat1;\n  } //if lat2 is not defined\n  if (!this.k0) {\n    this.k0 = 1;\n  }\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n\n  var temp = this.b / this.a;\n  this.e = Math.sqrt(1 - temp * temp);\n\n  var sin1 = Math.sin(this.lat1);\n  var cos1 = Math.cos(this.lat1);\n  var ms1 = msfnz(this.e, sin1, cos1);\n  var ts1 = tsfnz(this.e, this.lat1, sin1);\n\n  var sin2 = Math.sin(this.lat2);\n  var cos2 = Math.cos(this.lat2);\n  var ms2 = msfnz(this.e, sin2, cos2);\n  var ts2 = tsfnz(this.e, this.lat2, sin2);\n\n  var ts0 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns = Math.log(ms1 / ms2) / Math.log(ts1 / ts2);\n  }\n  else {\n    this.ns = sin1;\n  }\n  if (isNaN(this.ns)) {\n    this.ns = sin1;\n  }\n  this.f0 = ms1 / (this.ns * Math.pow(ts1, this.ns));\n  this.rh = this.a * this.f0 * Math.pow(ts0, this.ns);\n  if (!this.title) {\n    this.title = \"Lambert Conformal Conic\";\n  }\n}\n\n// Lambert Conformal conic forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  // singular cases :\n  if (Math.abs(2 * Math.abs(lat) - Math.PI) <= EPSLN) {\n    lat = sign(lat) * (HALF_PI - 2 * EPSLN);\n  }\n\n  var con = Math.abs(Math.abs(lat) - HALF_PI);\n  var ts, rh1;\n  if (con > EPSLN) {\n    ts = tsfnz(this.e, lat, Math.sin(lat));\n    rh1 = this.a * this.f0 * Math.pow(ts, this.ns);\n  }\n  else {\n    con = lat * this.ns;\n    if (con <= 0) {\n      return null;\n    }\n    rh1 = 0;\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  p.x = this.k0 * (rh1 * Math.sin(theta)) + this.x0;\n  p.y = this.k0 * (this.rh - rh1 * Math.cos(theta)) + this.y0;\n\n  return p;\n}\n\n// Lambert Conformal Conic inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var rh1, con, ts;\n  var lat, lon;\n  var x = (p.x - this.x0) / this.k0;\n  var y = (this.rh - (p.y - this.y0) / this.k0);\n  if (this.ns > 0) {\n    rh1 = Math.sqrt(x * x + y * y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(x * x + y * y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2((con * x), (con * y));\n  }\n  if ((rh1 !== 0) || (this.ns > 0)) {\n    con = 1 / this.ns;\n    ts = Math.pow((rh1 / (this.a * this.f0)), con);\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  else {\n    lat = -HALF_PI;\n  }\n  lon = adjust_lon(theta / this.ns + this.long0);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\n  \"Lambert Tangential Conformal Conic Projection\",\n  \"Lambert_Conformal_Conic\",\n  \"Lambert_Conformal_Conic_1SP\",\n  \"Lambert_Conformal_Conic_2SP\",\n  \"lcc\"\n];\n\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  this.a = 6377397.155;\n  this.es = 0.006674372230614;\n  this.e = Math.sqrt(this.es);\n  if (!this.lat0) {\n    this.lat0 = 0.863937979737193;\n  }\n  if (!this.long0) {\n    this.long0 = 0.7417649320975901 - 0.308341501185665;\n  }\n  /* if scale not set default to 0.9999 */\n  if (!this.k0) {\n    this.k0 = 0.9999;\n  }\n  this.s45 = 0.785398163397448; /* 45 */\n  this.s90 = 2 * this.s45;\n  this.fi0 = this.lat0;\n  this.e2 = this.es;\n  this.e = Math.sqrt(this.e2);\n  this.alfa = Math.sqrt(1 + (this.e2 * Math.pow(Math.cos(this.fi0), 4)) / (1 - this.e2));\n  this.uq = 1.04216856380474;\n  this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);\n  this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);\n  this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;\n  this.k1 = this.k0;\n  this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));\n  this.s0 = 1.37008346281555;\n  this.n = Math.sin(this.s0);\n  this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);\n  this.ad = this.s90 - this.uq;\n}\n\n/* ellipsoid */\n/* calculate xy from lat/lon */\n/* Constants, identical to inverse transform function */\nexport function forward(p) {\n  var gfi, u, deltav, s, d, eps, ro;\n  var lon = p.x;\n  var lat = p.y;\n  var delta_lon = adjust_lon(lon - this.long0);\n  /* Transformation */\n  gfi = Math.pow(((1 + this.e * Math.sin(lat)) / (1 - this.e * Math.sin(lat))), (this.alfa * this.e / 2));\n  u = 2 * (Math.atan(this.k * Math.pow(Math.tan(lat / 2 + this.s45), this.alfa) / gfi) - this.s45);\n  deltav = -delta_lon * this.alfa;\n  s = Math.asin(Math.cos(this.ad) * Math.sin(u) + Math.sin(this.ad) * Math.cos(u) * Math.cos(deltav));\n  d = Math.asin(Math.cos(u) * Math.sin(deltav) / Math.cos(s));\n  eps = this.n * d;\n  ro = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(s / 2 + this.s45), this.n);\n  p.y = ro * Math.cos(eps) / 1;\n  p.x = ro * Math.sin(eps) / 1;\n\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  return (p);\n}\n\n/* calculate lat/lon from xy */\nexport function inverse(p) {\n  var u, deltav, s, d, eps, ro, fi1;\n  var ok;\n\n  /* Transformation */\n  /* revert y, x*/\n  var tmp = p.x;\n  p.x = p.y;\n  p.y = tmp;\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  ro = Math.sqrt(p.x * p.x + p.y * p.y);\n  eps = Math.atan2(p.y, p.x);\n  d = eps / Math.sin(this.s0);\n  s = 2 * (Math.atan(Math.pow(this.ro0 / ro, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);\n  u = Math.asin(Math.cos(this.ad) * Math.sin(s) - Math.sin(this.ad) * Math.cos(s) * Math.cos(d));\n  deltav = Math.asin(Math.cos(s) * Math.sin(d) / Math.cos(u));\n  p.x = this.long0 - deltav / this.alfa;\n  fi1 = u;\n  ok = 0;\n  var iter = 0;\n  do {\n    p.y = 2 * (Math.atan(Math.pow(this.k, - 1 / this.alfa) * Math.pow(Math.tan(u / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(fi1)) / (1 - this.e * Math.sin(fi1)), this.e / 2)) - this.s45);\n    if (Math.abs(fi1 - p.y) < 0.0000000001) {\n      ok = 1;\n    }\n    fi1 = p.y;\n    iter += 1;\n  } while (ok === 0 && iter < 15);\n  if (iter >= 15) {\n    return null;\n  }\n\n  return (p);\n}\n\nexport var names = [\"Krovak\", \"krovak\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(e0, e1, e2, e3, phi) {\n  return (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi));\n}","export default function(x) {\n  return (1 - 0.25 * x * (1 + x / 16 * (3 + 1.25 * x)));\n}","export default function(x) {\n  return (0.375 * x * (1 + 0.25 * x * (1 + 0.46875 * x)));\n}","export default function(x) {\n  return (0.05859375 * x * x * (1 + 0.75 * x));\n}","export default function(x) {\n  return (x * x * x * (35 / 3072));\n}","export default function(a, e, sinphi) {\n  var temp = e * sinphi;\n  return a / Math.sqrt(1 - temp * temp);\n}","import {HALF_PI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) < HALF_PI) ? x : (x - (sign(x) * Math.PI));\n}\n","export default function(ml, e0, e1, e2, e3) {\n  var phi;\n  var dphi;\n\n  phi = ml / e0;\n  for (var i = 0; i < 15; i++) {\n    dphi = (ml - (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi))) / (e0 - 2 * e1 * Math.cos(2 * phi) + 4 * e2 * Math.cos(4 * phi) - 6 * e3 * Math.cos(6 * phi));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //..reportError(\"IMLFN-CONV:Latitude failed to converge after 15 iterations\");\n  return NaN;\n}","import mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nexport function init() {\n  if (!this.sphere) {\n    this.e0 = e0fn(this.es);\n    this.e1 = e1fn(this.es);\n    this.e2 = e2fn(this.es);\n    this.e3 = e3fn(this.es);\n    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  }\n}\n\n/* Cassini forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y;\n  var lam = p.x;\n  var phi = p.y;\n  lam = adjust_lon(lam - this.long0);\n\n  if (this.sphere) {\n    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));\n    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);\n  }\n  else {\n    //ellipsoid\n    var sinphi = Math.sin(phi);\n    var cosphi = Math.cos(phi);\n    var nl = gN(this.a, this.e, sinphi);\n    var tl = Math.tan(phi) * Math.tan(phi);\n    var al = lam * Math.cos(phi);\n    var asq = al * al;\n    var cl = this.es * cosphi * cosphi / (1 - this.es);\n    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n\n    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));\n    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);\n\n\n  }\n\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var phi, lam;\n\n  if (this.sphere) {\n    var dd = y + this.lat0;\n    phi = Math.asin(Math.sin(dd) * Math.cos(x));\n    lam = Math.atan2(Math.tan(x), Math.cos(dd));\n  }\n  else {\n    /* ellipsoid */\n    var ml1 = this.ml0 / this.a + y;\n    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);\n    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {\n      p.x = this.long0;\n      p.y = HALF_PI;\n      if (y < 0) {\n        p.y *= -1;\n      }\n      return p;\n    }\n    var nl1 = gN(this.a, this.e, Math.sin(phi1));\n\n    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);\n    var tl1 = Math.pow(Math.tan(phi1), 2);\n    var dl = x * this.a / nl1;\n    var dsq = dl * dl;\n    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);\n    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);\n\n  }\n\n  p.x = adjust_lon(lam + this.long0);\n  p.y = adjust_lat(phi);\n  return p;\n\n}\n\nexport var names = [\"Cassini\", \"Cassini_Soldner\", \"cass\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(eccent, sinphi) {\n  var con;\n  if (eccent > 1.0e-7) {\n    con = eccent * sinphi;\n    return ((1 - eccent * eccent) * (sinphi / (1 - con * con) - (0.5 / eccent) * Math.log((1 - con) / (1 + con))));\n  }\n  else {\n    return (2 * sinphi);\n  }\n}","\nimport {HALF_PI, EPSLN, FORTPI} from '../constants/values';\n\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\nexport var S_POLE = 1;\n\nexport var N_POLE = 2;\nexport var EQUIT = 3;\nexport var OBLIQ = 4;\n\n/* Initialize the Lambert Azimuthal Equal Area projection\n  ------------------------------------------------------*/\nexport function init() {\n  var t = Math.abs(this.lat0);\n  if (Math.abs(t - HALF_PI) < EPSLN) {\n    this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;\n  }\n  else if (Math.abs(t) < EPSLN) {\n    this.mode = this.EQUIT;\n  }\n  else {\n    this.mode = this.OBLIQ;\n  }\n  if (this.es > 0) {\n    var sinphi;\n\n    this.qp = qsfnz(this.e, 1);\n    this.mmf = 0.5 / (1 - this.es);\n    this.apa = authset(this.es);\n    switch (this.mode) {\n    case this.N_POLE:\n      this.dd = 1;\n      break;\n    case this.S_POLE:\n      this.dd = 1;\n      break;\n    case this.EQUIT:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      this.dd = 1 / this.rq;\n      this.xmf = 1;\n      this.ymf = 0.5 * this.qp;\n      break;\n    case this.OBLIQ:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      sinphi = Math.sin(this.lat0);\n      this.sinb1 = qsfnz(this.e, sinphi) / this.qp;\n      this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);\n      this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * sinphi * sinphi) * this.rq * this.cosb1);\n      this.ymf = (this.xmf = this.rq) / this.dd;\n      this.xmf *= this.dd;\n      break;\n    }\n  }\n  else {\n    if (this.mode === this.OBLIQ) {\n      this.sinph0 = Math.sin(this.lat0);\n      this.cosph0 = Math.cos(this.lat0);\n    }\n  }\n}\n\n/* Lambert Azimuthal Equal Area forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y, coslam, sinlam, sinphi, q, sinb, cosb, b, cosphi;\n  var lam = p.x;\n  var phi = p.y;\n\n  lam = adjust_lon(lam - this.long0);\n  if (this.sphere) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    coslam = Math.cos(lam);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      y = (this.mode === this.EQUIT) ? 1 + cosphi * coslam : 1 + this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      if (y <= EPSLN) {\n        return null;\n      }\n      y = Math.sqrt(2 / y);\n      x = y * cosphi * Math.sin(lam);\n      y *= (this.mode === this.EQUIT) ? sinphi : this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        coslam = -coslam;\n      }\n      if (Math.abs(phi + this.lat0) < EPSLN) {\n        return null;\n      }\n      y = FORTPI - phi * 0.5;\n      y = 2 * ((this.mode === this.S_POLE) ? Math.cos(y) : Math.sin(y));\n      x = y * Math.sin(lam);\n      y *= coslam;\n    }\n  }\n  else {\n    sinb = 0;\n    cosb = 0;\n    b = 0;\n    coslam = Math.cos(lam);\n    sinlam = Math.sin(lam);\n    sinphi = Math.sin(phi);\n    q = qsfnz(this.e, sinphi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinb = q / this.qp;\n      cosb = Math.sqrt(1 - sinb * sinb);\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n      b = 1 + this.sinb1 * sinb + this.cosb1 * cosb * coslam;\n      break;\n    case this.EQUIT:\n      b = 1 + cosb * coslam;\n      break;\n    case this.N_POLE:\n      b = HALF_PI + phi;\n      q = this.qp - q;\n      break;\n    case this.S_POLE:\n      b = phi - HALF_PI;\n      q = this.qp + q;\n      break;\n    }\n    if (Math.abs(b) < EPSLN) {\n      return null;\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n    case this.EQUIT:\n      b = Math.sqrt(2 / b);\n      if (this.mode === this.OBLIQ) {\n        y = this.ymf * b * (this.cosb1 * sinb - this.sinb1 * cosb * coslam);\n      }\n      else {\n        y = (b = Math.sqrt(2 / (1 + cosb * coslam))) * sinb * this.ymf;\n      }\n      x = this.xmf * b * cosb * sinlam;\n      break;\n    case this.N_POLE:\n    case this.S_POLE:\n      if (q >= 0) {\n        x = (b = Math.sqrt(q)) * sinlam;\n        y = coslam * ((this.mode === this.S_POLE) ? b : -b);\n      }\n      else {\n        x = y = 0;\n      }\n      break;\n    }\n  }\n\n  p.x = this.a * x + this.x0;\n  p.y = this.a * y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var lam, phi, cCe, sCe, q, rho, ab;\n  if (this.sphere) {\n    var cosz = 0,\n      rh, sinz = 0;\n\n    rh = Math.sqrt(x * x + y * y);\n    phi = rh * 0.5;\n    if (phi > 1) {\n      return null;\n    }\n    phi = 2 * Math.asin(phi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinz = Math.sin(phi);\n      cosz = Math.cos(phi);\n    }\n    switch (this.mode) {\n    case this.EQUIT:\n      phi = (Math.abs(rh) <= EPSLN) ? 0 : Math.asin(y * sinz / rh);\n      x *= sinz;\n      y = cosz * rh;\n      break;\n    case this.OBLIQ:\n      phi = (Math.abs(rh) <= EPSLN) ? this.lat0 : Math.asin(cosz * this.sinph0 + y * sinz * this.cosph0 / rh);\n      x *= sinz * this.cosph0;\n      y = (cosz - Math.sin(phi) * this.sinph0) * rh;\n      break;\n    case this.N_POLE:\n      y = -y;\n      phi = HALF_PI - phi;\n      break;\n    case this.S_POLE:\n      phi -= HALF_PI;\n      break;\n    }\n    lam = (y === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)) ? 0 : Math.atan2(x, y);\n  }\n  else {\n    ab = 0;\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      x /= this.dd;\n      y *= this.dd;\n      rho = Math.sqrt(x * x + y * y);\n      if (rho < EPSLN) {\n        p.x = this.long0;\n        p.y = this.lat0;\n        return p;\n      }\n      sCe = 2 * Math.asin(0.5 * rho / this.rq);\n      cCe = Math.cos(sCe);\n      x *= (sCe = Math.sin(sCe));\n      if (this.mode === this.OBLIQ) {\n        ab = cCe * this.sinb1 + y * sCe * this.cosb1 / rho;\n        q = this.qp * ab;\n        y = rho * this.cosb1 * cCe - y * this.sinb1 * sCe;\n      }\n      else {\n        ab = y * sCe / rho;\n        q = this.qp * ab;\n        y = rho * cCe;\n      }\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        y = -y;\n      }\n      q = (x * x + y * y);\n      if (!q) {\n        p.x = this.long0;\n        p.y = this.lat0;\n        return p;\n      }\n      ab = 1 - q / this.qp;\n      if (this.mode === this.S_POLE) {\n        ab = -ab;\n      }\n    }\n    lam = Math.atan2(x, y);\n    phi = authlat(Math.asin(ab), this.apa);\n  }\n\n  p.x = adjust_lon(this.long0 + lam);\n  p.y = phi;\n  return p;\n}\n\n/* determine latitude from authalic latitude */\nvar P00 = 0.33333333333333333333;\n\nvar P01 = 0.17222222222222222222;\nvar P02 = 0.10257936507936507936;\nvar P10 = 0.06388888888888888888;\nvar P11 = 0.06640211640211640211;\nvar P20 = 0.01641501294219154443;\n\nfunction authset(es) {\n  var t;\n  var APA = [];\n  APA[0] = es * P00;\n  t = es * es;\n  APA[0] += t * P01;\n  APA[1] = t * P10;\n  t *= es;\n  APA[0] += t * P02;\n  APA[1] += t * P11;\n  APA[2] = t * P20;\n  return APA;\n}\n\nfunction authlat(beta, APA) {\n  var t = beta + beta;\n  return (beta + APA[0] * Math.sin(t) + APA[1] * Math.sin(t + t) + APA[2] * Math.sin(t + t + t));\n}\n\nexport var names = [\"Lambert Azimuthal Equal Area\", \"Lambert_Azimuthal_Equal_Area\", \"laea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  S_POLE: S_POLE,\n  N_POLE: N_POLE,\n  EQUIT: EQUIT,\n  OBLIQ: OBLIQ\n};\n","export default function(x) {\n  if (Math.abs(x) > 1) {\n    x = (x > 1) ? 1 : -1;\n  }\n  return Math.asin(x);\n}","import msfnz from '../common/msfnz';\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e3 = Math.sqrt(this.es);\n\n  this.sin_po = Math.sin(this.lat1);\n  this.cos_po = Math.cos(this.lat1);\n  this.t1 = this.sin_po;\n  this.con = this.sin_po;\n  this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs1 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  this.sin_po = Math.sin(this.lat2);\n  this.cos_po = Math.cos(this.lat2);\n  this.t2 = this.sin_po;\n  this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs2 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  this.sin_po = Math.sin(this.lat0);\n  this.cos_po = Math.cos(this.lat0);\n  this.t3 = this.sin_po;\n  this.qs0 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);\n  }\n  else {\n    this.ns0 = this.con;\n  }\n  this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;\n  this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;\n}\n\n/* Albers Conical Equal Area forward equations--mapping lat,long to x,y\n  -------------------------------------------------------------------*/\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  this.sin_phi = Math.sin(lat);\n  this.cos_phi = Math.cos(lat);\n\n  var qs = qsfnz(this.e3, this.sin_phi, this.cos_phi);\n  var rh1 = this.a * Math.sqrt(this.c - this.ns0 * qs) / this.ns0;\n  var theta = this.ns0 * adjust_lon(lon - this.long0);\n  var x = rh1 * Math.sin(theta) + this.x0;\n  var y = this.rh - rh1 * Math.cos(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh1, qs, con, theta, lon, lat;\n\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  if (this.ns0 >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n  con = rh1 * this.ns0 / this.a;\n  if (this.sphere) {\n    lat = Math.asin((this.c - con * con) / (2 * this.ns0));\n  }\n  else {\n    qs = (this.c - con * con) / this.ns0;\n    lat = this.phi1z(this.e3, qs);\n  }\n\n  lon = adjust_lon(theta / this.ns0 + this.long0);\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\n/* Function to compute phi1, the latitude for the inverse of the\n   Albers Conical Equal-Area projection.\n-------------------------------------------*/\nexport function phi1z(eccent, qs) {\n  var sinphi, cosphi, con, com, dphi;\n  var phi = asinz(0.5 * qs);\n  if (eccent < EPSLN) {\n    return phi;\n  }\n\n  var eccnts = eccent * eccent;\n  for (var i = 1; i <= 25; i++) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    con = eccent * sinphi;\n    com = 1 - con * con;\n    dphi = 0.5 * com * com / cosphi * (qs / (1 - eccnts) - sinphi / com + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi = phi + dphi;\n    if (Math.abs(dphi) <= 1e-7) {\n      return phi;\n    }\n  }\n  return null;\n}\n\nexport var names = [\"Albers_Conic_Equal_Area\", \"Albers\", \"aea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  phi1z: phi1z\n};\n","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\n/*\n  reference:\n    Wolfram Mathworld \"Gnomonic Projection\"\n    http://mathworld.wolfram.com/GnomonicProjection.html\n    Accessed: 12th November 2009\n  */\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n  // Approximation for projecting points to the horizon (infinity)\n  this.infinity_dist = 1000 * this.a;\n  this.rc = 1;\n}\n\n/* Gnomonic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g;\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.x0 + this.a * ksp * cosphi * Math.sin(dlon) / g;\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon) / g;\n  }\n  else {\n\n    // Point is in the opposing hemisphere and is unprojectable\n    // We still need to return a reasonable point, so we project\n    // to infinity, on a bearing\n    // equivalent to the northern hemisphere equivalent\n    // This is a reasonable approximation for short shapes and lines that\n    // straddle the horizon.\n\n    x = this.x0 + this.infinity_dist * cosphi * Math.sin(dlon);\n    y = this.y0 + this.infinity_dist * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* Rho */\n  var sinc, cosc;\n  var c;\n  var lon, lat;\n\n  /* Inverse equations\n      -----------------*/\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n\n  if ((rh = Math.sqrt(p.x * p.x + p.y * p.y))) {\n    c = Math.atan2(rh, this.rc);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n\n    lat = asinz(cosc * this.sin_p14 + (p.y * sinc * this.cos_p14) / rh);\n    lon = Math.atan2(p.x * sinc, rh * this.cos_p14 * cosc - p.y * this.sin_p14 * sinc);\n    lon = adjust_lon(this.long0 + lon);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gnom\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, q) {\n  var temp = 1 - (1 - eccent * eccent) / (2 * eccent) * Math.log((1 - eccent) / (1 + eccent));\n  if (Math.abs(Math.abs(q) - temp) < 1.0E-6) {\n    if (q < 0) {\n      return (-1 * HALF_PI);\n    }\n    else {\n      return HALF_PI;\n    }\n  }\n  //var phi = 0.5* q/(1-eccent*eccent);\n  var phi = Math.asin(0.5 * q);\n  var dphi;\n  var sin_phi;\n  var cos_phi;\n  var con;\n  for (var i = 0; i < 30; i++) {\n    sin_phi = Math.sin(phi);\n    cos_phi = Math.cos(phi);\n    con = eccent * sin_phi;\n    dphi = Math.pow(1 - con * con, 2) / (2 * cos_phi) * (q / (1 - eccent * eccent) - sin_phi / (1 - con * con) + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //console.log(\"IQSFN-CONV:Latitude failed to converge after 30 iterations\");\n  return NaN;\n}\n","import adjust_lon from '../common/adjust_lon';\nimport qsfnz from '../common/qsfnz';\nimport msfnz from '../common/msfnz';\nimport iqsfnz from '../common/iqsfnz';\n\n/*\n  reference:\n    \"Cartographic Projection Procedures for the UNIX Environment-\n    A User's Manual\" by Gerald I. Evenden,\n    USGS Open File Report 90-284and Release 4 Interim Reports (2003)\n*/\nexport function init() {\n  //no-op\n  if (!this.sphere) {\n    this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n  }\n}\n\n/* Cylindrical Equal Area forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  if (this.sphere) {\n    x = this.x0 + this.a * dlon * Math.cos(this.lat_ts);\n    y = this.y0 + this.a * Math.sin(lat) / Math.cos(this.lat_ts);\n  }\n  else {\n    var qs = qsfnz(this.e, Math.sin(lat));\n    x = this.x0 + this.a * this.k0 * dlon;\n    y = this.y0 + this.a * qs * 0.5 / this.k0;\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Cylindrical Equal Area inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + (p.x / this.a) / Math.cos(this.lat_ts));\n    lat = Math.asin((p.y / this.a) * Math.cos(this.lat_ts));\n  }\n  else {\n    lat = iqsfnz(this.e, 2 * p.y * this.k0 / this.a);\n    lon = adjust_lon(this.long0 + p.x / (this.a * this.k0));\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"cea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Equidistant Cylindrical (Plate Carre)\";\n\n  this.rc = Math.cos(this.lat_ts);\n}\n\n// forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  var dlon = adjust_lon(lon - this.long0);\n  var dlat = adjust_lat(lat - this.lat0);\n  p.x = this.x0 + (this.a * dlon * this.rc);\n  p.y = this.y0 + (this.a * dlat);\n  return p;\n}\n\n// inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var x = p.x;\n  var y = p.y;\n\n  p.x = adjust_lon(this.long0 + ((x - this.x0) / (this.a * this.rc)));\n  p.y = adjust_lat(this.lat0 + ((y - this.y0) / (this.a)));\n  return p;\n}\n\nexport var names = [\"Equirectangular\", \"Equidistant_Cylindrical\", \"eqc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport mlfn from '../common/mlfn';\nimport {EPSLN} from '../constants/values';\n\nimport gN from '../common/gN';\nvar MAX_ITER = 20;\n\nexport function init() {\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2); // devait etre dans tmerc.js mais n y est pas donc je commente sinon retour de valeurs nulles\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0); //si que des zeros le calcul ne se fait pas\n}\n\n/* Polyconic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y, el;\n  var dlon = adjust_lon(lon - this.long0);\n  el = dlon * Math.sin(lat);\n  if (this.sphere) {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.a * this.lat0;\n    }\n    else {\n      x = this.a * Math.sin(el) / Math.tan(lat);\n      y = this.a * (adjust_lat(lat - this.lat0) + (1 - Math.cos(el)) / Math.tan(lat));\n    }\n  }\n  else {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.ml0;\n    }\n    else {\n      var nl = gN(this.a, this.e, Math.sin(lat)) / Math.tan(lat);\n      x = nl * Math.sin(el);\n      y = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat) - this.ml0 + nl * (1 - Math.cos(el));\n    }\n\n  }\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  var lon, lat, x, y, i;\n  var al, bl;\n  var phi, dphi;\n  x = p.x - this.x0;\n  y = p.y - this.y0;\n\n  if (this.sphere) {\n    if (Math.abs(y + this.a * this.lat0) <= EPSLN) {\n      lon = adjust_lon(x / this.a + this.long0);\n      lat = 0;\n    }\n    else {\n      al = this.lat0 + y / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var tanphi;\n      for (i = MAX_ITER; i; --i) {\n        tanphi = Math.tan(phi);\n        dphi = -1 * (al * (phi * tanphi + 1) - phi - 0.5 * (phi * phi + bl) * tanphi) / ((phi - al) / tanphi - 1);\n        phi += dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n      lon = adjust_lon(this.long0 + (Math.asin(x * Math.tan(phi) / this.a)) / Math.sin(lat));\n    }\n  }\n  else {\n    if (Math.abs(y + this.ml0) <= EPSLN) {\n      lat = 0;\n      lon = adjust_lon(this.long0 + x / this.a);\n    }\n    else {\n\n      al = (this.ml0 + y) / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var cl, mln, mlnp, ma;\n      var con;\n      for (i = MAX_ITER; i; --i) {\n        con = this.e * Math.sin(phi);\n        cl = Math.sqrt(1 - con * con) * Math.tan(phi);\n        mln = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n        mlnp = this.e0 - 2 * this.e1 * Math.cos(2 * phi) + 4 * this.e2 * Math.cos(4 * phi) - 6 * this.e3 * Math.cos(6 * phi);\n        ma = mln / this.a;\n        dphi = (al * (cl * ma + 1) - ma - 0.5 * cl * (ma * ma + bl)) / (this.es * Math.sin(2 * phi) * (ma * ma + bl - 2 * al * ma) / (4 * cl) + (al - ma) * (cl * mlnp - 2 / Math.sin(2 * phi)) - mlnp);\n        phi -= dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n\n      //lat=phi4z(this.e,this.e0,this.e1,this.e2,this.e3,al,bl,0,0);\n      cl = Math.sqrt(1 - this.es * Math.pow(Math.sin(lat), 2)) * Math.tan(lat);\n      lon = adjust_lon(this.long0 + Math.asin(x * cl / this.a) / Math.sin(lat));\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Polyconic\", \"poly\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {SEC_TO_RAD} from '../constants/values';\n\n/*\n  reference\n    Department of Land and Survey Technical Circular 1973/32\n      http://www.linz.govt.nz/docs/miscellaneous/nz-map-definition.pdf\n    OSG Technical Report 4.1\n      http://www.linz.govt.nz/docs/miscellaneous/nzmg.pdf\n  */\n\n/**\n * iterations: Number of iterations to refine inverse transform.\n *     0 -> km accuracy\n *     1 -> m accuracy -- suitable for most mapping applications\n *     2 -> mm accuracy\n */\nexport var iterations = 1;\n\nexport function init() {\n  this.A = [];\n  this.A[1] = 0.6399175073;\n  this.A[2] = -0.1358797613;\n  this.A[3] = 0.063294409;\n  this.A[4] = -0.02526853;\n  this.A[5] = 0.0117879;\n  this.A[6] = -0.0055161;\n  this.A[7] = 0.0026906;\n  this.A[8] = -0.001333;\n  this.A[9] = 0.00067;\n  this.A[10] = -0.00034;\n\n  this.B_re = [];\n  this.B_im = [];\n  this.B_re[1] = 0.7557853228;\n  this.B_im[1] = 0;\n  this.B_re[2] = 0.249204646;\n  this.B_im[2] = 0.003371507;\n  this.B_re[3] = -0.001541739;\n  this.B_im[3] = 0.041058560;\n  this.B_re[4] = -0.10162907;\n  this.B_im[4] = 0.01727609;\n  this.B_re[5] = -0.26623489;\n  this.B_im[5] = -0.36249218;\n  this.B_re[6] = -0.6870983;\n  this.B_im[6] = -1.1651967;\n\n  this.C_re = [];\n  this.C_im = [];\n  this.C_re[1] = 1.3231270439;\n  this.C_im[1] = 0;\n  this.C_re[2] = -0.577245789;\n  this.C_im[2] = -0.007809598;\n  this.C_re[3] = 0.508307513;\n  this.C_im[3] = -0.112208952;\n  this.C_re[4] = -0.15094762;\n  this.C_im[4] = 0.18200602;\n  this.C_re[5] = 1.01418179;\n  this.C_im[5] = 1.64497696;\n  this.C_re[6] = 1.9660549;\n  this.C_im[6] = 2.5127645;\n\n  this.D = [];\n  this.D[1] = 1.5627014243;\n  this.D[2] = 0.5185406398;\n  this.D[3] = -0.03333098;\n  this.D[4] = -0.1052906;\n  this.D[5] = -0.0368594;\n  this.D[6] = 0.007317;\n  this.D[7] = 0.01220;\n  this.D[8] = 0.00394;\n  this.D[9] = -0.0013;\n}\n\n/**\n    New Zealand Map Grid Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var n;\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lat = lat - this.lat0;\n  var delta_lon = lon - this.long0;\n\n  // 1. Calculate d_phi and d_psi    ...                          // and d_lambda\n  // For this algorithm, delta_latitude is in seconds of arc x 10-5, so we need to scale to those units. Longitude is radians.\n  var d_phi = delta_lat / SEC_TO_RAD * 1E-5;\n  var d_lambda = delta_lon;\n  var d_phi_n = 1; // d_phi^0\n\n  var d_psi = 0;\n  for (n = 1; n <= 10; n++) {\n    d_phi_n = d_phi_n * d_phi;\n    d_psi = d_psi + this.A[n] * d_phi_n;\n  }\n\n  // 2. Calculate theta\n  var th_re = d_psi;\n  var th_im = d_lambda;\n\n  // 3. Calculate z\n  var th_n_re = 1;\n  var th_n_im = 0; // theta^0\n  var th_n_re1;\n  var th_n_im1;\n\n  var z_re = 0;\n  var z_im = 0;\n  for (n = 1; n <= 6; n++) {\n    th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n    th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n    th_n_re = th_n_re1;\n    th_n_im = th_n_im1;\n    z_re = z_re + this.B_re[n] * th_n_re - this.B_im[n] * th_n_im;\n    z_im = z_im + this.B_im[n] * th_n_re + this.B_re[n] * th_n_im;\n  }\n\n  // 4. Calculate easting and northing\n  p.x = (z_im * this.a) + this.x0;\n  p.y = (z_re * this.a) + this.y0;\n\n  return p;\n}\n\n/**\n    New Zealand Map Grid Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var n;\n  var x = p.x;\n  var y = p.y;\n\n  var delta_x = x - this.x0;\n  var delta_y = y - this.y0;\n\n  // 1. Calculate z\n  var z_re = delta_y / this.a;\n  var z_im = delta_x / this.a;\n\n  // 2a. Calculate theta - first approximation gives km accuracy\n  var z_n_re = 1;\n  var z_n_im = 0; // z^0\n  var z_n_re1;\n  var z_n_im1;\n\n  var th_re = 0;\n  var th_im = 0;\n  for (n = 1; n <= 6; n++) {\n    z_n_re1 = z_n_re * z_re - z_n_im * z_im;\n    z_n_im1 = z_n_im * z_re + z_n_re * z_im;\n    z_n_re = z_n_re1;\n    z_n_im = z_n_im1;\n    th_re = th_re + this.C_re[n] * z_n_re - this.C_im[n] * z_n_im;\n    th_im = th_im + this.C_im[n] * z_n_re + this.C_re[n] * z_n_im;\n  }\n\n  // 2b. Iterate to refine the accuracy of the calculation\n  //        0 iterations gives km accuracy\n  //        1 iteration gives m accuracy -- good enough for most mapping applications\n  //        2 iterations bives mm accuracy\n  for (var i = 0; i < this.iterations; i++) {\n    var th_n_re = th_re;\n    var th_n_im = th_im;\n    var th_n_re1;\n    var th_n_im1;\n\n    var num_re = z_re;\n    var num_im = z_im;\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      num_re = num_re + (n - 1) * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      num_im = num_im + (n - 1) * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    th_n_re = 1;\n    th_n_im = 0;\n    var den_re = this.B_re[1];\n    var den_im = this.B_im[1];\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      den_re = den_re + n * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      den_im = den_im + n * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    // Complex division\n    var den2 = den_re * den_re + den_im * den_im;\n    th_re = (num_re * den_re + num_im * den_im) / den2;\n    th_im = (num_im * den_re - num_re * den_im) / den2;\n  }\n\n  // 3. Calculate d_phi              ...                                    // and d_lambda\n  var d_psi = th_re;\n  var d_lambda = th_im;\n  var d_psi_n = 1; // d_psi^0\n\n  var d_phi = 0;\n  for (n = 1; n <= 9; n++) {\n    d_psi_n = d_psi_n * d_psi;\n    d_phi = d_phi + this.D[n] * d_psi_n;\n  }\n\n  // 4. Calculate latitude and longitude\n  // d_phi is calcuated in second of arc * 10^-5, so we need to scale back to radians. d_lambda is in radians.\n  var lat = this.lat0 + (d_phi * SEC_TO_RAD * 1E5);\n  var lon = this.long0 + d_lambda;\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"New_Zealand_Map_Grid\", \"nzmg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\n\n/* Initialize the Miller Cylindrical projection\n  -------------------------------------------*/\nexport function init() {\n  //no-op\n}\n\n/* Miller Cylindrical forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x = this.x0 + this.a * dlon;\n  var y = this.y0 + this.a * Math.log(Math.tan((Math.PI / 4) + (lat / 2.5))) * 1.25;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Miller Cylindrical inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n\n  var lon = adjust_lon(this.long0 + p.x / this.a);\n  var lat = 2.5 * (Math.atan(Math.exp(0.8 * p.y / this.a)) - Math.PI / 4);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Miller_Cylindrical\", \"mill\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport pj_enfn from '../common/pj_enfn';\nvar MAX_ITER = 20;\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n\nexport function init() {\n  /* Place parameters in static storage for common use\n    -------------------------------------------------*/\n\n\n  if (!this.sphere) {\n    this.en = pj_enfn(this.es);\n  }\n  else {\n    this.n = 1;\n    this.m = 0;\n    this.es = 0;\n    this.C_y = Math.sqrt((this.m + 1) / this.n);\n    this.C_x = this.C_y / (this.m + 1);\n  }\n\n}\n\n/* Sinusoidal forward equations--mapping lat,long to x,y\n  -----------------------------------------------------*/\nexport function forward(p) {\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n    -----------------*/\n  lon = adjust_lon(lon - this.long0);\n\n  if (this.sphere) {\n    if (!this.m) {\n      lat = this.n !== 1 ? Math.asin(this.n * Math.sin(lat)) : lat;\n    }\n    else {\n      var k = this.n * Math.sin(lat);\n      for (var i = MAX_ITER; i; --i) {\n        var V = (this.m * lat + Math.sin(lat) - k) / (this.m + Math.cos(lat));\n        lat -= V;\n        if (Math.abs(V) < EPSLN) {\n          break;\n        }\n      }\n    }\n    x = this.a * this.C_x * lon * (this.m + Math.cos(lat));\n    y = this.a * this.C_y * lat;\n\n  }\n  else {\n\n    var s = Math.sin(lat);\n    var c = Math.cos(lat);\n    y = this.a * pj_mlfn(lat, s, c, this.en);\n    x = this.a * lon * c / Math.sqrt(1 - this.es * s * s);\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var lat, temp, lon, s;\n\n  p.x -= this.x0;\n  lon = p.x / this.a;\n  p.y -= this.y0;\n  lat = p.y / this.a;\n\n  if (this.sphere) {\n    lat /= this.C_y;\n    lon = lon / (this.C_x * (this.m + Math.cos(lat)));\n    if (this.m) {\n      lat = asinz((this.m * lat + Math.sin(lat)) / this.n);\n    }\n    else if (this.n !== 1) {\n      lat = asinz(Math.sin(lat) / this.n);\n    }\n    lon = adjust_lon(lon + this.long0);\n    lat = adjust_lat(lat);\n  }\n  else {\n    lat = pj_inv_mlfn(p.y / this.a, this.es, this.en);\n    s = Math.abs(lat);\n    if (s < HALF_PI) {\n      s = Math.sin(lat);\n      temp = this.long0 + p.x * Math.sqrt(1 - this.es * s * s) / (this.a * Math.cos(lat));\n      //temp = this.long0 + p.x / (this.a * Math.cos(lat));\n      lon = adjust_lon(temp);\n    }\n    else if ((s - EPSLN) < HALF_PI) {\n      lon = this.long0;\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Sinusoidal\", \"sinu\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nexport function init() {}\nimport {EPSLN} from '../constants/values';\n/* Mollweide forward equations--mapping lat,long to x,y\n    ----------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var theta = lat;\n  var con = Math.PI * Math.sin(lat);\n\n  /* Iterate using the Newton-Raphson method to find theta\n      -----------------------------------------------------*/\n  while (true) {\n    var delta_theta = -(theta + Math.sin(theta) - con) / (1 + Math.cos(theta));\n    theta += delta_theta;\n    if (Math.abs(delta_theta) < EPSLN) {\n      break;\n    }\n  }\n  theta /= 2;\n\n  /* If the latitude is 90 deg, force the x coordinate to be \"0 + false easting\"\n       this is done here because of precision problems with \"cos(theta)\"\n       --------------------------------------------------------------------------*/\n  if (Math.PI / 2 - Math.abs(lat) < EPSLN) {\n    delta_lon = 0;\n  }\n  var x = 0.900316316158 * this.a * delta_lon * Math.cos(theta) + this.x0;\n  var y = 1.4142135623731 * this.a * Math.sin(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var theta;\n  var arg;\n\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  arg = p.y / (1.4142135623731 * this.a);\n\n  /* Because of division by zero problems, 'arg' can not be 1.  Therefore\n       a number very close to one is used instead.\n       -------------------------------------------------------------------*/\n  if (Math.abs(arg) > 0.999999999999) {\n    arg = 0.999999999999;\n  }\n  theta = Math.asin(arg);\n  var lon = adjust_lon(this.long0 + (p.x / (0.900316316158 * this.a * Math.cos(theta))));\n  if (lon < (-Math.PI)) {\n    lon = -Math.PI;\n  }\n  if (lon > Math.PI) {\n    lon = Math.PI;\n  }\n  arg = (2 * theta + Math.sin(2 * theta)) / Math.PI;\n  if (Math.abs(arg) > 1) {\n    arg = 1;\n  }\n  var lat = Math.asin(arg);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mollweide\", \"moll\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport msfnz from '../common/msfnz';\nimport mlfn from '../common/mlfn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.lat2 = this.lat2 || this.lat1;\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n\n  this.sinphi = Math.sin(this.lat1);\n  this.cosphi = Math.cos(this.lat1);\n\n  this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);\n  this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);\n\n  if (Math.abs(this.lat1 - this.lat2) < EPSLN) {\n    this.ns = this.sinphi;\n  }\n  else {\n    this.sinphi = Math.sin(this.lat2);\n    this.cosphi = Math.cos(this.lat2);\n    this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);\n    this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);\n    this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);\n  }\n  this.g = this.ml1 + this.ms1 / this.ns;\n  this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  this.rh = this.a * (this.g - this.ml0);\n}\n\n/* Equidistant Conic forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var rh1;\n\n  /* Forward equations\n      -----------------*/\n  if (this.sphere) {\n    rh1 = this.a * (this.g - lat);\n  }\n  else {\n    var ml = mlfn(this.e0, this.e1, this.e2, this.e3, lat);\n    rh1 = this.a * (this.g - ml);\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  var x = this.x0 + rh1 * Math.sin(theta);\n  var y = this.y0 + this.rh - rh1 * Math.cos(theta);\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  var con, rh1, lat, lon;\n  if (this.ns >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    lat = adjust_lat(this.g - rh1 / this.a);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    var ml = this.g - rh1 / this.a;\n    lat = imlfn(ml, this.e0, this.e1, this.e2, this.e3);\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n\n}\n\nexport var names = [\"Equidistant_Conic\", \"eqdc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n/* Initialize the Van Der Grinten projection\n  ----------------------------------------*/\nexport function init() {\n  //this.R = 6370997; //Radius of earth\n  this.R = this.a;\n}\n\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  /* Forward equations\n    -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x, y;\n\n  if (Math.abs(lat) <= EPSLN) {\n    x = this.x0 + this.R * dlon;\n    y = this.y0;\n  }\n  var theta = asinz(2 * Math.abs(lat / Math.PI));\n  if ((Math.abs(dlon) <= EPSLN) || (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN)) {\n    x = this.x0;\n    if (lat >= 0) {\n      y = this.y0 + Math.PI * this.R * Math.tan(0.5 * theta);\n    }\n    else {\n      y = this.y0 + Math.PI * this.R * -Math.tan(0.5 * theta);\n    }\n    //  return(OK);\n  }\n  var al = 0.5 * Math.abs((Math.PI / dlon) - (dlon / Math.PI));\n  var asq = al * al;\n  var sinth = Math.sin(theta);\n  var costh = Math.cos(theta);\n\n  var g = costh / (sinth + costh - 1);\n  var gsq = g * g;\n  var m = g * (2 / sinth - 1);\n  var msq = m * m;\n  var con = Math.PI * this.R * (al * (g - msq) + Math.sqrt(asq * (g - msq) * (g - msq) - (msq + asq) * (gsq - msq))) / (msq + asq);\n  if (dlon < 0) {\n    con = -con;\n  }\n  x = this.x0 + con;\n  //con = Math.abs(con / (Math.PI * this.R));\n  var q = asq + g;\n  con = Math.PI * this.R * (m * q - al * Math.sqrt((msq + asq) * (asq + 1) - q * q)) / (msq + asq);\n  if (lat >= 0) {\n    //y = this.y0 + Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 + con;\n  }\n  else {\n    //y = this.y0 - Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 - con;\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Van Der Grinten inverse equations--mapping x,y to lat/long\n  ---------------------------------------------------------*/\nexport function inverse(p) {\n  var lon, lat;\n  var xx, yy, xys, c1, c2, c3;\n  var a1;\n  var m1;\n  var con;\n  var th1;\n  var d;\n\n  /* inverse equations\n    -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  con = Math.PI * this.R;\n  xx = p.x / con;\n  yy = p.y / con;\n  xys = xx * xx + yy * yy;\n  c1 = -Math.abs(yy) * (1 + xys);\n  c2 = c1 - 2 * yy * yy + xx * xx;\n  c3 = -2 * c1 + 1 + 2 * yy * yy + xys * xys;\n  d = yy * yy / c3 + (2 * c2 * c2 * c2 / c3 / c3 / c3 - 9 * c1 * c2 / c3 / c3) / 27;\n  a1 = (c1 - c2 * c2 / 3 / c3) / c3;\n  m1 = 2 * Math.sqrt(-a1 / 3);\n  con = ((3 * d) / a1) / m1;\n  if (Math.abs(con) > 1) {\n    if (con >= 0) {\n      con = 1;\n    }\n    else {\n      con = -1;\n    }\n  }\n  th1 = Math.acos(con) / 3;\n  if (p.y >= 0) {\n    lat = (-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n  else {\n    lat = -(-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n\n  if (Math.abs(xx) < EPSLN) {\n    lon = this.long0;\n  }\n  else {\n    lon = adjust_lon(this.long0 + Math.PI * (xys - 1 + Math.sqrt(1 + 2 * (xx * xx - yy * yy) + xys * xys)) / 2 / xx);\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Van_der_Grinten_I\", \"VanDerGrinten\", \"vandg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport asinz from '../common/asinz';\nimport imlfn from '../common/imlfn';\n\n\n\nexport function init() {\n  this.sin_p12 = Math.sin(this.lat0);\n  this.cos_p12 = Math.cos(this.lat0);\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var dlon = adjust_lon(lon - this.long0);\n  var e0, e1, e2, e3, Mlp, Ml, tanphi, Nl1, Nl, psi, Az, G, H, GH, Hs, c, kp, cos_c, s, s2, s3, s4, s5;\n  if (this.sphere) {\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      p.x = this.x0 + this.a * (HALF_PI - lat) * Math.sin(dlon);\n      p.y = this.y0 - this.a * (HALF_PI - lat) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      p.x = this.x0 + this.a * (HALF_PI + lat) * Math.sin(dlon);\n      p.y = this.y0 + this.a * (HALF_PI + lat) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //default case\n      cos_c = this.sin_p12 * sinphi + this.cos_p12 * cosphi * Math.cos(dlon);\n      c = Math.acos(cos_c);\n      kp = c ? c / Math.sin(c) : 1;\n      p.x = this.x0 + this.a * kp * cosphi * Math.sin(dlon);\n      p.y = this.y0 + this.a * kp * (this.cos_p12 * sinphi - this.sin_p12 * cosphi * Math.cos(dlon));\n      return p;\n    }\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp - Ml) * Math.sin(dlon);\n      p.y = this.y0 - (Mlp - Ml) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp + Ml) * Math.sin(dlon);\n      p.y = this.y0 + (Mlp + Ml) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //Default case\n      tanphi = sinphi / cosphi;\n      Nl1 = gN(this.a, this.e, this.sin_p12);\n      Nl = gN(this.a, this.e, sinphi);\n      psi = Math.atan((1 - this.es) * tanphi + this.es * Nl1 * this.sin_p12 / (Nl * cosphi));\n      Az = Math.atan2(Math.sin(dlon), this.cos_p12 * Math.tan(psi) - this.sin_p12 * Math.cos(dlon));\n      if (Az === 0) {\n        s = Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else if (Math.abs(Math.abs(Az) - Math.PI) <= EPSLN) {\n        s = -Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else {\n        s = Math.asin(Math.sin(dlon) * Math.cos(psi) / Math.sin(Az));\n      }\n      G = this.e * this.sin_p12 / Math.sqrt(1 - this.es);\n      H = this.e * this.cos_p12 * Math.cos(Az) / Math.sqrt(1 - this.es);\n      GH = G * H;\n      Hs = H * H;\n      s2 = s * s;\n      s3 = s2 * s;\n      s4 = s3 * s;\n      s5 = s4 * s;\n      c = Nl1 * s * (1 - s2 * Hs * (1 - Hs) / 6 + s3 / 8 * GH * (1 - 2 * Hs) + s4 / 120 * (Hs * (4 - 7 * Hs) - 3 * G * G * (1 - 7 * Hs)) - s5 / 48 * GH);\n      p.x = this.x0 + c * Math.sin(Az);\n      p.y = this.y0 + c * Math.cos(Az);\n      return p;\n    }\n  }\n\n\n}\n\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var rh, z, sinz, cosz, lon, lat, con, e0, e1, e2, e3, Mlp, M, N1, psi, Az, cosAz, tmp, A, B, D, Ee, F, sinpsi;\n  if (this.sphere) {\n    rh = Math.sqrt(p.x * p.x + p.y * p.y);\n    if (rh > (2 * HALF_PI * this.a)) {\n      return;\n    }\n    z = rh / this.a;\n\n    sinz = Math.sin(z);\n    cosz = Math.cos(z);\n\n    lon = this.long0;\n    if (Math.abs(rh) <= EPSLN) {\n      lat = this.lat0;\n    }\n    else {\n      lat = asinz(cosz * this.sin_p12 + (p.y * sinz * this.cos_p12) / rh);\n      con = Math.abs(this.lat0) - HALF_PI;\n      if (Math.abs(con) <= EPSLN) {\n        if (this.lat0 >= 0) {\n          lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n        }\n        else {\n          lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n        }\n      }\n      else {\n        /*con = cosz - this.sin_p12 * Math.sin(lat);\n        if ((Math.abs(con) < EPSLN) && (Math.abs(p.x) < EPSLN)) {\n          //no-op, just keep the lon value as is\n        } else {\n          var temp = Math.atan2((p.x * sinz * this.cos_p12), (con * rh));\n          lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz * this.cos_p12), (con * rh)));\n        }*/\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * sinz, rh * this.cos_p12 * cosz - p.y * this.sin_p12 * sinz));\n      }\n    }\n\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = Mlp - rh;\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = rh - Mlp;\n\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else {\n      //default case\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      Az = Math.atan2(p.x, p.y);\n      N1 = gN(this.a, this.e, this.sin_p12);\n      cosAz = Math.cos(Az);\n      tmp = this.e * this.cos_p12 * cosAz;\n      A = -tmp * tmp / (1 - this.es);\n      B = 3 * this.es * (1 - A) * this.sin_p12 * this.cos_p12 * cosAz / (1 - this.es);\n      D = rh / N1;\n      Ee = D - A * (1 + A) * Math.pow(D, 3) / 6 - B * (1 + 3 * A) * Math.pow(D, 4) / 24;\n      F = 1 - A * Ee * Ee / 2 - D * Ee * Ee * Ee / 6;\n      psi = Math.asin(this.sin_p12 * Math.cos(Ee) + this.cos_p12 * Math.sin(Ee) * cosAz);\n      lon = adjust_lon(this.long0 + Math.asin(Math.sin(Az) * Math.sin(Ee) / Math.cos(psi)));\n      sinpsi = Math.sin(psi);\n      lat = Math.atan2((sinpsi - this.es * F * this.sin_p12) * Math.tan(psi), sinpsi * (1 - this.es));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n  }\n\n}\n\nexport var names = [\"Azimuthal_Equidistant\", \"aeqd\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nexport function init() {\n  //double temp;      /* temporary variable    */\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n}\n\n/* Orthographic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g, x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.a * ksp * cosphi * Math.sin(dlon);\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* height above ellipsoid      */\n  var z; /* angle          */\n  var sinz, cosz; /* sin of z and cos of z      */\n  var con;\n  var lon, lat;\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  z = asinz(rh / this.a);\n\n  sinz = Math.sin(z);\n  cosz = Math.cos(z);\n\n  lon = this.long0;\n  if (Math.abs(rh) <= EPSLN) {\n    lat = this.lat0;\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lat = asinz(cosz * this.sin_p14 + (p.y * sinz * this.cos_p14) / rh);\n  con = Math.abs(this.lat0) - HALF_PI;\n  if (Math.abs(con) <= EPSLN) {\n    if (this.lat0 >= 0) {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n    }\n    else {\n      lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz), rh * this.cos_p14 * cosz - p.y * this.sin_p14 * sinz));\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"ortho\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","// QSC projection rewritten from the original PROJ4\n// https://github.com/OSGeo/proj.4/blob/master/src/PJ_qsc.c\n\nimport {EPSLN, TWO_PI, SPI, HALF_PI, FORTPI} from '../constants/values';\n\n/* constants */\nvar FACE_ENUM = {\n    FRONT: 1,\n    RIGHT: 2,\n    BACK: 3,\n    LEFT: 4,\n    TOP: 5,\n    BOTTOM: 6\n};\n\nvar AREA_ENUM = {\n    AREA_0: 1,\n    AREA_1: 2,\n    AREA_2: 3,\n    AREA_3: 4\n};\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Quadrilateralized Spherical Cube\";\n\n  /* Determine the cube face from the center of projection. */\n  if (this.lat0 >= HALF_PI - FORTPI / 2.0) {\n    this.face = FACE_ENUM.TOP;\n  } else if (this.lat0 <= -(HALF_PI - FORTPI / 2.0)) {\n    this.face = FACE_ENUM.BOTTOM;\n  } else if (Math.abs(this.long0) <= FORTPI) {\n    this.face = FACE_ENUM.FRONT;\n  } else if (Math.abs(this.long0) <= HALF_PI + FORTPI) {\n    this.face = this.long0 > 0.0 ? FACE_ENUM.RIGHT : FACE_ENUM.LEFT;\n  } else {\n    this.face = FACE_ENUM.BACK;\n  }\n\n  /* Fill in useful values for the ellipsoid <-> sphere shift\n   * described in [LK12]. */\n  if (this.es !== 0) {\n    this.one_minus_f = 1 - (this.a - this.b) / this.a;\n    this.one_minus_f_squared = this.one_minus_f * this.one_minus_f;\n  }\n}\n\n// QSC forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n  var xy = {x: 0, y: 0};\n  var lat, lon;\n  var theta, phi;\n  var t, mu;\n  /* nu; */\n  var area = {value: 0};\n\n  // move lon according to projection's lon\n  p.x -= this.long0;\n\n  /* Convert the geodetic latitude to a geocentric latitude.\n   * This corresponds to the shift from the ellipsoid to the sphere\n   * described in [LK12]. */\n  if (this.es !== 0) {//if (P->es != 0) {\n    lat = Math.atan(this.one_minus_f_squared * Math.tan(p.y));\n  } else {\n    lat = p.y;\n  }\n\n  /* Convert the input lat, lon into theta, phi as used by QSC.\n   * This depends on the cube face and the area on it.\n   * For the top and bottom face, we can compute theta and phi\n   * directly from phi, lam. For the other faces, we must use\n   * unit sphere cartesian coordinates as an intermediate step. */\n  lon = p.x; //lon = lp.lam;\n  if (this.face === FACE_ENUM.TOP) {\n    phi = HALF_PI - lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = lon - HALF_PI;\n    } else if (lon > HALF_PI + FORTPI || lon <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = (lon > 0.0 ? lon - SPI : lon + SPI);\n    } else if (lon > -(HALF_PI + FORTPI) && lon <= -FORTPI) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = lon + HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = lon;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = HALF_PI + lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = -lon + HALF_PI;\n    } else if (lon < FORTPI && lon >= -FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = -lon;\n    } else if (lon < -FORTPI && lon >= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = -lon - HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = (lon > 0.0 ? -lon + SPI : -lon - SPI);\n    }\n  } else {\n    var q, r, s;\n    var sinlat, coslat;\n    var sinlon, coslon;\n\n    if (this.face === FACE_ENUM.RIGHT) {\n      lon = qsc_shift_lon_origin(lon, +HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lon = qsc_shift_lon_origin(lon, +SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lon = qsc_shift_lon_origin(lon, -HALF_PI);\n    }\n    sinlat = Math.sin(lat);\n    coslat = Math.cos(lat);\n    sinlon = Math.sin(lon);\n    coslon = Math.cos(lon);\n    q = coslat * coslon;\n    r = coslat * sinlon;\n    s = sinlat;\n\n    if (this.face === FACE_ENUM.FRONT) {\n      phi = Math.acos(q);\n      theta = qsc_fwd_equat_face_theta(phi, s, r, area);\n    } else if (this.face === FACE_ENUM.RIGHT) {\n      phi = Math.acos(r);\n      theta = qsc_fwd_equat_face_theta(phi, s, -q, area);\n    } else if (this.face === FACE_ENUM.BACK) {\n      phi = Math.acos(-q);\n      theta = qsc_fwd_equat_face_theta(phi, s, -r, area);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      phi = Math.acos(-r);\n      theta = qsc_fwd_equat_face_theta(phi, s, q, area);\n    } else {\n      /* Impossible */\n      phi = theta = 0;\n      area.value = AREA_ENUM.AREA_0;\n    }\n  }\n\n  /* Compute mu and nu for the area of definition.\n   * For mu, see Eq. (3-21) in [OL76], but note the typos:\n   * compare with Eq. (3-14). For nu, see Eq. (3-38). */\n  mu = Math.atan((12 / SPI) * (theta + Math.acos(Math.sin(theta) * Math.cos(FORTPI)) - HALF_PI));\n  t = Math.sqrt((1 - Math.cos(phi)) / (Math.cos(mu) * Math.cos(mu)) / (1 - Math.cos(Math.atan(1 / Math.cos(theta)))));\n\n  /* Apply the result to the real area. */\n  if (area.value === AREA_ENUM.AREA_1) {\n    mu += HALF_PI;\n  } else if (area.value === AREA_ENUM.AREA_2) {\n    mu += SPI;\n  } else if (area.value === AREA_ENUM.AREA_3) {\n    mu += 1.5 * SPI;\n  }\n\n  /* Now compute x, y from mu and nu */\n  xy.x = t * Math.cos(mu);\n  xy.y = t * Math.sin(mu);\n  xy.x = xy.x * this.a + this.x0;\n  xy.y = xy.y * this.a + this.y0;\n\n  p.x = xy.x;\n  p.y = xy.y;\n  return p;\n}\n\n// QSC inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n  var lp = {lam: 0, phi: 0};\n  var mu, nu, cosmu, tannu;\n  var tantheta, theta, cosphi, phi;\n  var t;\n  var area = {value: 0};\n\n  /* de-offset */\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  /* Convert the input x, y to the mu and nu angles as used by QSC.\n   * This depends on the area of the cube face. */\n  nu = Math.atan(Math.sqrt(p.x * p.x + p.y * p.y));\n  mu = Math.atan2(p.y, p.x);\n  if (p.x >= 0.0 && p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_0;\n  } else if (p.y >= 0.0 && p.y >= Math.abs(p.x)) {\n    area.value = AREA_ENUM.AREA_1;\n    mu -= HALF_PI;\n  } else if (p.x < 0.0 && -p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_2;\n    mu = (mu < 0.0 ? mu + SPI : mu - SPI);\n  } else {\n    area.value = AREA_ENUM.AREA_3;\n    mu += HALF_PI;\n  }\n\n  /* Compute phi and theta for the area of definition.\n   * The inverse projection is not described in the original paper, but some\n   * good hints can be found here (as of 2011-12-14):\n   * http://fits.gsfc.nasa.gov/fitsbits/saf.93/saf.9302\n   * (search for \"Message-Id: <9302181759.AA25477 at fits.cv.nrao.edu>\") */\n  t = (SPI / 12) * Math.tan(mu);\n  tantheta = Math.sin(t) / (Math.cos(t) - (1 / Math.sqrt(2)));\n  theta = Math.atan(tantheta);\n  cosmu = Math.cos(mu);\n  tannu = Math.tan(nu);\n  cosphi = 1 - cosmu * cosmu * tannu * tannu * (1 - Math.cos(Math.atan(1 / Math.cos(theta))));\n  if (cosphi < -1) {\n    cosphi = -1;\n  } else if (cosphi > +1) {\n    cosphi = +1;\n  }\n\n  /* Apply the result to the real area on the cube face.\n   * For the top and bottom face, we can compute phi and lam directly.\n   * For the other faces, we must use unit sphere cartesian coordinates\n   * as an intermediate step. */\n  if (this.face === FACE_ENUM.TOP) {\n    phi = Math.acos(cosphi);\n    lp.phi = HALF_PI - phi;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = (theta < 0.0 ? theta + SPI : theta - SPI);\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = theta;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = Math.acos(cosphi);\n    lp.phi = phi - HALF_PI;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = -theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = -theta;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = -theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = (theta < 0.0 ? -theta - SPI : -theta + SPI);\n    }\n  } else {\n    /* Compute phi and lam via cartesian unit sphere coordinates. */\n    var q, r, s;\n    q = cosphi;\n    t = q * q;\n    if (t >= 1) {\n      s = 0;\n    } else {\n      s = Math.sqrt(1 - t) * Math.sin(theta);\n    }\n    t += s * s;\n    if (t >= 1) {\n      r = 0;\n    } else {\n      r = Math.sqrt(1 - t);\n    }\n    /* Rotate q,r,s into the correct area. */\n    if (area.value === AREA_ENUM.AREA_1) {\n      t = r;\n      r = -s;\n      s = t;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      r = -r;\n      s = -s;\n    } else if (area.value === AREA_ENUM.AREA_3) {\n      t = r;\n      r = s;\n      s = -t;\n    }\n    /* Rotate q,r,s into the correct cube face. */\n    if (this.face === FACE_ENUM.RIGHT) {\n      t = q;\n      q = -r;\n      r = t;\n    } else if (this.face === FACE_ENUM.BACK) {\n      q = -q;\n      r = -r;\n    } else if (this.face === FACE_ENUM.LEFT) {\n      t = q;\n      q = r;\n      r = -t;\n    }\n    /* Now compute phi and lam from the unit sphere coordinates. */\n    lp.phi = Math.acos(-s) - HALF_PI;\n    lp.lam = Math.atan2(r, q);\n    if (this.face === FACE_ENUM.RIGHT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, +HALF_PI);\n    }\n  }\n\n  /* Apply the shift from the sphere to the ellipsoid as described\n   * in [LK12]. */\n  if (this.es !== 0) {\n    var invert_sign;\n    var tanphi, xa;\n    invert_sign = (lp.phi < 0 ? 1 : 0);\n    tanphi = Math.tan(lp.phi);\n    xa = this.b / Math.sqrt(tanphi * tanphi + this.one_minus_f_squared);\n    lp.phi = Math.atan(Math.sqrt(this.a * this.a - xa * xa) / (this.one_minus_f * xa));\n    if (invert_sign) {\n      lp.phi = -lp.phi;\n    }\n  }\n\n  lp.lam += this.long0;\n  p.x = lp.lam;\n  p.y = lp.phi;\n  return p;\n}\n\n/* Helper function for forward projection: compute the theta angle\n * and determine the area number. */\nfunction qsc_fwd_equat_face_theta(phi, y, x, area) {\n  var theta;\n  if (phi < EPSLN) {\n    area.value = AREA_ENUM.AREA_0;\n    theta = 0.0;\n  } else {\n    theta = Math.atan2(y, x);\n    if (Math.abs(theta) <= FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n    } else if (theta > FORTPI && theta <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta -= HALF_PI;\n    } else if (theta > HALF_PI + FORTPI || theta <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = (theta >= 0.0 ? theta - SPI : theta + SPI);\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta += HALF_PI;\n    }\n  }\n  return theta;\n}\n\n/* Helper function: shift the longitude. */\nfunction qsc_shift_lon_origin(lon, offset) {\n  var slon = lon + offset;\n  if (slon < -SPI) {\n    slon += TWO_PI;\n  } else if (slon > +SPI) {\n    slon -= TWO_PI;\n  }\n  return slon;\n}\n\nexport var names = [\"Quadrilateralized Spherical Cube\", \"Quadrilateralized_Spherical_Cube\", \"qsc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n","// Robinson projection\n// Based on https://github.com/OSGeo/proj.4/blob/master/src/PJ_robin.c\n// Polynomial coeficients from http://article.gmane.org/gmane.comp.gis.proj-4.devel/6039\n\nimport {HALF_PI, D2R, R2D, EPSLN} from '../constants/values';\nimport adjust_lon from '../common/adjust_lon';\n\nvar COEFS_X = [\n    [1.0000, 2.2199e-17, -7.15515e-05, 3.1103e-06],\n    [0.9986, -0.000482243, -2.4897e-05, -1.3309e-06],\n    [0.9954, -0.00083103, -4.48605e-05, -9.86701e-07],\n    [0.9900, -0.00135364, -5.9661e-05, 3.6777e-06],\n    [0.9822, -0.00167442, -4.49547e-06, -5.72411e-06],\n    [0.9730, -0.00214868, -9.03571e-05, 1.8736e-08],\n    [0.9600, -0.00305085, -9.00761e-05, 1.64917e-06],\n    [0.9427, -0.00382792, -6.53386e-05, -2.6154e-06],\n    [0.9216, -0.00467746, -0.00010457, 4.81243e-06],\n    [0.8962, -0.00536223, -3.23831e-05, -5.43432e-06],\n    [0.8679, -0.00609363, -0.000113898, 3.32484e-06],\n    [0.8350, -0.00698325, -6.40253e-05, 9.34959e-07],\n    [0.7986, -0.00755338, -5.00009e-05, 9.35324e-07],\n    [0.7597, -0.00798324, -3.5971e-05, -2.27626e-06],\n    [0.7186, -0.00851367, -7.01149e-05, -8.6303e-06],\n    [0.6732, -0.00986209, -0.000199569, 1.91974e-05],\n    [0.6213, -0.010418, 8.83923e-05, 6.24051e-06],\n    [0.5722, -0.00906601, 0.000182, 6.24051e-06],\n    [0.5322, -0.00677797, 0.000275608, 6.24051e-06]\n];\n\nvar COEFS_Y = [\n    [-5.20417e-18, 0.0124, 1.21431e-18, -8.45284e-11],\n    [0.0620, 0.0124, -1.26793e-09, 4.22642e-10],\n    [0.1240, 0.0124, 5.07171e-09, -1.60604e-09],\n    [0.1860, 0.0123999, -1.90189e-08, 6.00152e-09],\n    [0.2480, 0.0124002, 7.10039e-08, -2.24e-08],\n    [0.3100, 0.0123992, -2.64997e-07, 8.35986e-08],\n    [0.3720, 0.0124029, 9.88983e-07, -3.11994e-07],\n    [0.4340, 0.0123893, -3.69093e-06, -4.35621e-07],\n    [0.4958, 0.0123198, -1.02252e-05, -3.45523e-07],\n    [0.5571, 0.0121916, -1.54081e-05, -5.82288e-07],\n    [0.6176, 0.0119938, -2.41424e-05, -5.25327e-07],\n    [0.6769, 0.011713, -3.20223e-05, -5.16405e-07],\n    [0.7346, 0.0113541, -3.97684e-05, -6.09052e-07],\n    [0.7903, 0.0109107, -4.89042e-05, -1.04739e-06],\n    [0.8435, 0.0103431, -6.4615e-05, -1.40374e-09],\n    [0.8936, 0.00969686, -6.4636e-05, -8.547e-06],\n    [0.9394, 0.00840947, -0.000192841, -4.2106e-06],\n    [0.9761, 0.00616527, -0.000256, -4.2106e-06],\n    [1.0000, 0.00328947, -0.000319159, -4.2106e-06]\n];\n\nvar FXC = 0.8487;\nvar FYC = 1.3523;\nvar C1 = R2D/5; // rad to 5-degree interval\nvar RC1 = 1/C1;\nvar NODES = 18;\n\nvar poly3_val = function(coefs, x) {\n    return coefs[0] + x * (coefs[1] + x * (coefs[2] + x * coefs[3]));\n};\n\nvar poly3_der = function(coefs, x) {\n    return coefs[1] + x * (2 * coefs[2] + x * 3 * coefs[3]);\n};\n\nfunction newton_rapshon(f_df, start, max_err, iters) {\n    var x = start;\n    for (; iters; --iters) {\n        var upd = f_df(x);\n        x -= upd;\n        if (Math.abs(upd) < max_err) {\n            break;\n        }\n    }\n    return x;\n}\n\nexport function init() {\n    this.x0 = this.x0 || 0;\n    this.y0 = this.y0 || 0;\n    this.long0 = this.long0 || 0;\n    this.es = 0;\n    this.title = this.title || \"Robinson\";\n}\n\nexport function forward(ll) {\n    var lon = adjust_lon(ll.x - this.long0);\n\n    var dphi = Math.abs(ll.y);\n    var i = Math.floor(dphi * C1);\n    if (i < 0) {\n        i = 0;\n    } else if (i >= NODES) {\n        i = NODES - 1;\n    }\n    dphi = R2D * (dphi - RC1 * i);\n    var xy = {\n        x: poly3_val(COEFS_X[i], dphi) * lon,\n        y: poly3_val(COEFS_Y[i], dphi)\n    };\n    if (ll.y < 0) {\n        xy.y = -xy.y;\n    }\n\n    xy.x = xy.x * this.a * FXC + this.x0;\n    xy.y = xy.y * this.a * FYC + this.y0;\n    return xy;\n}\n\nexport function inverse(xy) {\n    var ll = {\n        x: (xy.x - this.x0) / (this.a * FXC),\n        y: Math.abs(xy.y - this.y0) / (this.a * FYC)\n    };\n\n    if (ll.y >= 1) { // pathologic case\n        ll.x /= COEFS_X[NODES][0];\n        ll.y = xy.y < 0 ? -HALF_PI : HALF_PI;\n    } else {\n        // find table interval\n        var i = Math.floor(ll.y * NODES);\n        if (i < 0) {\n            i = 0;\n        } else if (i >= NODES) {\n            i = NODES - 1;\n        }\n        for (;;) {\n            if (COEFS_Y[i][0] > ll.y) {\n                --i;\n            } else if (COEFS_Y[i+1][0] <= ll.y) {\n                ++i;\n            } else {\n                break;\n            }\n        }\n        // linear interpolation in 5 degree interval\n        var coefs = COEFS_Y[i];\n        var t = 5 * (ll.y - coefs[0]) / (COEFS_Y[i+1][0] - coefs[0]);\n        // find t so that poly3_val(coefs, t) = ll.y\n        t = newton_rapshon(function(x) {\n            return (poly3_val(coefs, x) - ll.y) / poly3_der(coefs, x);\n        }, t, EPSLN, 100);\n\n        ll.x /= poly3_val(COEFS_X[i], t);\n        ll.y = (5 * i + t) * D2R;\n        if (xy.y < 0) {\n            ll.y = -ll.y;\n        }\n    }\n\n    ll.x = adjust_lon(ll.x + this.long0);\n    return ll;\n}\n\nexport var names = [\"Robinson\", \"robin\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {\n    geodeticToGeocentric,\n    geocentricToGeodetic\n} from '../datumUtils';\n\nexport function init() {\n    this.name = 'geocent';\n\n}\n\nexport function forward(p) {\n    var point = geodeticToGeocentric(p, this.es, this.a);\n    return point;\n}\n\nexport function inverse(p) {\n    var point = geocentricToGeodetic(p, this.es, this.a, this.b);\n    return point;\n}\n\nexport var names = [\"Geocentric\", 'geocentric', \"geocent\", \"Geocent\"];\nexport default {\n    init: init,\n    forward: forward,\n    inverse: inverse,\n    names: names\n};","\nvar mode = {\n  N_POLE: 0,\n  S_POLE: 1,\n  EQUIT: 2,\n  OBLIQ: 3\n};\n\nimport { D2R, HALF_PI, EPSLN } from \"../constants/values\";\nimport hypot from \"../common/hypot\";\n\nvar params = {\n  h:     { def: 100000, num: true },           // default is Karman line, no default in PROJ.7\n  azi:   { def: 0, num: true, degrees: true }, // default is North\n  tilt:  { def: 0, num: true, degrees: true }, // default is Nadir\n  long0: { def: 0, num: true },                // default is Greenwich, conversion to rad is automatic\n  lat0:  { def: 0, num: true }                 // default is Equator, conversion to rad is automatic\n};\n\nexport function init() {\n  Object.keys(params).forEach(function (p) {\n    if (typeof this[p] === \"undefined\") {\n      this[p] = params[p].def;\n    } else if (params[p].num && isNaN(this[p])) {\n      throw new Error(\"Invalid parameter value, must be numeric \" + p + \" = \" + this[p]);\n    } else if (params[p].num) {\n      this[p] = parseFloat(this[p]);\n    }\n    if (params[p].degrees) {\n      this[p] = this[p] * D2R;\n    }\n  }.bind(this));\n\n  if (Math.abs((Math.abs(this.lat0) - HALF_PI)) < EPSLN) {\n    this.mode = this.lat0 < 0 ? mode.S_POLE : mode.N_POLE;\n  } else if (Math.abs(this.lat0) < EPSLN) {\n    this.mode = mode.EQUIT;\n  } else {\n    this.mode = mode.OBLIQ;\n    this.sinph0 = Math.sin(this.lat0);\n    this.cosph0 = Math.cos(this.lat0);\n  }\n\n  this.pn1 = this.h / this.a;  // Normalize relative to the Earth's radius\n\n  if (this.pn1 <= 0 || this.pn1 > 1e10) {\n    throw new Error(\"Invalid height\");\n  }\n  \n  this.p = 1 + this.pn1;\n  this.rp = 1 / this.p;\n  this.h1 = 1 / this.pn1;\n  this.pfact = (this.p + 1) * this.h1;\n  this.es = 0;\n\n  var omega = this.tilt;\n  var gamma = this.azi;\n  this.cg = Math.cos(gamma);\n  this.sg = Math.sin(gamma);\n  this.cw = Math.cos(omega);\n  this.sw = Math.sin(omega);\n}\n\nexport function forward(p) {\n  p.x -= this.long0;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var coslam = Math.cos(p.x);\n  var x, y;\n  switch (this.mode) {\n    case mode.OBLIQ:\n      y = this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      break;\n    case mode.EQUIT:\n      y = cosphi * coslam;\n      break;\n    case mode.S_POLE:\n      y = -sinphi;\n      break;\n    case mode.N_POLE:\n      y = sinphi;\n      break;\n  }\n  y = this.pn1 / (this.p - y);\n  x = y * cosphi * Math.sin(p.x);\n\n  switch (this.mode) {\n    case mode.OBLIQ:\n      y *= this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n      break;\n    case mode.EQUIT:\n      y *= sinphi;\n      break;\n    case mode.N_POLE:\n      y *= -(cosphi * coslam);\n      break;\n    case mode.S_POLE:\n      y *= cosphi * coslam;\n      break;\n  }\n\n  // Tilt \n  var yt, ba;\n  yt = y * this.cg + x * this.sg;\n  ba = 1 / (yt * this.sw * this.h1 + this.cw);\n  x = (x * this.cg - y * this.sg) * this.cw * ba;\n  y = yt * ba;\n\n  p.x = x * this.a;\n  p.y = y * this.a;\n  return p;\n}\n\nexport function inverse(p) {\n  p.x /= this.a;\n  p.y /= this.a;\n  var r = { x: p.x, y: p.y };\n\n  // Un-Tilt\n  var bm, bq, yt;\n  yt = 1 / (this.pn1 - p.y * this.sw);\n  bm = this.pn1 * p.x * yt;\n  bq = this.pn1 * p.y * this.cw * yt;\n  p.x = bm * this.cg + bq * this.sg;\n  p.y = bq * this.cg - bm * this.sg;\n\n  var rh = hypot(p.x, p.y);\n  if (Math.abs(rh) < EPSLN) {\n    r.x = 0;\n    r.y = p.y;\n  } else {\n    var cosz, sinz;\n    sinz = 1 - rh * rh * this.pfact;\n    sinz = (this.p - Math.sqrt(sinz)) / (this.pn1 / rh + rh / this.pn1);\n    cosz = Math.sqrt(1 - sinz * sinz);\n    switch (this.mode) {\n      case mode.OBLIQ:\n        r.y = Math.asin(cosz * this.sinph0 + p.y * sinz * this.cosph0 / rh);\n        p.y = (cosz - this.sinph0 * Math.sin(r.y)) * rh;\n        p.x *= sinz * this.cosph0;\n        break;\n      case mode.EQUIT:\n        r.y = Math.asin(p.y * sinz / rh);\n        p.y = cosz * rh;\n        p.x *= sinz;\n        break;\n      case mode.N_POLE:\n        r.y = Math.asin(cosz);\n        p.y = -p.y;\n        break;\n      case mode.S_POLE:\n        r.y = -Math.asin(cosz);\n        break;\n    }\n    r.x = Math.atan2(p.x, p.y);\n  }\n\n  p.x = r.x + this.long0;\n  p.y = r.y;\n  return p;\n}\n\nexport var names = [\"Tilted_Perspective\", \"tpers\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import tmerc from './lib/projections/tmerc';\nimport etmerc from './lib/projections/etmerc';\nimport utm from './lib/projections/utm';\nimport sterea from './lib/projections/sterea';\nimport stere from './lib/projections/stere';\nimport somerc from './lib/projections/somerc';\nimport omerc from './lib/projections/omerc';\nimport lcc from './lib/projections/lcc';\nimport krovak from './lib/projections/krovak';\nimport cass from './lib/projections/cass';\nimport laea from './lib/projections/laea';\nimport aea from './lib/projections/aea';\nimport gnom from './lib/projections/gnom';\nimport cea from './lib/projections/cea';\nimport eqc from './lib/projections/eqc';\nimport poly from './lib/projections/poly';\nimport nzmg from './lib/projections/nzmg';\nimport mill from './lib/projections/mill';\nimport sinu from './lib/projections/sinu';\nimport moll from './lib/projections/moll';\nimport eqdc from './lib/projections/eqdc';\nimport vandg from './lib/projections/vandg';\nimport aeqd from './lib/projections/aeqd';\nimport ortho from './lib/projections/ortho';\nimport qsc from './lib/projections/qsc';\nimport robin from './lib/projections/robin';\nimport geocent from './lib/projections/geocent';\nimport tpers from './lib/projections/tpers';\nexport default function(proj4){\n  proj4.Proj.projections.add(tmerc);\n  proj4.Proj.projections.add(etmerc);\n  proj4.Proj.projections.add(utm);\n  proj4.Proj.projections.add(sterea);\n  proj4.Proj.projections.add(stere);\n  proj4.Proj.projections.add(somerc);\n  proj4.Proj.projections.add(omerc);\n  proj4.Proj.projections.add(lcc);\n  proj4.Proj.projections.add(krovak);\n  proj4.Proj.projections.add(cass);\n  proj4.Proj.projections.add(laea);\n  proj4.Proj.projections.add(aea);\n  proj4.Proj.projections.add(gnom);\n  proj4.Proj.projections.add(cea);\n  proj4.Proj.projections.add(eqc);\n  proj4.Proj.projections.add(poly);\n  proj4.Proj.projections.add(nzmg);\n  proj4.Proj.projections.add(mill);\n  proj4.Proj.projections.add(sinu);\n  proj4.Proj.projections.add(moll);\n  proj4.Proj.projections.add(eqdc);\n  proj4.Proj.projections.add(vandg);\n  proj4.Proj.projections.add(aeqd);\n  proj4.Proj.projections.add(ortho);\n  proj4.Proj.projections.add(qsc);\n  proj4.Proj.projections.add(robin);\n  proj4.Proj.projections.add(geocent);\n  proj4.Proj.projections.add(tpers);\n}","import proj4 from './core';\nimport Proj from \"./Proj\";\nimport Point from \"./Point\";\nimport common from \"./common/toPoint\";\nimport defs from \"./defs\";\nimport nadgrid from \"./nadgrid\";\nimport transform from \"./transform\";\nimport mgrs from \"mgrs\";\nimport includedProjections from \"../projs\";\n\nproj4.defaultDatum = 'WGS84'; //default datum\nproj4.Proj = Proj;\nproj4.WGS84 = new proj4.Proj('WGS84');\nproj4.Point = Point;\nproj4.toPoint = common;\nproj4.defs = defs;\nproj4.nadgrid = nadgrid;\nproj4.transform = transform;\nproj4.mgrs = mgrs;\nproj4.version = '__VERSION__';\nincludedProjections(proj4);\nexport default proj4;\n","/**\n * @module ol/source/WMTSRequestEncoding\n */\n/**\n * Request encoding. One of 'KVP', 'REST'.\n * @enum {string}\n */\nexport default {\n    KVP: 'KVP',\n    REST: 'REST', // see spec 10\n};\n//# sourceMappingURL=WMTSRequestEncoding.js.map","/**\n * @module ol/uri\n */\n/**\n * Appends query parameters to a URI.\n *\n * @param {string} uri The original URI, which may already have query data.\n * @param {!Object} params An object where keys are URI-encoded parameter keys,\n *     and the values are arbitrary types or arrays.\n * @return {string} The new URI.\n */\nexport function appendParams(uri, params) {\n    var keyParams = [];\n    // Skip any null or undefined parameter values\n    Object.keys(params).forEach(function (k) {\n        if (params[k] !== null && params[k] !== undefined) {\n            keyParams.push(k + '=' + encodeURIComponent(params[k]));\n        }\n    });\n    var qs = keyParams.join('&');\n    // remove any trailing ? or &\n    uri = uri.replace(/[?&]$/, '');\n    // append ? or & depending on whether uri has existing parameters\n    uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n    return uri + qs;\n}\n//# sourceMappingURL=uri.js.map","/**\n * @module ol/tilegrid/WMTS\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport TileGrid from './TileGrid.js';\nimport { find } from '../array.js';\nimport { get as getProjection } from '../proj.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../extent.js\").Extent} [extent] Extent for the tile grid. No tiles\n * outside this extent will be requested by {@link module:ol/source/Tile} sources.\n * When no `origin` or `origins` are configured, the `origin` will be set to the\n * top-left corner of the extent.\n * @property {import(\"../coordinate.js\").Coordinate} [origin] The tile grid origin, i.e.\n * where the `x` and `y` axes meet (`[z, 0, 0]`). Tile coordinates increase left\n * to right and downwards. If not specified, `extent` or `origins` must be provided.\n * @property {Array<import(\"../coordinate.js\").Coordinate>} [origins] Tile grid origins,\n * i.e. where the `x` and `y` axes meet (`[z, 0, 0]`), for each zoom level. If\n * given, the array length should match the length of the `resolutions` array, i.e.\n * each resolution can have a different origin. Tile coordinates increase left to\n * right and downwards. If not specified, `extent` or `origin` must be provided.\n * @property {!Array<number>} resolutions Resolutions. The array index of each\n * resolution needs to match the zoom level. This means that even if a `minZoom`\n * is configured, the resolutions array will have a length of `maxZoom + 1`\n * @property {!Array<string>} matrixIds matrix IDs. The length of this array needs\n * to match the length of the `resolutions` array.\n * @property {Array<import(\"../size.js\").Size>} [sizes] Number of tile rows and columns\n * of the grid for each zoom level. The values here are the `TileMatrixWidth` and\n * `TileMatrixHeight` advertised in the GetCapabilities response of the WMTS, and\n * define each zoom level's extent together with the `origin` or `origins`.\n * A grid `extent` can be configured in addition, and will further limit the extent for\n * which tile requests are made by sources. If the bottom-left corner of\n * an extent is used as `origin` or `origins`, then the `y` value must be\n * negative because OpenLayers tile coordinates use the top left as the origin.\n * @property {number|import(\"../size.js\").Size} [tileSize] Tile size.\n * @property {Array<import(\"../size.js\").Size>} [tileSizes] Tile sizes. The length of\n * this array needs to match the length of the `resolutions` array.\n */\n/**\n * @classdesc\n * Set the grid pattern for sources accessing WMTS tiled-image servers.\n * @api\n */\nvar WMTSTileGrid = /** @class */ (function (_super) {\n    __extends(WMTSTileGrid, _super);\n    /**\n     * @param {Options} options WMTS options.\n     */\n    function WMTSTileGrid(options) {\n        var _this = _super.call(this, {\n            extent: options.extent,\n            origin: options.origin,\n            origins: options.origins,\n            resolutions: options.resolutions,\n            tileSize: options.tileSize,\n            tileSizes: options.tileSizes,\n            sizes: options.sizes,\n        }) || this;\n        /**\n         * @private\n         * @type {!Array<string>}\n         */\n        _this.matrixIds_ = options.matrixIds;\n        return _this;\n    }\n    /**\n     * @param {number} z Z.\n     * @return {string} MatrixId..\n     */\n    WMTSTileGrid.prototype.getMatrixId = function (z) {\n        return this.matrixIds_[z];\n    };\n    /**\n     * Get the list of matrix identifiers.\n     * @return {Array<string>} MatrixIds.\n     * @api\n     */\n    WMTSTileGrid.prototype.getMatrixIds = function () {\n        return this.matrixIds_;\n    };\n    return WMTSTileGrid;\n}(TileGrid));\nexport default WMTSTileGrid;\n/**\n * Create a tile grid from a WMTS capabilities matrix set and an\n * optional TileMatrixSetLimits.\n * @param {Object} matrixSet An object representing a matrixSet in the\n *     capabilities document.\n * @param {import(\"../extent.js\").Extent} [opt_extent] An optional extent to restrict the tile\n *     ranges the server provides.\n * @param {Array<Object>} [opt_matrixLimits] An optional object representing\n *     the available matrices for tileGrid.\n * @return {WMTSTileGrid} WMTS tileGrid instance.\n * @api\n */\nexport function createFromCapabilitiesMatrixSet(matrixSet, opt_extent, opt_matrixLimits) {\n    /** @type {!Array<number>} */\n    var resolutions = [];\n    /** @type {!Array<string>} */\n    var matrixIds = [];\n    /** @type {!Array<import(\"../coordinate.js\").Coordinate>} */\n    var origins = [];\n    /** @type {!Array<import(\"../size.js\").Size>} */\n    var tileSizes = [];\n    /** @type {!Array<import(\"../size.js\").Size>} */\n    var sizes = [];\n    var matrixLimits = opt_matrixLimits !== undefined ? opt_matrixLimits : [];\n    var supportedCRSPropName = 'SupportedCRS';\n    var matrixIdsPropName = 'TileMatrix';\n    var identifierPropName = 'Identifier';\n    var scaleDenominatorPropName = 'ScaleDenominator';\n    var topLeftCornerPropName = 'TopLeftCorner';\n    var tileWidthPropName = 'TileWidth';\n    var tileHeightPropName = 'TileHeight';\n    var code = matrixSet[supportedCRSPropName];\n    var projection = getProjection(code);\n    var metersPerUnit = projection.getMetersPerUnit();\n    // swap origin x and y coordinates if axis orientation is lat/long\n    var switchOriginXY = projection.getAxisOrientation().substr(0, 2) == 'ne';\n    matrixSet[matrixIdsPropName].sort(function (a, b) {\n        return b[scaleDenominatorPropName] - a[scaleDenominatorPropName];\n    });\n    matrixSet[matrixIdsPropName].forEach(function (elt) {\n        var matrixAvailable;\n        // use of matrixLimits to filter TileMatrices from GetCapabilities\n        // TileMatrixSet from unavailable matrix levels.\n        if (matrixLimits.length > 0) {\n            matrixAvailable = find(matrixLimits, function (elt_ml) {\n                if (elt[identifierPropName] == elt_ml[matrixIdsPropName]) {\n                    return true;\n                }\n                // Fallback for tileMatrix identifiers that don't get prefixed\n                // by their tileMatrixSet identifiers.\n                if (elt[identifierPropName].indexOf(':') === -1) {\n                    return (matrixSet[identifierPropName] + ':' + elt[identifierPropName] ===\n                        elt_ml[matrixIdsPropName]);\n                }\n                return false;\n            });\n        }\n        else {\n            matrixAvailable = true;\n        }\n        if (matrixAvailable) {\n            matrixIds.push(elt[identifierPropName]);\n            var resolution = (elt[scaleDenominatorPropName] * 0.28e-3) / metersPerUnit;\n            var tileWidth = elt[tileWidthPropName];\n            var tileHeight = elt[tileHeightPropName];\n            if (switchOriginXY) {\n                origins.push([\n                    elt[topLeftCornerPropName][1],\n                    elt[topLeftCornerPropName][0],\n                ]);\n            }\n            else {\n                origins.push(elt[topLeftCornerPropName]);\n            }\n            resolutions.push(resolution);\n            tileSizes.push(tileWidth == tileHeight ? tileWidth : [tileWidth, tileHeight]);\n            sizes.push([elt['MatrixWidth'], elt['MatrixHeight']]);\n        }\n    });\n    return new WMTSTileGrid({\n        extent: opt_extent,\n        origins: origins,\n        resolutions: resolutions,\n        matrixIds: matrixIds,\n        tileSizes: tileSizes,\n        sizes: sizes,\n    });\n}\n//# sourceMappingURL=WMTS.js.map","/**\n * @module ol/source/WMTS\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport TileImage from './TileImage.js';\nimport WMTSRequestEncoding from './WMTSRequestEncoding.js';\nimport { appendParams } from '../uri.js';\nimport { assign } from '../obj.js';\nimport { containsExtent } from '../extent.js';\nimport { createFromCapabilitiesMatrixSet } from '../tilegrid/WMTS.js';\nimport { createFromTileUrlFunctions, expandUrl } from '../tileurlfunction.js';\nimport { equivalent, get as getProjection, transformExtent } from '../proj.js';\nimport { find, findIndex, includes } from '../array.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {import(\"../tilegrid/WMTS.js\").default} tileGrid Tile grid.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"./WMTSRequestEncoding.js\").default|string} [requestEncoding='KVP'] Request encoding.\n * @property {string} layer Layer name as advertised in the WMTS capabilities.\n * @property {string} style Style name as advertised in the WMTS capabilities.\n * @property {typeof import(\"../ImageTile.js\").default} [tileClass]  Class used to instantiate image tiles. Default is {@link module:ol/ImageTile~ImageTile}.\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service.\n * For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n * should be set to `2`.\n * @property {string} [format='image/jpeg'] Image format. Only used when `requestEncoding` is `'KVP'`.\n * @property {string} [version='1.0.0'] WMTS version.\n * @property {string} matrixSet Matrix set.\n * @property {!Object} [dimensions] Additional \"dimensions\" for tile requests.\n * This is an object with properties named like the advertised WMTS dimensions.\n * @property {string} [url]  A URL for the service.\n * For the RESTful request encoding, this is a URL\n * template.  For KVP encoding, it is normal URL. A `{?-?}` template pattern,\n * for example `subdomain{a-f}.domain.com`, may be used instead of defining\n * each one separately in the `urls` option.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {Array<string>} [urls] An array of URLs.\n * Requests will be distributed among the URLs in this array.\n * @property {boolean} [wrapX=false] Whether to wrap the world horizontally.\n * @property {number} [transition] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Layer source for tile data from WMTS servers.\n * @api\n */\nvar WMTS = /** @class */ (function (_super) {\n    __extends(WMTS, _super);\n    /**\n     * @param {Options} options WMTS options.\n     */\n    function WMTS(options) {\n        // TODO: add support for TileMatrixLimits\n        var _this = this;\n        var requestEncoding = options.requestEncoding !== undefined\n            ? /** @type {import(\"./WMTSRequestEncoding.js\").default} */ (options.requestEncoding)\n            : WMTSRequestEncoding.KVP;\n        // FIXME: should we create a default tileGrid?\n        // we could issue a getCapabilities xhr to retrieve missing configuration\n        var tileGrid = options.tileGrid;\n        var urls = options.urls;\n        if (urls === undefined && options.url !== undefined) {\n            urls = expandUrl(options.url);\n        }\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            attributionsCollapsible: options.attributionsCollapsible,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            imageSmoothing: options.imageSmoothing,\n            projection: options.projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileClass: options.tileClass,\n            tileGrid: tileGrid,\n            tileLoadFunction: options.tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            urls: urls,\n            wrapX: options.wrapX !== undefined ? options.wrapX : false,\n            transition: options.transition,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.version_ = options.version !== undefined ? options.version : '1.0.0';\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.format_ = options.format !== undefined ? options.format : 'image/jpeg';\n        /**\n         * @private\n         * @type {!Object}\n         */\n        _this.dimensions_ =\n            options.dimensions !== undefined ? options.dimensions : {};\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.layer_ = options.layer;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.matrixSet_ = options.matrixSet;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.style_ = options.style;\n        // FIXME: should we guess this requestEncoding from options.url(s)\n        //        structure? that would mean KVP only if a template is not provided.\n        /**\n         * @private\n         * @type {import(\"./WMTSRequestEncoding.js\").default}\n         */\n        _this.requestEncoding_ = requestEncoding;\n        _this.setKey(_this.getKeyForDimensions_());\n        if (urls && urls.length > 0) {\n            _this.tileUrlFunction = createFromTileUrlFunctions(urls.map(_this.createFromWMTSTemplate.bind(_this)));\n        }\n        return _this;\n    }\n    /**\n     * Set the URLs to use for requests.\n     * URLs may contain OGC conform URL Template Variables: {TileMatrix}, {TileRow}, {TileCol}.\n     * @param {Array<string>} urls URLs.\n     */\n    WMTS.prototype.setUrls = function (urls) {\n        this.urls = urls;\n        var key = urls.join('\\n');\n        this.setTileUrlFunction(createFromTileUrlFunctions(urls.map(this.createFromWMTSTemplate.bind(this))), key);\n    };\n    /**\n     * Get the dimensions, i.e. those passed to the constructor through the\n     * \"dimensions\" option, and possibly updated using the updateDimensions\n     * method.\n     * @return {!Object} Dimensions.\n     * @api\n     */\n    WMTS.prototype.getDimensions = function () {\n        return this.dimensions_;\n    };\n    /**\n     * Return the image format of the WMTS source.\n     * @return {string} Format.\n     * @api\n     */\n    WMTS.prototype.getFormat = function () {\n        return this.format_;\n    };\n    /**\n     * Return the layer of the WMTS source.\n     * @return {string} Layer.\n     * @api\n     */\n    WMTS.prototype.getLayer = function () {\n        return this.layer_;\n    };\n    /**\n     * Return the matrix set of the WMTS source.\n     * @return {string} MatrixSet.\n     * @api\n     */\n    WMTS.prototype.getMatrixSet = function () {\n        return this.matrixSet_;\n    };\n    /**\n     * Return the request encoding, either \"KVP\" or \"REST\".\n     * @return {import(\"./WMTSRequestEncoding.js\").default} Request encoding.\n     * @api\n     */\n    WMTS.prototype.getRequestEncoding = function () {\n        return this.requestEncoding_;\n    };\n    /**\n     * Return the style of the WMTS source.\n     * @return {string} Style.\n     * @api\n     */\n    WMTS.prototype.getStyle = function () {\n        return this.style_;\n    };\n    /**\n     * Return the version of the WMTS source.\n     * @return {string} Version.\n     * @api\n     */\n    WMTS.prototype.getVersion = function () {\n        return this.version_;\n    };\n    /**\n     * @private\n     * @return {string} The key for the current dimensions.\n     */\n    WMTS.prototype.getKeyForDimensions_ = function () {\n        var i = 0;\n        var res = [];\n        for (var key in this.dimensions_) {\n            res[i++] = key + '-' + this.dimensions_[key];\n        }\n        return res.join('/');\n    };\n    /**\n     * Update the dimensions.\n     * @param {Object} dimensions Dimensions.\n     * @api\n     */\n    WMTS.prototype.updateDimensions = function (dimensions) {\n        assign(this.dimensions_, dimensions);\n        this.setKey(this.getKeyForDimensions_());\n    };\n    /**\n     * @param {string} template Template.\n     * @return {import(\"../Tile.js\").UrlFunction} Tile URL function.\n     */\n    WMTS.prototype.createFromWMTSTemplate = function (template) {\n        var requestEncoding = this.requestEncoding_;\n        // context property names are lower case to allow for a case insensitive\n        // replacement as some services use different naming conventions\n        var context = {\n            'layer': this.layer_,\n            'style': this.style_,\n            'tilematrixset': this.matrixSet_,\n        };\n        if (requestEncoding == WMTSRequestEncoding.KVP) {\n            assign(context, {\n                'Service': 'WMTS',\n                'Request': 'GetTile',\n                'Version': this.version_,\n                'Format': this.format_,\n            });\n        }\n        // TODO: we may want to create our own appendParams function so that params\n        // order conforms to wmts spec guidance, and so that we can avoid to escape\n        // special template params\n        template =\n            requestEncoding == WMTSRequestEncoding.KVP\n                ? appendParams(template, context)\n                : template.replace(/\\{(\\w+?)\\}/g, function (m, p) {\n                    return p.toLowerCase() in context ? context[p.toLowerCase()] : m;\n                });\n        var tileGrid = /** @type {import(\"../tilegrid/WMTS.js\").default} */ (this.tileGrid);\n        var dimensions = this.dimensions_;\n        return (\n        /**\n         * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n         * @param {number} pixelRatio Pixel ratio.\n         * @param {import(\"../proj/Projection.js\").default} projection Projection.\n         * @return {string|undefined} Tile URL.\n         */\n        function (tileCoord, pixelRatio, projection) {\n            if (!tileCoord) {\n                return undefined;\n            }\n            else {\n                var localContext_1 = {\n                    'TileMatrix': tileGrid.getMatrixId(tileCoord[0]),\n                    'TileCol': tileCoord[1],\n                    'TileRow': tileCoord[2],\n                };\n                assign(localContext_1, dimensions);\n                var url = template;\n                if (requestEncoding == WMTSRequestEncoding.KVP) {\n                    url = appendParams(url, localContext_1);\n                }\n                else {\n                    url = url.replace(/\\{(\\w+?)\\}/g, function (m, p) {\n                        return localContext_1[p];\n                    });\n                }\n                return url;\n            }\n        });\n    };\n    return WMTS;\n}(TileImage));\nexport default WMTS;\n/**\n * Generate source options from a capabilities object.\n * @param {Object} wmtsCap An object representing the capabilities document.\n * @param {!Object} config Configuration properties for the layer.  Defaults for\n *                  the layer will apply if not provided.\n *\n * Required config properties:\n *  - layer - {string} The layer identifier.\n *\n * Optional config properties:\n *  - matrixSet - {string} The matrix set identifier, required if there is\n *       more than one matrix set in the layer capabilities.\n *  - projection - {string} The desired CRS when no matrixSet is specified.\n *       eg: \"EPSG:3857\". If the desired projection is not available,\n *       an error is thrown.\n *  - requestEncoding - {string} url encoding format for the layer. Default is\n *       the first tile url format found in the GetCapabilities response.\n *  - style - {string} The name of the style\n *  - format - {string} Image format for the layer. Default is the first\n *       format returned in the GetCapabilities response.\n *  - crossOrigin - {string|null|undefined} Cross origin. Default is `undefined`.\n * @return {?Options} WMTS source options object or `null` if the layer was not found.\n * @api\n */\nexport function optionsFromCapabilities(wmtsCap, config) {\n    var layers = wmtsCap['Contents']['Layer'];\n    var l = find(layers, function (elt, index, array) {\n        return elt['Identifier'] == config['layer'];\n    });\n    if (l === null) {\n        return null;\n    }\n    var tileMatrixSets = wmtsCap['Contents']['TileMatrixSet'];\n    var idx;\n    if (l['TileMatrixSetLink'].length > 1) {\n        if ('projection' in config) {\n            idx = findIndex(l['TileMatrixSetLink'], function (elt, index, array) {\n                var tileMatrixSet = find(tileMatrixSets, function (el) {\n                    return el['Identifier'] == elt['TileMatrixSet'];\n                });\n                var supportedCRS = tileMatrixSet['SupportedCRS'];\n                var proj1 = getProjection(supportedCRS);\n                var proj2 = getProjection(config['projection']);\n                if (proj1 && proj2) {\n                    return equivalent(proj1, proj2);\n                }\n                else {\n                    return supportedCRS == config['projection'];\n                }\n            });\n        }\n        else {\n            idx = findIndex(l['TileMatrixSetLink'], function (elt, index, array) {\n                return elt['TileMatrixSet'] == config['matrixSet'];\n            });\n        }\n    }\n    else {\n        idx = 0;\n    }\n    if (idx < 0) {\n        idx = 0;\n    }\n    var matrixSet = \n    /** @type {string} */\n    (l['TileMatrixSetLink'][idx]['TileMatrixSet']);\n    var matrixLimits = \n    /** @type {Array<Object>} */\n    (l['TileMatrixSetLink'][idx]['TileMatrixSetLimits']);\n    var format = /** @type {string} */ (l['Format'][0]);\n    if ('format' in config) {\n        format = config['format'];\n    }\n    idx = findIndex(l['Style'], function (elt, index, array) {\n        if ('style' in config) {\n            return elt['Title'] == config['style'];\n        }\n        else {\n            return elt['isDefault'];\n        }\n    });\n    if (idx < 0) {\n        idx = 0;\n    }\n    var style = /** @type {string} */ (l['Style'][idx]['Identifier']);\n    var dimensions = {};\n    if ('Dimension' in l) {\n        l['Dimension'].forEach(function (elt, index, array) {\n            var key = elt['Identifier'];\n            var value = elt['Default'];\n            if (value === undefined) {\n                value = elt['Value'][0];\n            }\n            dimensions[key] = value;\n        });\n    }\n    var matrixSets = wmtsCap['Contents']['TileMatrixSet'];\n    var matrixSetObj = find(matrixSets, function (elt, index, array) {\n        return elt['Identifier'] == matrixSet;\n    });\n    var projection;\n    var code = matrixSetObj['SupportedCRS'];\n    if (code) {\n        projection = getProjection(code);\n    }\n    if ('projection' in config) {\n        var projConfig = getProjection(config['projection']);\n        if (projConfig) {\n            if (!projection || equivalent(projConfig, projection)) {\n                projection = projConfig;\n            }\n        }\n    }\n    var wrapX = false;\n    var switchOriginXY = projection.getAxisOrientation().substr(0, 2) == 'ne';\n    var matrix = matrixSetObj.TileMatrix[0];\n    // create default matrixLimit\n    var selectedMatrixLimit = {\n        MinTileCol: 0,\n        MinTileRow: 0,\n        // subtract one to end up at tile top left\n        MaxTileCol: matrix.MatrixWidth - 1,\n        MaxTileRow: matrix.MatrixHeight - 1,\n    };\n    //in case of matrix limits, use matrix limits to calculate extent\n    if (matrixLimits) {\n        selectedMatrixLimit = matrixLimits[matrixLimits.length - 1];\n        var m = find(matrixSetObj.TileMatrix, function (tileMatrixValue) {\n            return tileMatrixValue.Identifier === selectedMatrixLimit.TileMatrix ||\n                matrixSetObj.Identifier + ':' + tileMatrixValue.Identifier ===\n                    selectedMatrixLimit.TileMatrix;\n        });\n        if (m) {\n            matrix = m;\n        }\n    }\n    var resolution = (matrix.ScaleDenominator * 0.00028) / projection.getMetersPerUnit(); // WMTS 1.0.0: standardized rendering pixel size\n    var origin = switchOriginXY\n        ? [matrix.TopLeftCorner[1], matrix.TopLeftCorner[0]]\n        : matrix.TopLeftCorner;\n    var tileSpanX = matrix.TileWidth * resolution;\n    var tileSpanY = matrix.TileHeight * resolution;\n    var matrixSetExtent = matrixSetObj['BoundingBox'];\n    var extent = [\n        origin[0] + tileSpanX * selectedMatrixLimit.MinTileCol,\n        // add one to get proper bottom/right coordinate\n        origin[1] - tileSpanY * (1 + selectedMatrixLimit.MaxTileRow),\n        origin[0] + tileSpanX * (1 + selectedMatrixLimit.MaxTileCol),\n        origin[1] - tileSpanY * selectedMatrixLimit.MinTileRow,\n    ];\n    if (matrixSetExtent !== undefined &&\n        !containsExtent(matrixSetExtent, extent)) {\n        var wgs84BoundingBox = l['WGS84BoundingBox'];\n        var wgs84ProjectionExtent = getProjection('EPSG:4326').getExtent();\n        extent = matrixSetExtent;\n        if (wgs84BoundingBox) {\n            wrapX =\n                wgs84BoundingBox[0] === wgs84ProjectionExtent[0] &&\n                    wgs84BoundingBox[2] === wgs84ProjectionExtent[2];\n        }\n        else {\n            var wgs84MatrixSetExtent = transformExtent(matrixSetExtent, matrixSetObj['SupportedCRS'], 'EPSG:4326');\n            // Ignore slight deviation from the correct x limits\n            wrapX =\n                wgs84MatrixSetExtent[0] - 1e-10 <= wgs84ProjectionExtent[0] &&\n                    wgs84MatrixSetExtent[2] + 1e-10 >= wgs84ProjectionExtent[2];\n        }\n    }\n    var tileGrid = createFromCapabilitiesMatrixSet(matrixSetObj, extent, matrixLimits);\n    /** @type {!Array<string>} */\n    var urls = [];\n    var requestEncoding = config['requestEncoding'];\n    requestEncoding = requestEncoding !== undefined ? requestEncoding : '';\n    if ('OperationsMetadata' in wmtsCap &&\n        'GetTile' in wmtsCap['OperationsMetadata']) {\n        var gets = wmtsCap['OperationsMetadata']['GetTile']['DCP']['HTTP']['Get'];\n        for (var i = 0, ii = gets.length; i < ii; ++i) {\n            if (gets[i]['Constraint']) {\n                var constraint = find(gets[i]['Constraint'], function (element) {\n                    return element['name'] == 'GetEncoding';\n                });\n                var encodings = constraint['AllowedValues']['Value'];\n                if (requestEncoding === '') {\n                    // requestEncoding not provided, use the first encoding from the list\n                    requestEncoding = encodings[0];\n                }\n                if (requestEncoding === WMTSRequestEncoding.KVP) {\n                    if (includes(encodings, WMTSRequestEncoding.KVP)) {\n                        urls.push(/** @type {string} */ (gets[i]['href']));\n                    }\n                }\n                else {\n                    break;\n                }\n            }\n            else if (gets[i]['href']) {\n                requestEncoding = WMTSRequestEncoding.KVP;\n                urls.push(/** @type {string} */ (gets[i]['href']));\n            }\n        }\n    }\n    if (urls.length === 0) {\n        requestEncoding = WMTSRequestEncoding.REST;\n        l['ResourceURL'].forEach(function (element) {\n            if (element['resourceType'] === 'tile') {\n                format = element['format'];\n                urls.push(/** @type {string} */ (element['template']));\n            }\n        });\n    }\n    return {\n        urls: urls,\n        layer: config['layer'],\n        matrixSet: matrixSet,\n        format: format,\n        projection: projection,\n        requestEncoding: requestEncoding,\n        tileGrid: tileGrid,\n        style: style,\n        dimensions: dimensions,\n        wrapX: wrapX,\n        crossOrigin: config['crossOrigin'],\n    };\n}\n//# sourceMappingURL=WMTS.js.map","<!---->\r\n<template>\r\n  <div class=\"mapPane\">\r\n    <!---->\r\n    <div id=\"map\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// OpenLayers\r\nimport \"ol-layerswitcher/dist/ol-layerswitcher.css\";\r\nimport \"ol/ol.css\";\r\nimport Graticule from \"ol/layer/Graticule\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport OSM from \"ol/source/OSM\";\r\nimport Map from \"ol/Map\";\r\nimport View from \"ol/View\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport TileDebug from \"ol/source/TileDebug\";\r\nimport XYZ from \"ol/source/XYZ\";\r\n\r\nimport LayerGroup from \"ol/layer/Group\";\r\nimport SourceOSM from \"ol/source/OSM\";\r\nimport SourceStamen from \"ol/source/Stamen\";\r\n\r\nimport { transform } from \"ol/proj\";\r\nimport { applyTransform } from \"ol/extent\";\r\nimport { get as getProjection, getTransform } from \"ol/proj\";\r\nimport { register } from \"ol/proj/proj4\";\r\nimport proj4 from \"proj4\";\r\n\r\nimport WMTS from \"ol/source/WMTS\";\r\nimport WMTSTileGrid from \"ol/tilegrid/WMTS\";\r\nimport { getTopLeft, getWidth } from \"ol/extent\";\r\n\r\nimport {\r\n  ScaleLine,\r\n  OverviewMap,\r\n  // defaults as defaultControls,\r\n} from \"ol/control\";\r\nimport LayerSwitcher from \"ol-layerswitcher\";\r\n// \r\n// import sync from \"ol-hashed\";\r\n\r\nexport default {\r\n  name: \"MapPane\",\r\n  data() {\r\n    return {\r\n      map: null,\r\n      scaleText: 0,\r\n      layer: [],\r\n      proj4Data: {\r\n        EPSG2447: {\r\n          code: \"2447\",\r\n          name: \"JGD2000 / Japan Plane Rectangular CS V\",\r\n          def: \"+proj=tmerc +lat_0=36 +lon_0=134.3333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\r\n          bbox: [35.71, 133.13, 34.13, 135.47],\r\n        },\r\n        EPSG2448: {\r\n          code: \"2448\",\r\n          name: \"JGD2000 / Japan Plane Rectangular CS VI\",\r\n          def: \"+proj=tmerc +lat_0=36 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\r\n          bbox: [36.33, 134.86, 33.4, 136.99],\r\n        },\r\n        EPSG30165: {\r\n          code: \"30165\",\r\n          name: \"Tokyo / Japan Plane Rectangular CS V\",\r\n          def: \"+proj=tmerc +lat_0=36 +lon_0=134.3333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +towgs84=-146.414,507.337,680.507,0,0,0,0 +units=m +no_defs\",\r\n          bbox: [35.71, 133.13, 34.13, 135.47],\r\n        },\r\n        EPSG30166: {\r\n          code: \"30166\",\r\n          name: \"Tokyo / Japan Plane Rectangular CS VI\",\r\n          def: \"+proj=tmerc +lat_0=36 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +towgs84=-146.414,507.337,680.507,0,0,0,0 +units=m +no_defs\",\r\n          bbox: [36.33, 134.86, 33.4, 136.99],\r\n        },\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    osmSource() {\r\n      return new OSM();\r\n    },\r\n    debugLayer() {\r\n      return new TileLayer({\r\n        title: \"DebugLayer\",\r\n        source: new TileDebug({\r\n          tileGrid: this.osmSource.getTileGrid(),\r\n          projection: this.osmSource.getProjection(),\r\n        }),\r\n        visible: false,\r\n      });\r\n    },\r\n    graticule() {\r\n      return new Graticule({\r\n        title: \"Graticule\",\r\n        // the style to use for the lines, optional.\r\n        strokeStyle: new Stroke({\r\n          color: \"rgba(255,120,0,0.9)\",\r\n          width: 2,\r\n          lineDash: [0.5, 4],\r\n        }),\r\n        showLabels: true,\r\n        visible: false,\r\n        wrapX: false,\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    search() {\r\n      // resultSpan.innerHTML = 'Searching ...';\r\n      // fetch('https://epsg.io/?format=json&q=' + query)\r\n      //   .then(function (response) {\r\n      //     return response.json();\r\n      //   })\r\n      //   .then(function (json) {\r\n      //     const results = json['results'];\r\n      //     if (results && results.length > 0) {\r\n      //       for (let i = 0, ii = results.length; i < ii; i++) {\r\n      //         const result = results[i];\r\n      //         if (result) {\r\n      //           const code = result['code'];\r\n      //           const name = result['name'];\r\n      //           const proj4def = result['proj4'];\r\n      //           const bbox = result['bbox'];\r\n      //           if (\r\n      //             code &&\r\n      //             code.length > 0 &&\r\n      //             proj4def &&\r\n      //             proj4def.length > 0 &&\r\n      //             bbox &&\r\n      //             bbox.length == 4\r\n      //           ) {\r\n      //             setProjection(code, name, proj4def, bbox);\r\n      //             return;\r\n      //           }\r\n      //         }\r\n      //       }\r\n      //     }\r\n      //     setProjection(null, null, null, null);\r\n      //   });\r\n    },\r\n    initLayer() {\r\n      // // \r\n      // var std_layer = new XYZ(\r\n      //   \"\", // \r\n      //   \"https://cyberjapandata.gsi.go.jp/xyz/std/${z}/${x}/${y}.png\", // url\r\n      //   {\r\n      //     // options(attribution:,minZoomLevel:(),maxZoomLevel:)\r\n      //     attribution:\r\n      //       \"<a href='http://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html' target='_blank'></a>\",\r\n      //     maxZoomLevel: 18,\r\n      //   }\r\n      // );\r\n\r\n      // var blank_layer = new XYZ(\r\n      //   \"\", // \r\n      //   \"https://cyberjapandata.gsi.go.jp/xyz/blank/${z}/${x}/${y}.png\", // url\r\n      //   {\r\n      //     // options(attribution:,minZoomLevel:(),maxZoomLevel:)\r\n      //     attribution:\r\n      //       \"<a href='http://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html' target='_blank'></a>\",\r\n      //     maxZoomLevel: 18,\r\n      //   }\r\n      // );\r\n      const osm = new TileLayer({\r\n        title: \"OSM\",\r\n        type: \"base\",\r\n        visible: true,\r\n        source: new SourceOSM(),\r\n      });\r\n\r\n      const watercolor = new TileLayer({\r\n        title: \"Water color\",\r\n        type: \"base\",\r\n        visible: false,\r\n        source: new SourceStamen({\r\n          layer: \"watercolor\",\r\n        }),\r\n      });\r\n\r\n      const mierune = new TileLayer({\r\n        title: \"mierune\",\r\n        type: \"base\",\r\n        visible: false,\r\n        source: new XYZ({\r\n          url: \"https://tile.mierune.co.jp/mierune_mono/{z}/{x}/{y}.png\",\r\n          attributions:\r\n            'Maptiles by <a href=\"http://mierune.co.jp\" target=\"_blank\">MIERUNE</a>, under CC BY. Data by <a href=\"http://osm.org/copyright\" target=\"_blank\">OpenStreetMap</a> contributors, under ODbL.',\r\n          attributionsCollapsible: false,\r\n          tileSize: [256, 256],\r\n          minZoom: 0,\r\n          maxZoom: 18,\r\n        }),\r\n      });\r\n      const tile_osm = new TileLayer({\r\n        title: \"osm_tile\",\r\n        opacity: 0.5,\r\n        source: this.osmSource,\r\n      });\r\n\r\n      const _proj = this.proj4Data[\"EPSG2447\"];\r\n      this.setProj4(_proj);\r\n      const projection = this.getProjExtent(_proj);\r\n      const projectionExtent = projection.getExtent();\r\n      const size = getWidth(projectionExtent) / 256;\r\n      const resolutions = new Array(19);\r\n      const matrixIds = new Array(19);\r\n      for (let z = 0; z < 19; ++z) {\r\n        // generate resolutions and matrixIds arrays for this WMTS\r\n        resolutions[z] = size / Math.pow(2, z);\r\n        matrixIds[z] = `EPSG:2447:${z}`; //z;\r\n      }\r\n      const wmts = new TileLayer({\r\n        title: \"WMTS\",\r\n        source: new WMTS({\r\n          attributions:\r\n            'Tiles  <a href=\"https://mrdata.usgs.gov/geology/state/\"' +\r\n            ' target=\"_blank\">USGS</a>',\r\n          // url: \"https://mrdata.usgs.gov/mapcache/wmts\",\r\n          url: \"http;//harima-isk:8080/geoserver/gwc/service/wmts\",\r\n          layer: \"harima_bunkazai:\",\r\n          matrixSet: \"EPSG:2447\",\r\n          format: \"image/png\",\r\n\r\n          tileGrid: new WMTSTileGrid({\r\n            origin: getTopLeft(projectionExtent),\r\n            resolutions: resolutions,\r\n            matrixIds: matrixIds,\r\n          }),\r\n          style: \"default\",\r\n          wrapX: true,\r\n          opacity: 0.7,\r\n          isBaseLayer: false,\r\n        }),\r\n      });\r\n\r\n      this.addLayer(osm);\r\n      this.addLayer(watercolor);\r\n      this.addLayer(mierune);\r\n      this.addLayer(tile_osm);\r\n      this.addLayer(this.debugLayer);\r\n      this.addLayer(this.graticule);\r\n      this.addLayer(wmts);\r\n    },\r\n    setMap() {\r\n      this.initLayer();\r\n      const baseMaps = new LayerGroup({\r\n        title: \"Base maps\",\r\n        layers: this.layer,\r\n      });\r\n\r\n      const layerSwitcher = new LayerSwitcher({\r\n        reverse: true,\r\n        groupSelectStyle: \"group\",\r\n      });\r\n\r\n      this.map = new Map({\r\n        target: \"map\",\r\n        layers: baseMaps,\r\n        view: new View({\r\n          projection: \"EPSG:3857\",\r\n          center: [0, 0],\r\n          zoom: 1,\r\n        }),\r\n      });\r\n\r\n      this.map.addControl(layerSwitcher);\r\n      this.map.addControl(new ScaleLine());\r\n      this.map.addControl(new OverviewMap());\r\n    },\r\n\r\n    addLayer(layer) {\r\n      this.layer.push(layer);\r\n    },\r\n    setProj4(projection) {\r\n      console.log(projection.name);\r\n      const newProjCode = \"EPSG:\" + projection.code;\r\n      proj4.defs(newProjCode, projection.def);\r\n      register(proj4);\r\n    },\r\n    getProjExtent(projection) {\r\n      const code = projection.code;\r\n      const bbox = projection.bbox;\r\n      const newProjCode = \"EPSG:\" + code;\r\n      const newProj = getProjection(newProjCode);\r\n      const fromLonLat = getTransform(\"EPSG:4326\", newProj);\r\n      let worldExtent = [bbox[1], bbox[2], bbox[3], bbox[0]];\r\n      newProj.setWorldExtent(worldExtent);\r\n\r\n      // approximate calculation of projection extent,\r\n      // checking if the world extent crosses the dateline\r\n      if (bbox[1] > bbox[3]) {\r\n        worldExtent = [bbox[1], bbox[2], bbox[3] + 360, bbox[0]];\r\n      }\r\n      const extent = applyTransform(worldExtent, fromLonLat, undefined, 8);\r\n      newProj.setExtent(extent);\r\n      return newProj;\r\n    },\r\n\r\n    setProjection(projection) {\r\n      this.setProj4(projection);\r\n      const newProj = this.getProjExtent(projection);\r\n      const extent = newProj.getExtent();\r\n\r\n      const newView = new View({\r\n        projection: newProj,\r\n      });\r\n      this.map.setView(newView);\r\n      newView.fit(extent);\r\n    },\r\n    setView() {},\r\n    // \r\n    mapCreate() {\r\n      //\r\n      const projection2447 = getProjection(\"EPSG:2447\");\r\n      const projectionExtent = projection2447.getExtent();\r\n      const size = getWidth(projectionExtent) / 256;\r\n      console.log(size);\r\n      const resolutions = new Array(19);\r\n      const matrixIds = new Array(19);\r\n      for (let z = 0; z < 19; ++z) {\r\n        // generate resolutions and matrixIds arrays for this WMTS\r\n        resolutions[z] = size / Math.pow(2, z);\r\n        matrixIds[z] = z;\r\n      }\r\n\r\n      const harima_wmts = new TileLayer({\r\n        title: \"harima_wmts\",\r\n        opacity: 0.5,\r\n        type: \"base\",\r\n        visible: false,\r\n        source: new WMTS({\r\n          url: \"http;//harima-isk:8080/geoserver/gwc/service/wmts?REQUEST=GetCapabilities\",\r\n          attributions:\r\n            'Maptiles by <a href=\"http://mierune.co.jp\" target=\"_blank\">MIERUNE</a>, under CC BY. Data by <a href=\"http://osm.org/copyright\" target=\"_blank\">OpenStreetMap</a> contributors, under ODbL.',\r\n          attributionsCollapsible: false,\r\n          format: \"image/png\",\r\n          projection: projection2447,\r\n          tileGrid: new WMTSTileGrid({\r\n            origin: getTopLeft(projectionExtent),\r\n            resolutions: resolutions,\r\n            matrixIds: matrixIds,\r\n          }),\r\n          style: \"default\",\r\n          wrapX: true,\r\n        }),\r\n      });\r\n      this.addLayer(harima_wmts);\r\n      this.map.updateSize();\r\n    },\r\n    mapClick(event) {\r\n      //\r\n      console.log(event);\r\n      const lonlat = transform(event.coordinate, \"EPSG:3857\", \"EPSG:4326\");\r\n      //\r\n      alert(\"lat: \" + lonlat[1] + \", lat: \" + lonlat[0]);\r\n    },\r\n  },\r\n  mounted() {\r\n    // this.mapCreate();\r\n    this.setMap();\r\n    const _proj = this.proj4Data[\"EPSG2447\"];\r\n    this.setProjection(_proj);\r\n    // \r\n    // this.mapCreate();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/**/\r\n#map {\r\n  z-index: 0;\r\n  height: 600px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPane.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPane.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapPane.vue?vue&type=template&id=61903772&scoped=true&\"\nimport script from \"./MapPane.vue?vue&type=script&lang=js&\"\nexport * from \"./MapPane.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapPane.vue?vue&type=style&index=0&id=61903772&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61903772\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"about\">\r\n    <!---->\r\n    <MapPane></MapPane>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// \r\nimport MapPane from \"@/components/MapPane.vue\";\r\n\r\nexport default {\r\n  name: \"about\",\r\n  components: {\r\n    MapPane,\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=f8dedf3e&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}